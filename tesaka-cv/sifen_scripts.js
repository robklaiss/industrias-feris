"use strict";angular.module("consultaspublicasApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngStorage","ngSanitize","ngTouch","ui.router","ngRoute","ui.select","vcRecaptcha","ui.bootstrap","ui.select","angularMoment","moment-picker"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){d.defaults.withCredentials=!0,c.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!0}),a.state("main",{url:"/:cdc",templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).state("main150",{url:"/150/:cdc",templateUrl:"views/main.html",controller:"Main150Ctrl",controllerAs:"main"}).state("principal",{url:"/",templateUrl:"views/principal.html",controller:"PrincipalCtrl",controllerAs:"principal"}).state("formqr",{url:"/qr?nVersion&id&dFeEmiDE&dRucRec&dTotOpe&dTotIVA&cItems&DigestValue&cIdCSC&cHashQRCode",templateUrl:"views/formqr.html",controller:"FormqrCtrl",controllerAs:"formqr"}).state("vistade",{url:"/de",templateUrl:"views/vistade.html",controller:"VistadeCtrl",controllerAs:"vistade"}),b.otherwise("/")}]),angular.module("consultaspublicasApp").controller("MainCtrl",["$state","$scope","$window","$stateParams","$filter","consulta","$sessionStorage","vcRecaptchaService","moment","commons",function(a,b,c,d,e,f,g,h,i,j){var k=this;k.tab=1,k.vista="nueva",k.cdcasociado=!0,k.cdc=d.cdc,k.loading=!1,k.haymensaje=!1,k.mensaje="",k.grande=!1,k.imprimirtodo=!1,k.nombretab="Resumen",k.vistapestanhas=!0,k.isIE=!!document.documentMode,k.irnueva=function(){a.go("principal")},k.conformidad=!1,k.notificacion=!1,k.disconformidad=!1,k.desconocimiento=!1,k.setTab=function(a){switch(k.tab=a,k.tab){case 1:k.nombretab="Resumen";break;case 2:k.nombretab="Emisor";break;case 3:k.nombretab="Receptor";break;case 4:k.nombretab="Items de la Operación";break;case 5:k.nombretab="Totales y Subtotales";break;case 6:k.nombretab="Rastreo de Mercadería";break;case 7:k.nombretab="Documentos Asociados";break;case 8:k.nombretab="Transporte de Mercaderías";break;case 9:k.nombretab="Otros Grupos";break;case 10:k.nombretab="Datos de la Operación";break;case 11:k.nombretab="Eventos de Receptor";break;default:k.nombretab="Resumen"}},k.verprocesamiento=function(a){var b;return 1===a?b="POS":2===a?b="Pago Electrónico":3===a&&(b="Otros"),b},k.listaeventos=[{valor:1,evento:"Notificación de Recepción"},{valor:2,evento:"Conformidad"},{valor:3,evento:"Disconformidad"},{valor:4,evento:"Desconocimiento"}],k.selected="",k.loadingevento=!1,k.selectedcon="",k.selecteddoc="",k.enviar=!1,k.tipocontribuyentes=[{valor:1,tipo:"Contribuyente"},{valor:2,tipo:"No Contribuyente"}],k.tipodocumentos=[{valor:1,tipodoc:"Cédula Paraguaya"},{valor:2,tipodoc:"Pasaporte"},{valor:3,tipodoc:"Cédula Extranjera"},{valor:4,tipodoc:"Carnet de Residencia"}],k.now=i(),k.rightnowNOT="",k.rightnowCONF="",k.rightnowDIS=k.now,k.rightnowDES="",k.tipoconformidad="",k.contri=!1,k.nocontri=!1,k.nombrenocontri="",k.nombrecontri="",k.motivodis="",k.motivoevento="",k.fechaemisionevento="",k.conforcheck=function(a){k.tipoconformidad=a,k.enviar=!0,"total"==a?(k.itipConf=1,k.mostrarfechaconfor=!1):(k.itipConf=2,k.mostrarfechaconfor=!0)},k.limpiarFormulario=function(){document.getElementsByName("fecha")[0].value="",document.getElementsByName("fecha")[1].value="",document.getElementById("justificaciontexto").value="",document.getElementsByName("fecha2")[0].value="",document.getElementById("motivodis").value="",document.getElementsByName("optradio")[0].checked=!1,document.getElementsByName("optradio")[1].checked=!1},k.cerrarAlertError=function(){k.haymensaje=!1},k.seleccion=function(a){switch(k.selectedcon="",k.mostrarfechaconfor=!1,k.limpiarFormulario(),a.valor){case 1:k.rightnowNOT="",k.conformidad=!1,k.notificacion=!0,k.disconformidad=!1,k.desconocimiento=!1,k.enviar=!1,k.formevento={id:k.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",drucRec:"",dDVRec:"",dtipIDRec:"",dtotalGs:0},k.enviar=!0;break;case 2:k.rightnowCONF="",k.conformidad=!0,k.notificacion=!1,k.disconformidad=!1,k.desconocimiento=!1,k.enviar=!1,k.formevento={id:k.cdc,dfecRecep:"",itipConf:""};break;case 3:k.conformidad=!1,k.notificacion=!1,k.disconformidad=!0,k.desconocimiento=!1,k.enviar=!0,k.formevento={id:k.cdc,motEve:""};break;case 4:k.rightnowDES="",k.conformidad=!1,k.notificacion=!1,k.disconformidad=!1,k.desconocimiento=!0,k.enviar=!1,k.formevento={id:k.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",iTipIDRec:"",dNumID:"",mOtEve:""},k.enviar=!0}},k.seleccion2=function(a){switch(a.valor){case 1:k.contri=!0,k.nocontri=!1,k.enviar=!0;break;case 2:k.contri=!1,k.nocontri=!0,k.enviar=!0}},k.seleccion3=function(a){a.valor},k.docnocontri="",k.cerrarAlertError=function(){k.haymsjeventoerror=!1,k.haymsjeventook=!1},k.cerrarAlertSuccess=function(){k.haymsjeventoerror=!1,k.haymsjeventook=!1},k.enviarevento=function(a){if("SI"==k.receptorEsFacturadorElectronico)return k.loadingevento=!1,k.haymsjeventook=!1,k.loadingevento=!1,k.haymsjeventoerror=!0,void(k.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar los eventos del receptor por los Servicios Web disponibles o a través del sistema Ekuatia’i según corresponda");if("SI"==k.receptorContribuyenteNoElectronico)return k.loadingevento=!1,k.haymsjeventook=!1,k.loadingevento=!1,k.haymsjeventoerror=!0,void(k.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar el evento del receptor mediante la herramienta que será disponibilizada en el Sistema Marangatu");"NO"==k.receptorContribuyenteNoElectronico&&(k.usuario="persona",k.contrasenha=k.cdc);var b=k.usuario+":"+k.contrasenha,c=window.btoa(b);if(k.loadingevento=!0,!k.nocontri||k.selecteddoc||"SI"!=k.receptorEsFacturadorElectronico&&"SI"!=k.receptorContribuyenteNoElectronico){if(k.notificacion){var d=0;j.isEmptyNullUndefined(k.totaloperaciongs)||"-"==k.totaloperaciongs?(d=k.totaloperacion.replaceAll(".",""),d=d.replaceAll(",",".")):(d=k.totaloperaciongs.replaceAll(".",""),d=d.replaceAll(",","."));var g=i(k.rightnowNOT,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),h=new Date(g),l=new Date;h.setHours(l.getHours()),h.setMinutes(l.getMinutes()),h.setSeconds(l.getSeconds()),h.setMilliseconds(l.getMilliseconds()),g=h.toISOString(),2==k.receptornaturaleza?k.formevento={id:k.cdc,dfecEmi:e("date")(k.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:g,itipRec:2,dtipIDRec:k.tipodocumentoreceptor,dnomRec:k.nombrereceptor,dnumID:k.documentoreceptor,dtotalGs:d}:k.formevento={id:k.cdc,dfecEmi:e("date")(k.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:g,itipRec:1,dnomRec:k.nombrereceptor,drucRec:k.camposreceptor.dRucRec,ddvrec:k.camposreceptor.dDVRec,dtotalGs:d},f.enviareventonotificacion(k.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(k.haymsjeventook=!0,k.haymsjeventoerror=!1,a.data.descripcion?k.mensajevento="Aprobado con observación: "+a.data.descripcion:k.mensajevento="Evento aprobado",k.actualizareventos()):(k.haymsjeventook=!1,k.loadingevento=!1,k.haymsjeventoerror=!0,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Rechazado")},function(a){k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Error. Vuelva a intentar"}),k.contrasenha=null}k.conformidad&&(2==k.itipConf&&(k.formevento.dfecRecep=i(k.rightnowCONF,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss")),k.formevento.itipConf=k.itipConf,f.enviareventoconformidad(k.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(k.haymsjeventook=!0,k.haymsjeventoerror=!1,a.data.descripcion?k.mensajevento="Aprobado con observación: "+a.data.descripcion:k.mensajevento="Evento aprobado",k.actualizareventos()):(k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,k.mensajevento="Rechazado: "+a.data.descripcion)},function(a){k.loadingevento=!1,k.haymsjeventoerror=!0,k.haymsjeventook=!1,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Error. Vuelva a intentar"}),k.contrasenha=null),k.disconformidad&&(k.formevento.motEve=a.motivodis.$viewValue,f.enviareventodisconformidad(k.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(k.haymsjeventook=!0,k.haymsjeventoerror=!1,a.data.descripcion?k.mensajevento="Aprobado con observación: "+a.data.descripcion:k.mensajevento="Evento aprobado",k.actualizareventos()):(k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,k.mensajevento="Rechazado: "+a.data.descripcion)},function(a){k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Error. Vuelva a intentar"}),k.contrasenha=null),k.desconocimiento&&(k.nocontri?k.formevento={id:k.cdc,dfecEmi:e("date")(k.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:i(k.rightnowDES,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),itipRec:k.receptornaturaleza,dtipIDRec:k.tipodocumentoreceptor,dnomRec:k.nombrereceptor,dnumID:k.documentoreceptor,motEve:k.motivoevento}:k.formevento={id:k.cdc,dfecEmi:e("date")(k.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:i(k.rightnowDES,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),itipRec:k.receptornaturaleza,dnomRec:k.nombrereceptor,drucRec:k.camposreceptor.dRucRec,ddvrec:k.camposreceptor.dDVRec,motEve:k.motivoevento},f.enviareventodesconocimiento(k.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(k.haymsjeventook=!0,k.haymsjeventoerror=!1,a.data.descripcion?k.mensajevento="Aprobado con observación: "+a.data.descripcion:k.mensajevento="Evento aprobado",k.actualizareventos()):(k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Rechazado")},function(a){k.loadingevento=!1,k.haymsjeventook=!1,k.haymsjeventoerror=!0,a.data.descripcion?k.mensajevento="Rechazado: "+a.data.descripcion:k.mensajevento="Error. Vuelva a intentar"}),k.contrasenha=null)}else k.loadingevento=!1},k.mostrarenviar=function(){k.enviar=!0},k.isSet=function(a){return k.tab===a},k.showform=function(a){k.vista=a},k.imprimir=function(){c.print()},k.descargarxml=function(){f.descargarxml(k.cdc).then(function(a){if(k.loading=!1,200===a.status){k.mensaje=null,k.haymensaje=!1;var b=new Blob([a.data],{type:"application/xml"}),c=window.URL.createObjectURL(b);const d=document.createElement("a");d.style.display="none",d.href=c,d.download=k.cdc+".xml",document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c)}else 401===a.status||403===a.status?(k.haymensaje=!0,k.mensaje="Tiempo de sesión finalizado. Realice una nueva consulta para la descarga"):(k.haymensaje=!0,k.mensaje="Error. Vuelva a intentar")},function(a){k.loading=!1,a.data.mensaje?k.mensaje=a.data.mensaje:k.mensaje="Error. Vuelva a intentar"})},k.guardarpdf=function(){c.scrollTo(0,0),k.entro=!0;var a=document.getElementById("consultaform");html2canvas(a,{onrendered:function(b){for(var c=new jsPDF("p","pt",[612,980]),d=0;d<=a.clientHeight/980;d++){var e=b,f=0,g=980*d,h=a.clientWidth,i=980,j=0,l=0,m=a.clientWidth,n=980;window.onePageCanvas=document.createElement("canvas"),onePageCanvas.setAttribute("width",a.clientWidth),onePageCanvas.setAttribute("height",980);onePageCanvas.getContext("2d").drawImage(e,f,g,h,i,j,l,m,n);var o=onePageCanvas.toDataURL("image/png",1),p=onePageCanvas.width,q=onePageCanvas.clientHeight;d>0&&c.addPage(612,980),c.setPage(d+1),c.addImage(o,"PNG",15,15,.62*p-250,.62*q)}c.save(k.nombretab+"CDC.pdf")}})},k.isActive=function(b){return!(!a.getCurrentPath()[2].state.name.includes(b)&&!a.getCurrentPath()[2].state.name.includes("main.resumen"))},k.gotopestanhas=function(){k.vistaKUDE?(k.vistapestanhas=!0,k.vistaKUDE=!1):k.vistaticket?(k.vistapestanhas=!0,k.vistaticket=!1):k.vistapestanhas&&(9==k.tipoDEcodigo?(k.vistaKUDE=!0,k.vistapestanhas=!1):2==k.tipodocumento&&(k.vistapestanhas=!1,k.vistaticket=!0))},k.irconsulta=function(b){a.go("main",{cdc:b})},k.llamarcdcasociado=function(){k.mostrarcaptcha=!0,k.mostrarboton=!0},k.consultaragain=function(){k.consultaform2={cdc:k.cdc,captcha:""},""!=h.getResponse()?(k.loading=!0,k.consultaform2.captcha=h.getResponse(),f.consultacdc(k.consultaform2).then(function(a){200===a.status?(k.cdcasociado=!0,g.response=a,k.loadingevento=!1):(k.cdcasociado=!1,k.loadingevento=!1,k.haymensajecdc=!0,k.mensaje=a.data.mensaje)},function(a){k.cdcasociado=!1,k.loading=!1,k.haymensajecdc=!0,a.data.mensaje?k.mensaje=a.data.mensaje:k.mensaje="Error. Vuelva a intentar"})):(k.cdcasociado=!1,k.haymensajecdc=!0,k.loading=!1,k.mensaje="Ingrese el captcha")},k.actualizareventos=function(){k.consultaform3={cdc:k.cdc},f.retornareventos(k.consultaform3).then(function(a){if(200===a.status){if(g.response=a,k.eventos=a.data.Evento,k.hayevento=!1,k.eventos.length>0){k.hayevento=!0;var b=0,c=0;k.eventosreceptor=[],k.eventosemisor=[];for(var d=0;d<k.eventos.length;d++)"RECEPTOR"===k.eventos[d].origenEvento?(k.eventosreceptor[b]=k.eventos[d],k.eventosreceptor[b].dFecProc=e("date")(k.eventosreceptor[b].dFecProc,"dd-MM-yyyy HH:mm:ss"),b++):(k.eventosemisor[c]=k.eventos[d],c++)}else k.hayevento=!1;k.loadingevento=!1,k.limpiarFormulario()}else k.loadingevento=!1,k.haymensajecdc=!0,k.mensaje=a.data.mensaje,k.loadingevento=!1},function(a){k.cdcasociado=!1,k.loadingevento=!1,k.haymensajecdc=!0,a.data.mensaje?k.mensaje=a.data.mensaje:k.mensaje="Error. Vuelva a intentar"})},b.$on("$viewContentLoaded",function(){if(k.ancho=$(window).width(),k.ancho>575?k.grande=!0:k.grande=!1,k.rightnowDIS=k.rightnowDIS.format("DD/MM/YYYY HH:mm"),k.response=g.response,k.cdc=d.cdc,k.loading=!0,k.response.data.DE)if(k.response.data.DE["@Id"]==k.cdc){if(k.receptorEsFacturadorElectronico=k.response.data.esReceptorFacturadorElectronico,k.receptorContribuyenteNoElectronico=k.response.data.esReceptorContribuyenteNoElectronico,k.haymensaje=!1,k.datos=k.response.data.DE,k.DTE=k.response.data.DTE,k.version=k.DTE.dVerFor,k.digestvalue=k.DTE.digestValue,k.valorqr=k.DTE.qrCode,k.hashqr=k.DTE.cHashQR,k.serie=k.DTE.serieDTE,k.transaccionCDC=k.DTE.dProtAut,k.transaccionCDCfecha=k.DTE.dFecProc,k.transaccionCDCfecha=e("date")(k.transaccionCDCfecha,"dd-MM-yyyy HH:mm:ss"),k.estadocdc=k.DTE.dEstRes,k.response.data.Evento)if(k.eventos=k.response.data.Evento,k.hayevento=!1,k.eventos.length>0){k.hayevento=!0;var b=0,c=0;k.eventosreceptor=[],k.eventosemisor=[];for(var f=0;f<k.eventos.length;f++)"RECEPTOR"===k.eventos[f].origenEvento?(k.eventosreceptor[b]=k.eventos[f],k.eventosreceptor[b].dFecProc=e("date")(k.eventosreceptor[b].dFecProc,"dd-MM-yyyy HH:mm:ss"),b++):(k.eventosemisor[c]=k.eventos[f],c++)}else k.hayevento=!1;if(k.fecha=k.datos.dFecFirma,k.fecha=e("date")(k.fecha,"dd-MM-yyyy HH:mm:ss"),k.campostimbrado=k.datos.gTimb,k.tipoDEcodigo=k.campostimbrado.iTiDE,9==k.tipoDEcodigo?(k.vistaKUDE=!0,k.vistaticket=!1,k.vistapestanhas=!1):(k.vistaKUDE=!1,k.vistaticket=!1,k.vistapestanhas=!0),k.tipoDE=k.campostimbrado.dDesTiDE,k.nrotimbrado=k.campostimbrado.dNumTim,k.establecimiento=k.campostimbrado.dEst,k.nroexpedicion=k.campostimbrado.dPunExp,k.nrodocumento=k.campostimbrado.dNumDoc,k.iniciovigenciatimbrado=e("date")(k.campostimbrado.dFeIniT,"dd-MM-yyyy HH:mm:ss"),k.finvigenciatimbrado=e("date")(k.campostimbrado.dFeFinT,"dd-MM-yyyy HH:mm:ss"),k.nrodocumentototal=k.establecimiento+"-"+k.nroexpedicion+"-"+k.nrodocumento,k.camposgral=k.datos.gDatGralOpe,k.camposgral.gOpeCom&&(k.camposoprcomercial=k.camposgral.gOpeCom,k.camposoprcomercial.dDesTipTra&&(k.tipotransaccion=k.camposoprcomercial.dDesTipTra),k.camposoprcomercial.dTiCam?k.tipodecambio=e("formatPrice")(k.camposoprcomercial.dTiCam,""):k.tipodecambio="-",k.monedaoperacion=k.camposoprcomercial.dDesMoneOpe),k.fechaemision=k.camposgral.dFeEmiDE,k.fechaemision=e("date")(k.fechaemision,"dd-MM-yyyy HH:mm:ss"),k.maxDate=i(k.now),k.camposnaturaleza=k.camposgral.gDatRec,k.receptornaturaleza=k.camposnaturaleza.iNatRec,k.tipodocumento=k.camposnaturaleza.iTiOpe,2==k.tipodocumento?(k.vistaticket=!0,k.vistapestanhas=!1,k.vistaKUDE=!1,k.operaciontipo="B2C"):1==k.tipodocumento?k.operaciontipo="B2B":3==k.tipodocumento?k.operaciontipo="B2G":4==k.tipodocumento&&(k.operaciontipo="B2F"),k.camposemisor=k.camposgral.gEmis,k.telemisor=k.camposemisor.dTelEmi,k.emailemisor=k.camposemisor.dEmailE,k.camposemisor.gActEco&&(k.grupoactividadeconomica=k.camposemisor.gActEco,k.descripcionactividad=k.grupoactividadeconomica.dDesActEco),k.nombreemisor=k.camposemisor.dNomEmi,k.nombrefantasia=k.camposemisor.dNomFanEmi,k.rucemisor=k.camposemisor.dRucEm+"-"+k.camposemisor.dDVEmi,k.direccionDE=k.camposemisor.dDirEmi,k.ciudadDE=k.camposemisor.dDesCiuEmi,k.sucursal=k.camposemisor.dDenSuc,k.camposreceptor=k.camposgral.gDatRec,k.camposreceptor.dNumIDRec&&(k.cedulareceptor=k.camposreceptor.dNumIDRec),k.nombrereceptor=k.camposreceptor.dNomRec,k.camposreceptor.dRucRec?(k.usuario=k.camposreceptor.dRucRec,k.rucreceptor=k.camposreceptor.dRucRec+"-"+k.camposreceptor.dDVRec):k.rucreceptor="-",k.paisreceptor=k.camposreceptor.dDesPaisRe,1==k.receptornaturaleza?(k.contribuyente="Contribuyente",k.contri=!0,k.nocontri=!1,k.documentoreceptor=k.rucreceptor,1===k.camposreceptor.iTiContRec?k.tipocontribuyente="Persona Física":k.tipocontribuyente="Persona Jurídica"):(k.contribuyente="No Contribuyente",k.documentoreceptor=k.cedulareceptor,k.tipodocumentoreceptor=k.camposreceptor.iTipIDRec,k.nocontri=!0,k.contri=!1),k.direccionreceptor=k.camposreceptor.dDirRec,k.telefonoreceptor=k.camposreceptor.dTelRec,k.emailreceptor=k.camposreceptor.dEmailRec,k.camposoperacion=k.datos.gOpeDE,k.tipoperaciondetalle=k.camposoperacion.dDesTipEmi,k.grupodocumentos=k.datos.gCamDEAsoc,k.datos.gTotSub&&(k.exentas=k.datos.gTotSub,k.exentas.dSubExo?k.subtotalexonerada=e("formatPrice")(k.exentas.dSubExo,""):k.subtotalexonerada="-",k.exentas.dSubExe?k.subtotalexenta=e("formatPrice")(k.exentas.dSubExe,""):k.subtotalexenta="-",k.exentas.dSubISC?k.subtotalisc=e("formatPrice")(k.exentas.dSubISC,""):k.subtotalisc="-",k.anticipo=e("formatPrice")(k.exentas.dAnticipo,""),k.redondeo=e("formatPrice")(k.exentas.dRedon,""),k.descuentoxitem=e("formatPrice")(k.exentas.dTotDesc,""),k.porcentajedescuentototal=e("formatPrice")(k.exentas.dPorcDescTotal,""),k.descuentototaloperacion=e("formatPrice")(k.exentas.dDescTotal,""),k.exentas.dSub5?k.exentas5=e("formatPrice")(k.exentas.dSub5,""):k.exentas5="-",k.exentas.dSub10?k.exentas10=e("formatPrice")(k.exentas.dSub10,""):k.exentas10="-",k.totaloperacion=e("formatPrice")(k.exentas.dTotOpe,""),k.totalgraloperacion=e("formatPrice")(k.exentas.dTotGralOpe,""),k.exentas.dTotalGs?k.totaloperaciongs=e("formatPrice")(k.exentas.dTotalGs,""):k.totaloperaciongs="-",k.exentas.dTotIVA?k.liquidaciontotaliva=e("formatPrice")(k.exentas.dTotIVA,""):k.liquidaciontotaliva="-",k.exentas.dBaseGrav5?k.totalbasegrav5=e("formatPrice")(k.exentas.dBaseGrav5,""):k.totalbasegrav5="-",k.exentas.dBaseGrav10?k.totalbasegrav10=e("formatPrice")(k.exentas.dBaseGrav10,""):k.totalbasegrav10="-",k.exentas.dTBasGraIVA?k.totalbasegravIVA=e("formatPrice")(k.exentas.dTBasGraIVA,""):k.totalbasegravIVA="-",k.exentas.dLTotISC?k.liquidaciontotalISC=e("formatPrice")(k.exentas.dLTotISC,""):k.liquidaciontotalISC="-",k.exentas.dTBasGravISC?k.totalbasegravISC=e("formatPrice")(k.exentas.dTBasGravISC,""):k.totalbasegravISC="-",k.exentas.dTotCom?k.totalmascomision=e("formatPrice")(k.exentas.dTotCom,""):k.totalmascomision="-",k.exentas.dComi?k.comision=e("formatPrice")(k.exentas.dComi,""):k.comision="-",k.exentas.dIVAComi?k.ivacomision=e("formatPrice")(k.exentas.dIVAComi,""):k.ivacomision="-",k.exentas.dIVA5?k.IVAexentas5=e("formatPrice")(k.exentas.dIVA5,""):k.IVAexentas5="-",k.exentas.dIVA10?k.IVAexentas10=e("formatPrice")(k.exentas.dIVA10,""):k.IVAexentas10="-"),k.datos.gCamDEAsoc&&(Array.isArray(k.datos.gCamDEAsoc)?(k.datosdocumento=k.datos.gCamDEAsoc,k.cantdocumentos=k.datosdocumento.length):(k.datosdocumento=k.datos.gCamDEAsoc,k.cantdocumentos=1,k.codtipodocasociado=k.datosdocumento.iTipDocAso,k.tipodocumentoasociado=k.datosdocumento.dDesTipDocAso,k.cdcDTEreferenciado=k.datosdocumento.dCdCDERef,k.nrotimbradoreferencia=k.datosdocumento.dNTimDI,k.establecimientoasociado=k.datosdocumento.dEstDocAso,k.puntoexpedicion=0+k.datosdocumento.dPExpDocAso,k.nrodocumentoasociado=k.datosdocumento.dNumDocAso,k.tipodocumentoimpreso=k.datosdocumento.dDTipoDocAso,k.fechaemisiondocimpreso=k.datosdocumento.dFecEmiDI,k.comprobanteretencion=k.datosdocumento.dNumComRet,k.resolucioncredfiscal=k.datosdocumento.dNumResCF)),k.gdtipde=k.datos.gDtipDE,k.gdtipde.gCamNCDE&&(k.camposnotas=k.gdtipde.gCamNCDE,k.motivonota=k.camposnotas.dDesMotEmi),k.gdtipde.gCamEsp&&(k.otrosgrupos=k.gdtipde.gCamEsp,k.existeotros=!1,k.otrosgrupos.gGrupEner&&(k.sectorenergia=k.otrosgrupos.gGrupEner,null!=k.sectorenergia?(k.nromedidor=k.sectorenergia.dNroMed,k.codActividad=k.sectorenergia.dActiv,k.codCategoria=k.sectorenergia.dCateg,k.lecanterior=k.sectorenergia.dLecAnt,k.lecactual=k.sectorenergia.dLecAct,k.consumo=k.sectorenergia.dConKwh,k.existeotros=!0):k.energianulo=!0),k.otrosgrupos.gGrupSup&&(k.sectorsuper=k.otrosgrupos.gGrupSup,null!=k.sectorsuper?(k.nombrecajero=k.sectorsuper.dNomCaj,k.supefectivo=e("formatPrice")(k.sectorsuper.dEfectivo,""),k.supvuelto=e("formatPrice")(k.sectorsuper.dVuelto,""),k.montodonacion=e("formatPrice")(k.sectorsuper.dDonac,""),k.desdonacion=k.sectorsuper.dDesDonac,k.existeotros=!0):k.supernulo=!0),k.otrosgrupos.gGrupSeg&&(k.sectorseguros=k.otrosgrupos.gGrupSeg,null!=k.sectorseguros?(k.codempseg=k.sectorseguros.dCodEmpSeg,k.codpoliza=k.sectorseguros.dPoliza,k.unidadtiempo=k.sectorseguros.dUnidVig,k.vigenciaseg=k.sectorseguros.dVigencia,k.nropoliza=k.sectorseguros.dNumPoliza,k.existeotros=!0):k.segurosnulo=!0),k.otrosgrupos.gVehNuevo&&(k.sectorautomovil=k.otrosgrupos.gVehNuevo,null!=k.sectorautomovil?(k.operacionventa=k.sectorautomovil.dDesTipOpVN,k.chasis=k.sectorautomovil.dChasis,k.colorvehiculo=k.sectorautomovil.dColor,k.potenciamotor=k.sectorautomovil.dPotencia,k.capacidadmotor=k.sectorautomovil.dCapMot,k.autopesoneto=k.sectorautomovil.dPNet,k.autopesobruto=k.sectorautomovil.dPBruto,k.tipocombustible=k.sectorautomovil.dDesTipCom,k.nromotor=k.sectorautomovil.dNroMotor,k.captraccion=k.sectorautomovil.dCapTracc,k.autoanhofab=k.sectorautomovil.dAnoFab,k.tipovehiculosector=k.sectorautomovil.cTipVeh,k.capacidadpasajeros=k.sectorautomovil.dCapac,k.existeotros=!0):k.automovilnulo=!0),k.otrosgrupos.gGrupAdi&&(k.adicionales=k.otrosgrupos.gGrupAdi,null!=k.adicionales?(k.ciclo=k.adicionales.dCiclo,k.fechainiciociclo=k.adicionales.dFecIniC,k.fechafinciclo=k.adicionales.dFecFinC,k.vencpago=k.adicionales.dVencPag,k.nrocontrato=k.adicionales.dContrato,k.saldoanterior=k.adicionales.dSalAnt,k.existeotros=!0):k.adicionalesnulo=!0)),k.gdtipde.gCamCond&&(k.gcamcond=k.gdtipde.gCamCond,k.condicionventa=k.gcamcond.dDCondOpe,k.gcamcond.gPaConEIni?(k.haydatoscontado=!0,k.datoscontado=k.gcamcond.gPaConEIni,k.datoscontado.length?k.variostipospago=!0:(k.variostipospago=!1,k.tipodepago=k.datoscontado.dDesTiPag,k.montotipodepago=e("formatPrice")(k.datoscontado.dMonTiPag,""),k.monedatipodepago=k.datoscontado.dDMoneTiPag,k.datoscontado.gPagTarCD&&(k.datostarjeta=k.datoscontado.gPagTarCD,k.denominaciontarjeta=k.datostarjeta.dDesDenTarj,1===k.datostarjeta.iForProPa?k.formapago="POS":2===k.datostarjeta.iForProPa?k.formapago="Pago Electrónico":3===k.datostarjeta.iForProPa&&(k.formapago="Otros"),k.nrotarjeta=k.datostarjeta.dNumTarj),k.datoscontado.gPagCheq&&(k.datoscheque=k.datoscontado.gPagCheq,k.nrocheque=k.datoscheque.dNumCheq,k.bancoemisorcheque=k.datoscheque.dBcoEmi))):k.haydatoscontado=!1,2==k.gcamcond.iCondOpe&&(k.haycredito=!0,k.gcamcond.gPagCred&&(k.grupocredito=k.gcamcond.gPagCred,k.condicioncredito=k.grupocredito.dDCondCred,k.valorcredito=k.grupocredito.iCondCred,1==k.valorcredito?k.plazo=k.grupocredito.dPlazoCre:(k.cantidadcuotas=k.grupocredito.dCuotas,k.grupocredito.gCuotas&&(k.datoscuotas=k.grupocredito.gCuotas,k.montocuota=e("formatPrice")(k.datoscuotas.dMonCuota,""),k.vencimientocuota=k.datoscuotas.dVencCuo)),k.grupocredito.dMontEnt&&(k.entregainicial=e("formatPrice")(k.grupocredito.dMonEnt,""))))),Array.isArray(k.gdtipde.gCamItem)){k.grupoitems=k.gdtipde.gCamItem,k.cantidaditem=e("formatPrice")(k.grupoitems.length,""),k.ivaitems=[],k.mercaderia=[];for(var f=0;f<k.grupoitems.length;f++)k.grupoitems[f].gRasMerc&&(k.mercaderia[f]=k.grupoitems[f].gRasMerc);0===k.mercaderia.length?k.rastreo=!1:k.rastreo=!0}else k.gdtipde.gCamItem&&(k.cantidaditem=1,k.grupoitems=k.gdtipde.gCamItem,k.codigoitem=k.grupoitems.dCodInt,k.descripcionproducto=k.grupoitems.dDesProSer,k.unidadmedidaitem=k.grupoitems.dDesUniMed,k.cantidadproductos=e("formatPrice")(k.grupoitems.dCantProSer,""),k.grupoitems.gValorItem&&(k.precioitem=k.grupoitems.gValorItem.dPUniProSer,k.porcentajedescuentoitem=k.grupoitems.gValorItem.dPorcDesIt,k.operacionxitem=k.grupoitems.gValorItem.dTotOpeItem),k.grupoitems.gCamIVA&&(k.afectacioniva=k.grupoitems.gCamIVA.dDesAfecIVA,k.proporciongravadaiva=k.grupoitems.gCamIVA.dPropIVA,k.tasaiva=k.grupoitems.gCamIVA.dTasaIVA),k.NCM=k.grupoitems.dNCM,k.dncpgral=k.grupoitems.dDncpG,k.dncpesp=k.grupoitems.dDncpE,k.grupoitems.gRasMerc?(k.mercaderia=k.grupoitems.gRasMerc,k.rastreo=!0,k.nroloterastreo=k.mercaderia.dNumLote,k.vencmercaderia=k.mercaderia.dVencMerc,k.nroserie=k.mercaderia.dNSerie):k.rastreo=!1),k.gdtipde.gTransp?(k.datostransporte=k.gdtipde.gTransp,k.tipotransporte=k.datostransporte.dDesTipTrans,k.modalidadtransporte=k.datostransporte.dDesModTrans,k.codresponsableflete=k.datostransporte.iRespFlete,1==k.codresponsableflete?k.responsableflete=k.nombreemisor:2==k.codresponsableflete?k.responsableflete=k.nombrereceptor:k.responsableflete="Tercero",k.datostransporte.gCamSal&&(k.datoslocalsalida=k.datostransporte.gCamSal,k.direccionsalida=k.datoslocalsalida.dDirLocSal,k.nrodireccionsalida=k.datoslocalsalida.dNumCasSal,k.dptosalida=k.datoslocalsalida.dDesDepSal,k.ciudadsalida=k.datoslocalsalida.dDesCiuSal,k.distritosalida=k.datoslocalsalida.dDesDisSal,k.telefonosalida=k.datoslocalsalida.dTelSal),k.datostransporte.gCamEnt&&(k.datoslocalentrega=k.datostransporte.gCamEnt,k.direccionentrega=k.datoslocalentrega.dDirLocEnt,k.nrodireccionentrega=k.datoslocalentrega.dNumCasEnt,k.dptoentrega=k.datoslocalentrega.dDesDepEnt,k.ciudadentrega=k.datoslocalentrega.dDesCiuEnt,k.distritoentrega=k.datoslocalentrega.dDesDisEnt,k.telefonoentrega=k.datoslocalentrega.dTelEnt),k.datostransporte.gVehTras&&(k.datosvehiculo=k.datostransporte.gVehTras,k.tipovehiculo=k.datosvehiculo.dTiVehTras,k.marcavehiculo=k.datosvehiculo.dMarVeh,k.nroidvehiculo=k.datosvehiculo.dNroIDVeh,k.adicionalesvehiculo=k.datosvehiculo.dAdicVeh,k.nrovuelo=k.datosvehiculo.dNroVuelo),k.datostransporte.gCamTrans&&(k.datostransportista=k.datostransporte.gCamTrans,k.natutransportista=k.datostransportista.iNatTrans,k.nombretransportista=k.datostransportista.dNomTrans,k.ructransportista=k.datostransportista.dRucTrans+"-"+k.datostransportista.dDVTrans,k.ditransportista=k.datostransportista.dNumIDTrans,1==k.natutransportista?k.doctransportista=k.ructransportista:k.doctransportista=k.ditransportista,k.nombrechofer=k.datostransportista.dNomChof,k.dichofer=k.datostransportista.dNumIDChof),k.transporte=!0):k.transporte=!1;k.loading=!1}else k.haymensaje=!0,k.mensaje="Error. Volver a consultar",k.loading=!1;else a.go("principal")})}]),angular.module("consultaspublicasApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("consultaspublicasApp").directive("mainDocs",function(){return{templateUrl:"views/main-docs.html"}}),angular.module("consultaspublicasApp").directive("mainEmisor",function(){return{templateUrl:"views/main-emisor.html"}}),angular.module("consultaspublicasApp").directive("mainReceptor",function(){return{templateUrl:"views/main-receptor.html"}}),angular.module("consultaspublicasApp").directive("mainItems",function(){return{templateUrl:"views/main-items.html"}}),angular.module("consultaspublicasApp").directive("mainIvaoperacion",function(){return{templateUrl:"views/main-ivaoperacion.html"}}),angular.module("consultaspublicasApp").directive("mainRastreo",function(){return{templateUrl:"views/main-rastreo.html"}}),angular.module("consultaspublicasApp").directive("mainTotales",function(){return{templateUrl:"views/main-totales.html"}}),angular.module("consultaspublicasApp").directive("mainResumen",function(){return{templateUrl:"views/main-resumen.html"}}),angular.module("consultaspublicasApp").controller("PrincipalCtrl",["$state","$scope","vcRecaptchaService","consulta","$modal","$timeout","$sessionStorage",function(a,b,c,d,e,f,g){var h=this;h.entro=!1,h.cdcnovalido=!1,h.haymensaje=!1,h.mensaje="",h.loading=!1,h.version="",h.DTE,h.loading=!1,h.datos=[],h.irconsulta=function(b){150==h.version?a.go("main150",{cdc:b}):a.go("main",{cdc:b})},h.consultaform={cdc:"",captcha:"",xml:""},h.cerrarAlertError=function(){h.haymensaje=!1},h.cerrarAlertError2=function(){h.haymensaje2=!1},h.guardarcdc=function(a){var b=a.cdc.$viewValue.trim();b=b.replace(/\\s/g,""),44==b.length?""!=c.getResponse()?(h.entro=!0,h.loading=!0,h.consultaform.cdc=b,delete h.consultaform.xml,h.consultaform.captcha=c.getResponse(),d.consultacdc(h.consultaform).then(function(a){h.haymensaje=!1,200===a.status?(g.response=a,h.DTE=a.data.DTE,h.version=h.DTE.dVerFor,g.noesdte=!1,h.irconsulta(h.consultaform.cdc)):202===a.status?(g.response=a,h.DTE=a.data.DTE,h.version=h.DTE.dVerFor,g.noesdte=!0,h.irconsulta(h.consultaform.cdc)):(h.loading=!1,h.haymensaje=!0,h.mensaje=a.data.mensaje,f(function(){h.haymensaje=!1},5e3))},function(a){c.reload(),h.haymensaje=!1,404===a.status?(g.cdc=h.consultaform.cdc,h.haymensaje=!0,a.data.mensaje?h.mensaje=a.data.mensaje:h.mensaje="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",f(function(){h.haymensaje=!1},5e3),e.open({templateUrl:"views/modal.html",size:"md",controller:"ModalfuncionaCtrl",controllerAs:"modalfunciona"})):(a.data.mensaje?h.mensaje=a.data.mensaje:h.mensaje="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",h.haymensaje=!0,f(function(){h.haymensaje=!1},5e3)),h.loading=!1})):(h.haymensaje=!0,h.loading=!1,h.mensaje="Ingrese el captcha",f(function(){h.haymensaje=!1},5e3)):(h.haymensaje=!0,h.mensaje="Ingrese un CDC válido",f(function(){h.haymensaje=!1},5e3))},h.guardarxml=function(){if(""!=c.getResponse())if($("input[type=file]")[0].files[0]){h.entro=!0,h.loading=!0,h.consultaform.captcha=c.getResponse();var a=$("input[type=file]")[0].files[0];d.consultaxml(a,h.consultaform.captcha).then(function(a){h.haymensaje=!1,200===a.status?a.data.DTE?(g.response=a,h.DTE=a.data.DTE,h.version=h.DTE.dVerFor,g.noesdte=!1,h.cdc=a.data.DE["@Id"],h.irconsulta(h.cdc)):(h.loading=!1,h.haymensaje2=!0,h.mensaje2=a.data.mensaje,f(function(){h.haymensaje2=!1},5e3)):202===a.status&&a.data.DTE?(g.response=a,h.DTE=a.data.DTE,h.version=h.DTE.dVerFor,g.noesdte=!0,h.cdc=a.data.DE["@Id"],h.irconsulta(h.cdc)):(h.loading=!1,h.haymensaje2=!0,h.mensaje2=a.data.mensaje,f(function(){h.haymensaje2=!1},5e3))},function(a){c.reload(),h.haymensaje=!1,404===a.status?(g.cdc=h.consultaform.cdc,h.haymensaje=!0,a.data.mensaje?h.mensaje=a.data.mensaje:h.mensaje="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",f(function(){h.haymensaje2=!1},5e3)):417===a.status?(h.mensaje2="Error al obtener el XML. El documento debe estar bien formado.",h.haymensaje2=!0,f(function(){h.haymensaje2=!1},5e3)):(a.data.mensaje?h.mensaje2=a.data.mensaje:h.mensaje2="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",h.haymensaje2=!0,f(function(){h.haymensaje2=!1},5e3)),h.loading=!1})}else h.haymensaje2=!0,h.mensaje2="Ingrese un archivo XML",f(function(){h.haymensaje2=!1},5e3);else h.haymensaje2=!0,h.loading=!1,h.mensaje2="Ingrese el captcha",f(function(){h.haymensaje2=!1},5e3)},h.abrirmodal=function(){g.cdc=h.consultaform.cdc,e.open({
templateUrl:"views/modal.html",size:"md",controller:"ModalfuncionaCtrl",controllerAs:"modalfunciona"})},b.$on("$viewContentLoaded",function(){h.loading=!1})}]),angular.module("consultaspublicasApp").service("consulta",["$http","$q",function(a,b){function c(b){return a({method:"POST",url:"/docs-test/documento-electronico",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"afsdafasf9408539lfsasfas","Content-type":"application/json"},data:b})}function d(c,d){var e=b.defer(),f=new FormData;return f.append("file",c),f.append("captcha",d),a.post("/docs-test/documento-electronico/xml",f,{withCredentials:!1,headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(a){e.resolve(a)},function(a){e.reject(a)}),e.promise}function e(b){return a({method:"POST",url:"/docs-test/documento-electronico-qr",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"afsdafasf9408539lfsasfas","Content-type":"application/json"},data:b})}function f(b,c){return a({method:"POST",url:"/eventos-test/disconformidad",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"Basic "+c,"Content-type":"application/json"},data:b})}function g(b,c){return a({method:"POST",url:"/eventos-test/desconocimiento",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"Basic "+c,"Content-type":"application/json"},data:b})}function h(b,c){return a({method:"POST",url:"/eventos-test/conformidad",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"Basic "+c,"Content-type":"application/json"},data:b})}function i(b,c){return a({method:"POST",url:"/eventos-test/notificacion-recepcion",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"Basic "+c,"Content-type":"application/json"},data:b})}function j(b){return a({method:"POST",url:"/docs-test/listar-eventos",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"afsdafasf9408539lfsasfas","Content-type":"application/json"},data:b})}function k(b){return a({method:"GET",url:"/docs-test/documento-electronico-xml/"+b,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json","Content-type":"application/json"}})}function l(b,c){return a({method:"GET",url:"/docs-test/tipo-receptor?nroDocumento="+b+"&cdc="+c,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"X-Requested-With,content-type","Access-Control-Allow-Credentials":"true",Accept:"application/json",Authorization:"afsdafasf9408539lfsasfas","Content-type":"application/json"}})}return{consultacdc:c,consultaqr:e,consultaxml:d,enviareventodisconformidad:f,enviareventoconformidad:h,enviareventonotificacion:i,enviareventodesconocimiento:g,retornareventos:j,descargarxml:k,getTipoReceptor:l}}]),angular.module("consultaspublicasApp").filter("formatPrice",function(){return function(a,b,c,d,e){var f;if(b=void 0===b?2:b,e=void 0===e||e,c=void 0===c?".":c,d=void 0===d?",":d,a){if("number"==typeof a){a=a.toString();var g=a.split("."),h=void 0===g[1]?"":g[1],i=g[0],j="",k=0;for(f=i.length-1;f>-1;f--)j=(k++%3==2&&f>0?c:"")+i.substr(f,1)+j;return""===h?j:j+d+h}return a}return 0}}),angular.module("consultaspublicasApp").filter("hasSomeValue",function(){return function(a){return a||"-"}}),angular.module("consultaspublicasApp").controller("FormqrCtrl",["$state","$location","$scope","$http","$window","$stateParams","$filter","consulta","$sessionStorage","vcRecaptchaService","$timeout",function(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.haymensaje=!1,l.mensaje="",l.invalido=!1;var m=b.search();l.nVersion=m.nVersion,l.Id=m.Id,l.dFeEmiDE=m.dFeEmiDE,l.dTotGralOpe=m.dTotGralOpe,l.dTotIVA=m.dTotIVA,l.cItems=m.cItems,l.DigestValue=m.DigestValue,l.IdCSC=m.IdCSC,l.cHashQR=m.cHashQR,m.dNumIDRec?(l.dNumIDRec=m.dNumIDRec,l.consultaform={nVersion:""+l.nVersion,Id:""+l.Id,dFeEmiDE:""+l.dFeEmiDE,dNumIDRec:""+l.dNumIDRec,dTotGralOpe:""+l.dTotGralOpe,dTotIVA:""+l.dTotIVA,cItems:""+l.cItems,DigestValue:l.DigestValue,IdCSC:l.IdCSC,cHashQR:""+l.cHashQR,captcha:""}):(l.dRucRec=m.dRucRec,l.ruccompleto=l.dRucRec,l.consultaform={nVersion:""+l.nVersion,Id:""+l.Id,dFeEmiDE:""+l.dFeEmiDE,dRucRec:""+l.dRucRec,dTotGralOpe:""+l.dTotGralOpe,dTotIVA:""+l.dTotIVA,cItems:""+l.cItems,DigestValue:l.DigestValue,IdCSC:l.IdCSC,cHashQR:""+l.cHashQR,captcha:""}),l.nVersion&&l.Id&&l.dFeEmiDE&&l.dRucRec&&l.dTotGralOpe&&l.dTotIVA&&l.cItems&&l.DigestValue&&l.IdCSC&&l.cHashQR||l.nVersion&&l.Id&&l.dFeEmiDE&&l.dNumIDRec&&l.dTotGralOpe&&l.dTotIVA&&l.cItems&&l.DigestValue&&l.IdCSC&&l.cHashQR?l.invalido=!1:(l.invalido=!0,l.mensaje="Código QR inválido, consulte con el emisor del DEs"),l.hex_to_ascii=function(a){for(var b=a.toString(),c="",d=0;d<b.length;d+=2)c+=String.fromCharCode(parseInt(b.substr(d,2),16));return c},l.fechaformateada=l.hex_to_ascii(l.dFeEmiDE),l.entro=!1,l.cdcnovalido=!1,l.irconsulta=function(b){"141"==l.nVersion?a.go("main",{cdc:b}):"150"==l.nVersion&&a.go("main150",{cdc:b})},l.datos=[],l.haymensaje=!1,l.mensaje="",l.loading=!1,l.loading=!1,l.cerrarAlertError=function(){l.haymensaje=!1},l.guardar=function(a){44==a.cdc.$viewValue.length?""!=j.getResponse()?(l.entro=!0,l.loading=!0,l.consultaform.cdc=a.cdc.$viewValue,l.consultaform.captcha=j.getResponse(),h.consultaqr(l.consultaform).then(function(a){200===a.status?(i.response=a,l.DTE=a.data.DTE,l.version=l.DTE.dVerFor,i.noesdte=!1,l.irconsulta(l.consultaform.cdc)):202===a.status?(i.response=a,l.DTE=a.data.DTE,l.version=l.DTE.dVerFor,i.noesdte=!0,l.irconsulta(l.consultaform.cdc)):(l.loading=!1,l.haymensaje=!0,l.mensaje=a.data.mensaje,k(function(){l.haymensaje=!1},5e3))},function(a){j.reload(),l.haymensaje=!1,404===a.status?(i.cdc=l.consultaform.cdc,l.haymensaje=!0,a.data.mensaje?l.mensaje=a.data.mensaje:l.mensaje="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",k(function(){l.haymensaje=!1},5e3),$modal.open({templateUrl:"views/modal.html",size:"md",controller:"ModalfuncionaCtrl",controllerAs:"modalfunciona"})):(a.data.mensaje?l.mensaje=a.data.mensaje:l.mensaje="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar",l.haymensaje=!0,k(function(){l.haymensaje=!1},5e3)),l.loading=!1})):(l.haymensaje=!0,l.loading=!1,l.mensaje="Ingrese el captcha"):(l.haymensaje=!0,l.mensaje="Ingrese un CDC válido",k(function(){l.haymensaje=!1},5e3))},c.$on("$viewContentLoaded",function(){l.loading=!1})}]),angular.module("consultaspublicasApp").controller("VistadeCtrl",["$state","$scope","$http","$window","$filter","consulta","$sessionStorage","moment","commons",function(a,b,c,d,e,f,g,h,i){var j=this;j.tab=1,j.vista="nueva",j.loading=!1,j.haymensaje=!1,j.mensaje="",j.sinvalor="-",j.grande=!1,j.imprimirtodo=!1,j.nombretab="Resumen",j.isIE=!!document.documentMode,j.cdc=g.cdc,j.conformidad=!1,j.notificacion=!1,j.disconformidad=!1,j.desconocimiento=!1,j.selected="",j.loadingevento=!1,j.selectedcon="",j.selecteddoc="",j.enviar=!1,j.now=h(),j.now2=h(),j.tipoconformidad="",j.contri=!1,j.nocontri=!1,j.nombrenocontri="",j.nombrecontri="",j.motivodis="",j.motivoevento="",j.minDate="01-11-2018 00:00:00",j.docnocontri="",j.receptorEsFacturadorElectronico=null,j.receptorContribuyenteNoElectronico=null,j.formEventoAux=null,j.listaeventos=[{valor:1,evento:"Notificación de Recepción"},{valor:4,evento:"Desconocimiento"}],j.tipocontribuyentes=[{valor:1,tipo:"Contribuyente"},{valor:2,tipo:"No Contribuyente"}],j.tipodocumentos=[{valor:1,tipodoc:"Cédula Paraguaya"},{valor:2,tipodoc:"Pasaporte"},{valor:3,tipodoc:"Cédula Extranjera"},{valor:4,tipodoc:"Carnet de Residencia"}],j.msjnombre="Nombre o Razón Social no informado",j.formControl={digitoruc:!1,docnocontri:!1,fechaEmision:!1,fechaRecepcion:!1,fecha2:!1,motivodes:!1,nombrecontri:!1,nombrenocontri:!1,rucrec:!1,tipodoc:!1,totalGeneral:!1},j.validarNombre=function(a,b){j.formControl[b]=a[b].$invalid,"nombrecontri"!=b&&"nombrenocontri"!=b||!i.isEmptyNullUndefined(a[b].$viewValue)&&a[b].$viewValue.length>60&&(j.msjnombre="Nombre o Razón Social no puede tener mas de 60 caracteres")},j.validarCampo=function(a,b){j.formControl[b]=a[b].$invalid},j.irnueva=function(){a.go("principal")},j.setTab=function(a){switch(j.tab=a,j.tab){case 1:j.nombretab="Eventos de Receptor";break;default:j.nombretab="Eventos de Receptor"}},j.conforcheck=function(a){j.tipoconformidad=a,j.enviar=!0,j.itipConf="total"==a?1:2,j.mostrarfechaconfor=!0},j.seleccion=function(a){switch(j.selectedcon="",j.mostrarfechaconfor=!1,a.valor){case 1:j.rightnow="",j.fechaemision="",j.conformidad=!1,j.notificacion=!0,j.disconformidad=!1,j.desconocimiento=!1,j.enviar=!1,j.nocontri=!1,j.contri=!1,j.formevento={id:j.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",dRucRec:"",dDVRec:"",dtipIDRec:""};break;case 2:j.rightnow="",j.fechaemision="",j.conformidad=!0,j.notificacion=!1,j.disconformidad=!1,j.desconocimiento=!1,j.enviar=!1,j.nocontri=!1,j.contri=!1,j.formevento={id:j.cdc,dfecRecep:"",itipConf:""};break;case 3:j.rightnow="",j.fechaemision="",j.conformidad=!1,j.notificacion=!1,j.disconformidad=!0,j.desconocimiento=!1,j.enviar=!0,j.nocontri=!1,j.contri=!1,j.formevento={id:j.cdc,motEve:""};break;case 4:j.rightnow="",j.fechaemision="",j.conformidad=!1,j.notificacion=!1,j.disconformidad=!1,j.desconocimiento=!0,j.enviar=!1,j.nocontri=!1,j.contri=!1,j.formevento={id:j.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",iTipIDRec:"",dNumID:"",mOtEve:""}}},j.seleccion2=function(a){switch(a.valor){case 1:j.contri=!0,j.nocontri=!1,j.enviar=!0;break;case 2:j.contri=!1,j.nocontri=!0,j.enviar=!0}},j.seleccion3=function(a){j.formControl.tipodoc=!1,a.valor},j.cerrarAlertError=function(){j.haymensaje=!1},j.cerrarEventoError=function(){j.loadingevento=!1,j.haymsjeventoerror=!1},j.cerrarEventoOk=function(){j.loadingevento=!1,j.haymsjeventook=!1},j.getFechaRecepcionConHoraActual=function(){var a=h(j.rightnow,"DD/MM/YYYY").format("YYYY-MM-DDTHH:mm:ss"),b=new Date(a),c=new Date;b.setHours(c.getHours()),b.setMinutes(c.getMinutes()),b.setSeconds(c.getSeconds()),b.setMilliseconds(c.getMilliseconds());var d=b.getMonth()<9?"0"+(b.getMonth()+1):b.getMonth()+1,e=b.getDate()<10?"0"+b.getDate():b.getDate(),f=b.getHours()<10?"0"+b.getHours():b.getHours(),g=b.getMinutes()<10?"0"+b.getMinutes():b.getMinutes(),i=b.getSeconds()<10?"0"+b.getSeconds():b.getSeconds();return a=b.getFullYear()+"-"+d+"-"+e+"T"+f+":"+g+":"+i},j.formatearFecha=function(a){var b=a.split("/");return b[2]+"-"+b[1]+"-"+b[0]+"T00:00:00"},j.esCamposValidos=function(a){var b=!0;if(i.isEmptyNullUndefined(a.fechaEmision.$viewValue)){var c=document.getElementById("fechaEmision");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.fechaEmision=!0,b=!1}if(i.isEmptyNullUndefined(a.fechaRecepcion.$viewValue)){j.formControl.fechaRecepcion=!0;var c=document.getElementById("fechaRecepcion");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),b=!1}if(j.notificacion){if(i.isEmptyNullUndefined(a.totalGeneral.$viewValue)){var c=document.getElementById("totalGeneral");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.totalGeneral=!0,b=!1}else if(parseInt(a.totalGeneral.$viewValue)<1){var c=document.getElementById("totalGeneral");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.totalGeneral=!0,b=!1}}else if(i.isEmptyNullUndefined(a.motivodes.$viewValue)){var c=document.getElementById("motivodes");c.classList.add("ng-touched"),c.classList.add("ng-dirty"),c.classList.add("ng-invalid"),j.formControl.motivodes=!0,b=!1}if(j.contri){if(i.isEmptyNullUndefined(a.nombrecontri.$viewValue)){var c=document.getElementById("nombrecontri");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.nombrecontri=!0,b=!1}if(a.nombrecontri.$viewValue.length>60){var c=document.getElementById("nombrecontri");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.nombrecontri=!0,b=!1}if(i.isEmptyNullUndefined(a.rucrec.$viewValue)){var c=document.getElementById("rucrec");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.rucrec=!0,b=!1}if(i.isEmptyNullUndefined(a.digitoruc.$viewValue)){var c=document.getElementById("digitoruc");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.digitoruc=!0,b=!1}else if(parseInt(a.digitoruc.$viewValue)<0||parseInt(a.digitoruc.$viewValue)>9){var c=document.getElementById("digitoruc");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.digitoruc=!0,b=!1}}else{if(i.isEmptyNullUndefined(a.nombrenocontri.$viewValue)){var c=document.getElementById("nombrenocontri");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.nombrenocontri=!0,b=!1}if(a.nombrenocontri.$viewValue.length>60){var c=document.getElementById("nombrenocontri");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.nombrenocontri=!0,b=!1}if(i.isEmptyNullUndefined(a.tipodoc.$viewValue)){var c=document.getElementById("tipodoc");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.tipodoc=!0,b=!1}if(i.isEmptyNullUndefined(a.docnocontri.$viewValue)){var c=document.getElementById("docnocontri");c.classList.add("ng-touched"),c.classList.add("ng-invalid"),j.formControl.docnocontri=!0,b=!1}}return b},j.enviarevento=function(a){j.loading=!0;var b="";if(b=j.contri?a.rucrec.$modelValue:a.docnocontri.$modelValue,!j.esCamposValidos(a))return void(j.loading=!1);f.getTipoReceptor(b,j.cdc).then(function(b){if(202===b.status){if(j.loading=!1,j.receptorEsFacturadorElectronico=b.data.body.esFacturadorElectronico,j.receptorContribuyenteNoElectronico=b.data.body.esContribuyenteNoElectronico,"SI"==j.receptorEsFacturadorElectronico)return j.loadingevento=!1,j.haymsjeventook=!1,j.haymsjeventoerror=!0,void(j.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar los eventos del receptor por los Servicios Web disponibles o a través del sistema Ekuatia’i según corresponda");if("SI"==j.receptorContribuyenteNoElectronico)return j.loadingevento=!1,j.haymsjeventook=!1,j.loadingevento=!1,j.haymsjeventoerror=!0,void(j.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar el evento del receptor mediante la herramienta que será disponibilizada en el Sistema Marangatu");"NO"==j.receptorContribuyenteNoElectronico&&(j.usuario="persona",j.contrasenha=j.cdc);var c=j.usuario+":"+j.contrasenha,d=window.btoa(c);j.nocontri&&!j.selecteddoc&&"SI"==j.receptorEsFacturadorElectronico?j.loadingevento=!1:(j.notificacion&&(j.nocontri?j.formevento={id:j.cdc,dfecEmi:j.formatearFecha(document.getElementById("fechaEmision").value),dfecRecep:j.getFechaRecepcionConHoraActual(),itipRec:2,dtipIDRec:a.tipodoc.$viewValue.valor,dnomRec:a.nombrenocontri.$viewValue,dnumID:a.docnocontri.$viewValue,dtotalGs:a.totalGeneral.$viewValue}:j.formevento={id:j.cdc,dfecEmi:j.formatearFecha(document.getElementById("fechaEmision").value),dfecRecep:j.getFechaRecepcionConHoraActual(),itipRec:1,dnomRec:a.nombrecontri.$viewValue,drucRec:a.rucrec.$viewValue,ddvrec:a.digitoruc.$viewValue,dtotalGs:a.totalGeneral.$viewValue},f.enviareventonotificacion(j.formevento,d).then(function(a){202===a.status?(j.loadingevento=!1,j.haymensaje=!1,j.haymsjeventook=!0,j.haymsjeventoerror=!1,a.data.descripcion?j.mensajevento="Aprobado con observación: "+a.data.descripcion:j.mensajevento="Evento aprobado",j.actualizareventos()):(a.status,j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,a.data.descripcion?j.mensajevento="Rechazado: "+a.data.descripcion:j.mensajevento="Rechazado")},function(a){j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,a.data.descripcion?j.mensajevento="Rechazado: "+a.data.descripcion:j.mensajevento="Error. Vuelva a intentar"})),j.desconocimiento&&(j.nocontri?j.formevento={id:j.cdc,dfecEmi:j.formatearFecha(document.getElementById("fechaEmision").value),dfecRecep:j.getFechaRecepcionConHoraActual(),itipRec:2,dtipIDRec:a.tipodoc.$viewValue.valor,dnomRec:a.nombrenocontri.$viewValue,dnumID:a.docnocontri.$viewValue,motEve:a.motivodes.$viewValue}:j.formevento={id:j.cdc,dfecEmi:j.formatearFecha(document.getElementById("fechaEmision").value),dfecRecep:j.getFechaRecepcionConHoraActual(),itipRec:1,dnomRec:a.nombrecontri.$viewValue,drucRec:a.rucrec.$viewValue,ddvrec:a.digitoruc.$viewValue,motEve:a.motivodes.$viewValue},f.enviareventodesconocimiento(j.formevento,d).then(function(a){202===a.status?(j.loadingevento=!1,j.haymensaje=!1,j.haymsjeventook=!0,j.haymsjeventoerror=!1,a.data.descripcion?j.mensajevento="Aprobado con observación: "+a.data.descripcion:j.mensajevento="Evento aprobado",j.actualizareventos()):(a.status,j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,a.data.descripcion?j.mensajevento="Rechazado: "+a.data.descripcion:j.mensajevento="Rechazado")},function(a){j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,a.data.descripcion?j.mensajevento="Rechazado: "+a.data.descripcion:j.mensajevento="Error. Vuelva a intentar"})))}else 401===b.status?(j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,j.mensajevento="Rechazado: "+b.mensaje):(j.loading=!1,j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,j.mensajevento="Rechazado: "+b.data.descripcion)},function(a){401===a.status&&(j.mensajevento="Rechazado: Tiempo de sesión finalizado. Favor realice nuevamente la consulta"),j.loading=!1,j.loadingevento=!1,j.haymsjeventoerror=!0,j.haymsjeventook=!1,a.data.descripcion?j.mensajevento="Rechazado: "+a.data.descripcion:null!=j.mensajevento&&0!=j.mensajevento.length||(j.mensajevento="Atención. Ha ocurrido un inconveniente con la conexión al servidor. Favor vuelva a intentar")})},j.cleanForm=function(){j.notificacion&&(j.nocontri?(document.querySelectorAll('input[name="fecha"]')[0].value="",document.querySelectorAll('input[name="fecha"]')[1].value="",document.querySelector('input[name="nombrenocontri"]'),document.querySelector('input[name="docnocontri"]').value="",document.querySelector('input[name="totalGeneral"]').value=""):(document.querySelectorAll('input[name="fecha"]')[0].value="",document.querySelectorAll('input[name="fecha"]')[1].value="",document.querySelector('input[name="nombrecontri"]').value="",document.querySelector('input[name="rucrec"]').value="",document.querySelector('input[name="digitoruc"]').value="",document.querySelector('input[name="totalGeneral"]').value="")),j.desconocimiento&&(j.nocontri?(document.querySelectorAll('input[name="fecha"]')[0].value="",document.querySelectorAll('input[name="fecha"]')[1].value="",document.querySelector('input[name="nombrenocontri"]'),document.querySelector('input[name="docnocontri"]').value="",document.getElementById("motivodes").value=""):(document.querySelectorAll('input[name="fecha"]')[0].value="",document.querySelectorAll('input[name="fecha"]')[1].value="",document.querySelector('input[name="nombrecontri"]').value="",document.querySelector('input[name="rucrec"]').value="",document.querySelector('input[name="digitoruc"]').value="",document.getElementById("motivodes").value=""))},j.mostrarenviar=function(){j.enviar=!0},j.isSet=function(a){return j.tab===a},j.showform=function(a){j.vista=a},j.imprimir=function(){d.print()},j.descargarxml=function(){f.descargarxml(j.cdc).then(function(a){if(j.loading=!0,200===a.status){j.mensaje=null,j.haymensaje=!1,j.loading=!1;var b=new Blob([a.data],{type:"application/xml"}),c=window.URL.createObjectURL(b);const d=document.createElement("a");d.style.display="none",d.href=c,d.download=j.cdc+".xml",document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c)}else 401===a.status||403===a.status?(j.haymensaje=!0,j.loading=!1,j.mensaje="Tiempo de sesión finalizado. Realice una nueva consulta para la descarga"):(j.haymensaje=!0,j.loading=!1,j.mensaje="Error. Vuelva a intentar")},function(a){j.loading=!1,a.data.mensaje?j.mensaje=a.data.mensaje:j.mensaje="Error. Vuelva a intentar"})},j.guardarpdf=function(){d.scrollTo(0,0),j.entro=!0;var a=document.getElementById("consultaform");html2canvas(a,{onrendered:function(b){for(var c=new jsPDF("p","pt",[612,980]),d=0;d<=a.clientHeight/980;d++){var e=b,f=0,g=980*d,h=a.clientWidth,i=980,k=0,l=0,m=a.clientWidth,n=980;window.onePageCanvas=document.createElement("canvas"),onePageCanvas.setAttribute("width",a.clientWidth),onePageCanvas.setAttribute("height",980);onePageCanvas.getContext("2d").drawImage(e,f,g,h,i,k,l,m,n);var o=onePageCanvas.toDataURL("image/png",1),p=onePageCanvas.width,q=onePageCanvas.clientHeight;d>0&&c.addPage(612,980),c.setPage(d+1),c.addImage(o,"PNG",15,15,.62*p-250,.62*q)}c.save(j.nombretab+"CDC.pdf")}})},j.isActive=function(b){return!(!a.getCurrentPath()[2].state.name.includes(b)&&!a.getCurrentPath()[2].state.name.includes("main.resumen"))},j.gotopestanhas=function(){j.vistaticket?j.vistaticket=!1:j.vistaticket=!0},j.irconsulta=function(b){a.go("main",{cdc:b})},j.actualizareventos=function(){j.consultaform3={cdc:j.cdc},f.retornareventos(j.consultaform3).then(function(a){if(200===a.status){if(g.response=a,j.eventos=a.data.Evento,j.hayevento=!1,j.eventos.length>0){j.hayevento=!0;var b=0,c=0;j.eventosreceptor=[],j.eventosemisor=[];for(var d=0;d<j.eventos.length;d++)"RECEPTOR"===j.eventos[d].origenEvento?(j.eventosreceptor[b]=j.eventos[d],j.eventosreceptor[b].dFecProc=e("date")(j.eventosreceptor[b].dFecProc,"dd-MM-yyyy HH:mm:ss"),b++):(j.eventosemisor[c]=j.eventos[d],c++)}else j.hayevento=!1;j.loadingevento=!1}else j.loadingevento=!1},function(a){j.cdcasociado=!1,j.loadingevento=!1,a.data.mensaje?j.mensaje=a.data.mensaje:j.mensaje="Error. Vuelva a intentar"})},b.$on("$viewContentLoaded",function(){j.ancho=$(window).width(),j.ancho>575?j.grande=!0:j.grande=!1,j.cdc?(j.haymensaje=!1,j.consultaform3={cdc:j.cdc},j.loading=!0,f.retornareventos(j.consultaform3).then(function(a){if(200===a.status){if(g.response=a,j.eventos=a.data.Evento,j.hayevento=!1,j.eventos.length>0){j.hayevento=!0;var b=0,c=0;j.eventosreceptor=[],j.eventosemisor=[];for(var d=0;d<j.eventos.length;d++)"RECEPTOR"===j.eventos[d].origenEvento?(j.eventosreceptor[b]=j.eventos[d],j.eventosreceptor[b].dFecProc=e("date")(j.eventosreceptor[b].dFecProc,"dd-MM-yyyy HH:mm:ss"),b++):(j.eventosemisor[c]=j.eventos[d],c++)}else j.hayevento=!1;j.loading=!1}else j.loading=!1,j.mensaje=a.data.mensaje},function(a){j.cdcasociado=!1,j.loading=!1,a.data.mensaje?j.mensaje=a.data.mensaje:j.mensaje="Error. Vuelva a intentar"})):(j.haymensaje=!0,j.mensaje="Ingrese CDC para enviar eventos.")})}]),angular.module("consultaspublicasApp").service("commons",function(){function a(a){var b=!0;return 200===a.status&&1==a.data.id?Array.isArray(a.data.genericList)?0===a.data.genericList.length&&(b=!1):c(a.data.genericList)&&(b=!1):b=!1,b}function b(a){var b=!0;return 200===a.status?c(a.data)?b=!1:1==a.data.id?c(a.data.genericData)&&(b=!1):b=!1:b=!1,b}function c(a){var b=!1;return void 0===a&&(b=!0),""===a&&(b=!0),null===a&&(b=!0),b}function d(a){a="string"!=typeof a?JSON.stringify(a):a;try{a=JSON.parse(a)}catch(a){return!1}return 0!==Object.entries(a).length&&("object"==typeof a&&null!==a)}function e(a){if(d(a))for(var b in a)if(c(a[b]))delete a[b];else if(0!==Object.entries(a[b]).length){var e=a[b],f=!1;for(var g in e)c(e[g])?delete e[g]:f=!0;f||delete a[b]}return a}function f(a,b){if(!c(a)&&!c(b))return"USD"==a?g("round",b,-2):Math.round(b)}function g(a,b,c){return void 0===c||0==+c?Math[a](b):(b=+b,c=+c,isNaN(b)||"number"!=typeof c||c%1!=0?NaN:(b=b.toString().split("e"),b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c))),b=b.toString().split("e"),+(b[0]+"e"+(b[1]?+b[1]+c:c))))}function h(a){var b=!0;return 202===a.status&&1==a.data.id?Array.isArray(a.data.genericList)?0===a.data.genericList.length&&(b=!1):c(a.data.genericList)&&(b=!1):b=!1,b}function i(a){var b=!0;if(202===a.status)if(c(a.data))b=!1;else{if(!c(a.data.genericData)&&"Observacion"===a.data.genericData)return!0;1==a.data.id?c(a.data.descripcion)||(b=!1):b=!1}else b=!1;return b}function j(a,b){try{return a}catch(a){return b}}return{verificarRespuestaGenericList:a,verificarRespuestaGenericData:b,isEmptyNullUndefined:c,isJson:d,generarFiltrosLimpios:e,formatoPrecio:f,verificarRespuestaGenericList202:h,verificarRespuestaEventosReceptor:i,getSafe:j}}),angular.module("consultaspublicasApp").directive("mainTransporte",function(){return{templateUrl:"views/main-transporte.html"}}),angular.module("consultaspublicasApp").directive("mainOtros",function(){return{templateUrl:"views/main-otros.html"}}),angular.module("consultaspublicasApp").filter("capitalize",function(){return function(a){return a?a.charAt(0).toUpperCase()+a.substr(1).toLowerCase():""}}),angular.module("consultaspublicasApp").directive("mainCredito",function(){return{templateUrl:"views/main-credito.html"}}),angular.module("consultaspublicasApp").directive("mainEventosreceptor",function(){return{templateUrl:"views/main-eventosreceptor.html"}}),angular.module("consultaspublicasApp").controller("ModalfuncionaCtrl",["$modalInstance","$state",function(a,b){this.close=function(){a.close()},this.irEventoReceptor=function(){a.close(),b.go("vistade")}}]),angular.module("consultaspublicasApp").controller("Main150Ctrl",["$state","$scope","$window","$stateParams","$filter","consulta","vcRecaptchaService","moment","$sessionStorage","commons",function(a,b,c,d,e,f,g,h,i,j){function k(a){switch(a){case 1:o.descripcionDoc="FACTURA ELECTRÓNICA";break;case 4:o.descripcionDoc="AUTOFACTURA ELECTRÓNICA";break;case 5:o.descripcionDoc="NOTA DE CRÉDITO ELECTRÓNICA";break;case 6:o.descripcionDoc="NOTA DE DÉBITO ELECTRÓNICA";break;case 7:o.descripcionDoc="NOTA DE REMISIÓN ELECTRÓNICA";break;case 9:o.descripcionDoc="BOLETA DE VENTA ELECTRÓNICA";break;case 10:o.descripcionDoc="BOLETA RESIMPLE ELECTRÓNICA",o.esBoletaReSimple=!0,o.tab=11}}function l(a){var b=a;1==b.gDatGralOpe.gEmis.iTipCont?o.nombreComercial=b.gDatGralOpe.gEmis.dNomEmi:o.nombreComercial="DE "+b.gDatGralOpe.gEmis.dNomEmi,o.rucEmisorCompleto=b.gDatGralOpe.gEmis.dRucEm+"-"+b.gDatGralOpe.gEmis.dDVEmi,o.ciudadEmisor=b.gDatGralOpe.gEmis.cCiuEmi,o.telefonoEmisor=b.gDatGralOpe.gEmis.dTelEmi,o.correoEmisor=b.gDatGralOpe.gEmis.dEmailE,o.nombreUbicacion=b.gDatGralOpe.gEmis.dDirEmi;var c=b&&b.gDatGralOpe&&b.gDatGralOpe.gEmis&&b.gDatGralOpe.gEmis.gActEco?b.gDatGralOpe.gEmis.gActEco:null;Array.isArray(c)&&c.length>0&&c[0].dDesActEco?o.actividadEconomicaEmisor=c[0].dDesActEco:c&&"object"==typeof c&&c.dDesActEco?o.actividadEconomicaEmisor=c.dDesActEco:o.actividadEconomicaEmisor="",o.timbradoEmisor=b.gTimb.dNumTim;var d=h.utc(b.gTimb.dFeIniT).format("DD/MM/YYYY");switch(o.fechaInicioVigencia=d,o.numeroDocumento=b.gTimb.dEst+"-"+b.gTimb.dPunExp+"-"+b.gTimb.dNumDoc,k(b.gTimb.iTiDE),o.totalSubtotal=!1,b.gTotSub&&(o.totalSubtotal=!0),b.gTimb.iTiDE){case 1:o.mostrarFE=1;if(o.fechaEmision=h(b.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==b.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=b.gDatGralOpe.gDatRec.dRucRec+"-"+b.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=b.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=b.gDatGralOpe.gDatRec.dNomRec,o.correoReceptor=b.gDatGralOpe.gDatRec.dEmailRec,o.direcionRerceptor=b.gDatGralOpe.gDatRec.dDirRec,o.telefonoReceptor=b.gDatGralOpe.gDatRec.dTelRec,o.tipoTransaccion=b.gDatGralOpe.gOpeCom.dDesTipTra,o.condicionOperacion=b.gDtipDE.gCamCond.iCondOpe,o.codigoMoneda=b.gDatGralOpe.gOpeCom.cMoneOpe,"PYG"!=o.codigoMoneda&&(o.monedaOperacion=b.gDatGralOpe.gOpeCom.dDesMoneOpe,o.tipoCambio=b.gDatGralOpe.gOpeCom.dTiCam,1==b.gDatGralOpe.gOpeCom.dCondTiCam?o.condicionTipoCambio="Global":o.condicionTipoCambio="Por ítem"),o.listaItem=[],Array.isArray(b.gDtipDE.gCamItem)){p=b.gDtipDE.gCamItem;for(var e=0;e<p.length;e++){var f={};f.codigoInterno=p[e].dCodInt,f.cantidad=p[e].dCantProSer,f.descripcion=p[e].dDesProSer,f.precioUnitario=p[e].gValorItem.dPUniProSer,j.isEmptyNullUndefined(p[e].gValorItem.gValorRestaItem.dDescGloItem)?f.descuentoGloblaEItem=p[e].gValorItem.gValorRestaItem.dDescItem:f.descuentoGloblaEItem=p[e].gValorItem.gValorRestaItem.dDescItem+p[e].gValorItem.gValorRestaItem.dDescGloItem,10==p[e].gCamIVA.dTasaIVA?f.totalItem10=p[e].gValorItem.gValorRestaItem.dTotOpeItem:5==p[e].gCamIVA.dTasaIVA?f.totalItem5=p[e].gValorItem.gValorRestaItem.dTotOpeItem:f.totalItemExenta=p[e].gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}}else{var f={};f.codigoInterno=b.gDtipDE.gCamItem.dCodInt,f.cantidad=b.gDtipDE.gCamItem.dCantProSer,f.descripcion=b.gDtipDE.gCamItem.dDesProSer,f.precioUnitario=b.gDtipDE.gCamItem.gValorItem.dPUniProSer,j.isEmptyNullUndefined(j.getSafe(b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescGloItem))?f.descuentoGloblaEItem=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescItem:f.descuentoGloblaEItem=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescItem+b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescGloItem,10==b.gDtipDE.gCamItem.gCamIVA.dTasaIVA?f.totalItem10=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem:5==b.gDtipDE.gCamItem.gCamIVA.dTasaIVA?f.totalItem5=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem:f.totalItemExenta=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}o.subtotalDescuentos=b.gTotSub.dDescTotal,o.subtotalIva10=b.gTotSub.dSub10,o.subtotalIva5=b.gTotSub.dSub5,o.subtotalExento=b.gTotSub.dSubExe,o.totalOperacion=b.gTotSub.dTotGralOpe,"PYG"!=o.codigoMoneda&&(o.totalGuaranies=b.gTotSub.dTotalGs),o.subtotalLiquidacionIva10=b.gTotSub.dIVA10,o.subtotalLiquidacionIva5=b.gTotSub.dIVA5,o.totalIVA=b.gTotSub.dTotIVA;break;case 4:if(o.mostrarAE=4,o.fechaEmision=h(b.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==b.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=b.gDatGralOpe.gDatRec.dRucRec+"-"+b.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=b.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=b.gDatGralOpe.gDatRec.dNomRec,o.correoReceptor=b.gDatGralOpe.gDatRec.dEmailRec,o.tipoTransaccion=b.gDatGralOpe.gOpeCom.dDesTipTra,o.condicionOperacion=b.gDtipDE.gCamCond.iCondOpe,o.codigoMoneda=b.gDatGralOpe.gOpeCom.cMoneOpe,"PYG"!=o.codigoMoneda&&(o.monedaOperacion=b.gDatGralOpe.gOpeCom.dDesMoneOpe,o.tipoCambio=b.gDatGralOpe.gOpeCom.dTiCam,o.condicionTipoCambioCodigo=b.gDatGralOpe.gOpeCom.dCondTiCam,1==b.gDatGralOpe.gOpeCom.dCondTiCam?o.condicionTipoCambio="Global":o.condicionTipoCambio="Por ítem"),o.cedulaVendedor=b.gDtipDE.gCamAE.dNumIDVen,o.nombreVendedor=b.gDtipDE.gCamAE.dNomVen,o.dirVendedor=b.gDtipDE.gCamAE.dDirVen,o.dptoVendedor=b.gDtipDE.gCamAE.dDesDepVen,o.ciuVendedor=b.gDtipDE.gCamAE.dDesCiuVen,
o.distritoTransaccion=b.gDtipDE.gCamAE.dDesDisProv,o.lugarTransaccion=b.gDtipDE.gCamAE.dDirProv,o.dptoProveedor=b.gDtipDE.gCamAE.dDesDepProv,o.ciudadTransaccion=b.gDtipDE.gCamAE.dDesCiuProv,o.listaItem=[],Array.isArray(b.gDtipDE.gCamItem)){p=b.gDtipDE.gCamItem;for(var e=0;e<p.length;e++){var f={};f.codigoInterno=p[e].dCodInt,f.cantidad=p[e].dCantProSer,f.descripcion=p[e].dDesProSer,f.precioUnitario=p[e].gValorItem.dPUniProSer,f.totalOperacionAE=p[e].gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}}else{var f={};f.codigoInterno=b.gDtipDE.gCamItem.dCodInt,f.cantidad=b.gDtipDE.gCamItem.dCantProSer,f.descripcion=b.gDtipDE.gCamItem.dDesProSer,f.precioUnitario=b.gDtipDE.gCamItem.gValorItem.dPUniProSer,f.totalOperacionAE=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}o.totalOperacion=b.gTotSub.dTotGralOpe,"PYG"!=o.codigoMoneda&&(o.totalGuaranies=b.gTotSub.dTotalGs);break;case 5:o.mostrarNCD=5,m(b);break;case 6:o.mostrarNCD=6,m(b);break;case 7:if(o.mostrarNRE=7,o.fechaEmision=h(b.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==b.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=b.gDatGralOpe.gDatRec.dRucRec+"-"+b.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=b.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=b.gDatGralOpe.gDatRec.dNomRec,o.correoReceptor=b.gDatGralOpe.gDatRec.dEmailRec,o.direcionRerceptor=b.gDatGralOpe.gDatRec.dDirRec,o.telefonoReceptor=b.gDatGralOpe.gDatRec.dTelRec,o.motivoEmision=b.gDtipDE.gCamNRE.dDesMotEmiNR,o.responsableEmisionNRE=b.gDtipDE.gCamNRE.dDesRespEmiNR,null!=b.fechadFecEm?o.fechaFuturaEmisionFactura=b.fechadFecEm:o.fechaFuturaEmisionFactura=null,null!=b.gCamDEAsoc&&(o.hideTipoAsoc=!1,1==b.gCamDEAsoc.iTipDocAso?(o.tipoDocumentoAsociado=b.gCamDEAsoc.dDesTipDocAso,o.hideCdc=!1,o.hideImpreso=!0,o.cdcAsociado=b.gCamDEAsoc.dCdCDERef,o.dFecEmiDI=o.DTE.fechaEmisionAsociado,o.rucFusionado=b.gCamDEAsoc.dRucFus):2==b.gCamDEAsoc.iTipDocAso&&(o.hideCdc=!0,o.hideImpreso=!1,o.tipoDocumentoAsociado=b.gCamDEAsoc.dDesTipDocAso,o.nroDocumentoAsociado=b.gCamDEAsoc.dNumDocAso,o.timbradoNro=b.gCamDEAsoc.dNTimDI,o.fechaEmisionDocumentoAsociado=h(b.gCamDEAsoc.dFecEmiDI,"YYYY-MM-DD").format("DD/MM/YYYY"))),o.tipoTransporte=b.gDtipDE.gTransp.dDesTipTrans,o.modalidadTransporte=b.gDtipDE.gTransp.dDesModTrans,o.responsableCostoFlete=o.desResponsableFlete[b.gDtipDE.gTransp.iRespFlete],o.tipoVehiculo=b.gDtipDE.gTransp.gVehTras.dTiVehTras,o.marca=b.gDtipDE.gTransp.gVehTras.dMarVeh,o.chapa=b.gDtipDE.gTransp.gVehTras.dNroIDVeh,j.isEmptyNullUndefined(o.chapa)&&(o.chapa=b.gDtipDE.gTransp.gVehTras.dNroMatVeh),o.numeroVuelo=b.gDtipDE.gTransp.gVehTras.dNroVuelo,o.direccionLocalSalida=b.gDtipDE.gTransp.gCamSal.dDirLocSal,o.ciudadDptoLocalSalida=b.gDtipDE.gTransp.gCamSal.dDesCiuSal+"-"+b.gDtipDE.gTransp.gCamSal.dDesDepSal,o.direccionLocalEntrega=b.gDtipDE.gTransp.gCamEnt.dDirLocEnt,o.ciudadDptoLocalEntrega=b.gDtipDE.gTransp.gCamEnt.dDesCiuEnt+"-"+b.gDtipDE.gTransp.gCamEnt.dDesDepEnt,o.fechaInicioTraslado=h(b.gDtipDE.gTransp.dIniTras,"YYYY-MM-DD").format("DD/MM/YYYY"),o.fechaFinTraslado=h(b.gDtipDE.gTransp.dFinTras,"YYYY-MM-DD").format("DD/MM/YYYY"),j.isEmptyNullUndefined(b.gDtipDE.gTransp.gCamTrans.dRucTrans)?o.rucDocIdentidadTransportista=b.gDtipDE.gTransp.gCamTrans.dNumIDTrans:o.rucDocIdentidadTransportista=b.gDtipDE.gTransp.gCamTrans.dRucTrans+"-"+b.gDtipDE.gTransp.gCamTrans.dDVTrans,o.nroDocChofer=b.gDtipDE.gTransp.gCamTrans.dNumIDChof,o.rucAgente=(j.isEmptyNullUndefined(b.gDtipDE.gTransp.gCamTrans.dRucAg)?"":b.gDtipDE.gTransp.gCamTrans.dRucAg+"-")+(j.isEmptyNullUndefined(b.gDtipDE.gTransp.gCamTrans.dDVAg)?"":b.gDtipDE.gTransp.gCamTrans.dDVAg),o.nombreTransportista=b.gDtipDE.gTransp.gCamTrans.dNomTrans,o.nombreChofer=b.gDtipDE.gTransp.gCamTrans.dNomChof,o.nombreAgente=b.gDtipDE.gTransp.gCamTrans.dNombAg,o.listaItem=[],Array.isArray(b.gDtipDE.gCamItem)){p=b.gDtipDE.gCamItem;for(var e=0;e<p.length;e++){var f={};f.codigo=p[e].dCodInt,f.cantidad=p[e].dCantProSer,f.cantidadQuiebraMerma=null==p[e].dCanQuiMer?0:p[e].dCanQuiMer,f.porcentajeQuiebraMerma=p[e].dPorQuiMer,f.descripcion=p[e].dDesProSer,o.listaItem.push(f)}}else{o.listaItem=[];var f={};f.codigo=b.gDtipDE.gCamItem.dCodInt,f.cantidad=b.gDtipDE.gCamItem.dCantProSer,f.cantidadQuiebraMerma=null==b.gDtipDE.gCamItem.dCanQuiMer?0:b.gDtipDE.gCamItem.dCanQuiMer,f.porcentajeQuiebraMerma=b.gDtipDE.gCamItem.dPorQuiMer,f.descripcion=b.gDtipDE.gCamItem.dDesProSer,o.listaItem.push(f)}break;case 9:if(o.mostrarBVE=9,o.fechaEmision=h(b.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==b.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=b.gDatGralOpe.gDatRec.dRucRec+"-"+b.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=b.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=b.gDatGralOpe.gDatRec.dNomRec,o.correoReceptor=b.gDatGralOpe.gDatRec.dEmailRec,o.direcionRerceptor=b.gDatGralOpe.gDatRec.dDirRec,o.telefonoReceptor=b.gDatGralOpe.gDatRec.dTelRec,o.tipoTransaccion=b.gDatGralOpe.gOpeCom.dDesTipTra,o.condicionOperacion=b.gDtipDE.gCamCond.iCondOpe,o.codigoMoneda=b.gDatGralOpe.gOpeCom.cMoneOpe,"PYG"!=o.codigoMoneda&&(o.monedaOperacion=b.gDatGralOpe.gOpeCom.dDesMoneOpe,o.tipoCambio=b.gDatGralOpe.gOpeCom.dTiCam,1==b.gDatGralOpe.gOpeCom.dCondTiCam?o.condicionTipoCambio="Global":o.condicionTipoCambio="Por ítem"),o.listaItem=[],Array.isArray(b.gDtipDE.gCamItem)){p=b.gDtipDE.gCamItem;for(var e=0;e<p.length;e++){var f={};f.cantidad=p[e].dCantProSer,f.descripcion=p[e].dDesProSer,f.precioUnitario=p[e].gValorItem.dPUniProSer,f.tasaDelIva=p[e].gCamIVA.dTasaIVA,f.totalOpeItemPorFila=p[e].gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}}else{var f={};f.codigoInterno=null==b.gDtipDE.gCamItem.dCodInt?"":b.gDtipDE.gCamItem.dCodInt,f.cantidad=b.gDtipDE.gCamItem.dCantProSer,f.descripcion=b.gDtipDE.gCamItem.dDesProSer,f.precioUnitario=b.gDtipDE.gCamItem.gValorItem.dPUniProSer,f.tasaDelIva=b.gDtipDE.gCamItem.gCamIVA.dTasaIVA,f.totalOpeItemPorFila=b.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(f)}null!=b.gTotSub.dTotGralOpe&&(o.totalOperacion=b.gTotSub.dTotGralOpe,"PYG"!=o.codigoMoneda&&(o.totalGuaranies=b.gTotSub.dTotalGs));break;case 10:o.mostrarBRS=10,o.fechaEmision=h(b.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==b.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=b.gDatGralOpe.gDatRec.dRucRec+"-"+b.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=b.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=b.gDatGralOpe.gDatRec.dNomRec,o.totalOperacion=b.gTotSub.dTotGralOpe}}function m(a){h.utc(a.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD-MM-YYYY");if(o.fechaEmision=h(a.gDatGralOpe.dFeEmiDE,"YYYY-MM-DDTHH:mm:ss").format("DD/MM/YYYY"),1==a.gDatGralOpe.gDatRec.iNatRec?o.rucReceptor=a.gDatGralOpe.gDatRec.dRucRec+"-"+a.gDatGralOpe.gDatRec.dDVRec:o.rucReceptor=a.gDatGralOpe.gDatRec.dNumIDRec,o.nombreRazonSocial=a.gDatGralOpe.gDatRec.dNomRec,o.correoReceptor=a.gDatGralOpe.gDatRec.dEmailRec,o.direcionRerceptor=a.gDatGralOpe.gDatRec.dDirRec,o.telefonoReceptor=a.gDatGralOpe.gDatRec.dTelRec,o.codigoMoneda=a.gDatGralOpe.gOpeCom.cMoneOpe,"PYG"!=o.codigoMoneda&&(o.monedaOperacion=a.gDatGralOpe.gOpeCom.dDesMoneOpe,o.tipoCambio=a.gDatGralOpe.gOpeCom.dTiCam,1==a.gDatGralOpe.gOpeCom.dCondTiCam?o.condicionTipoCambio="Global":o.condicionTipoCambio="Por ítem"),o.motivoEmision=a.gDtipDE.gCamNCDE.dDesMotEmi,Array.isArray(a.gCamDEAsoc))for(var b=0;b<a.gCamDEAsoc.length;b++)1==a.gCamDEAsoc[b].iTipDocAso?(o.hideImp=!0,o.hideCdc=!1,o.cdcAsociado=a.gCamDEAsoc[b].dCdCDERef,o.dFecEmiDI=o.DTE.fechaEmisionAsociado):2==a.gCamDEAsoc[b].iTipDocAso&&(o.hideCdc=!0,o.hideImp=!1,o.dNumDocAso=a.gCamDEAsoc[b].dEstDocAso+"-"+a.gCamDEAsoc[b].dPExpDocAso+"-"+a.gCamDEAsoc[b].dNumDocAso,o.dFecEmiDI=h(a.gCamDEAsoc[b].dFecEmiDI,"YYYY-MM-DD").format("DD/MM/YYYY"));else 1==a.gCamDEAsoc.iTipDocAso?(o.hideImp=!0,o.hideCdc=!1,o.cdcAsociado=a.gCamDEAsoc.dCdCDERef,o.dFecEmiDI=o.DTE.fechaEmisionAsociado):2==a.gCamDEAsoc.iTipDocAso&&(o.hideCdc=!0,o.hideImp=!1,o.dNumDocAso=a.gCamDEAsoc.dEstDocAso+"-"+a.gCamDEAsoc.dPExpDocAso+"-"+a.gCamDEAsoc.dNumDocAso,o.dFecEmiDI=h(a.gCamDEAsoc.dFecEmiDI,"YYYY-MM-DD").format("DD/MM/YYYY"));if(o.listaItem=[],Array.isArray(a.gDtipDE.gCamItem)){p=a.gDtipDE.gCamItem;for(var b=0;b<p.length;b++){var c={};c.codigoInterno=p[b].dCodInt,c.cantidad=p[b].dCantProSer,c.descripcion=p[b].dDesProSer,c.precioUnitario=p[b].gValorItem.dPUniProSer,c.descuentoGloblaEItem=p[b].gValorItem.gValorRestaItem.dDescItem+p[b].gValorItem.gValorRestaItem.dDescGloItem,10==p[b].gCamIVA.dTasaIVA?c.totalItem10=p[b].gValorItem.gValorRestaItem.dTotOpeItem:5==p[b].gCamIVA.dTasaIVA?c.totalItem5=p[b].gValorItem.gValorRestaItem.dTotOpeItem:c.totalItemExenta=p[b].gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(c)}}else{o.listaItem=[];var c={};c.codigoInterno=a.gDtipDE.gCamItem.dCodInt,c.cantidad=a.gDtipDE.gCamItem.dCantProSer,c.descripcion=a.gDtipDE.gCamItem.dDesProSer,c.precioUnitario=a.gDtipDE.gCamItem.gValorItem.dPUniProSer,c.descuentoGloblaEItem=a.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescItem+a.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dDescGloItem,10==a.gDtipDE.gCamItem.gCamIVA.dTasaIVA?c.totalItem10=a.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem:5==a.gDtipDE.gCamItem.gCamIVA.dTasaIVA?c.totalItem5=a.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem:c.totalItemExenta=a.gDtipDE.gCamItem.gValorItem.gValorRestaItem.dTotOpeItem,o.listaItem.push(c)}o.subtotalDescuentos=a.gTotSub.dDescTotal,o.subtotalIva10=a.gTotSub.dSub10,o.subtotalIva5=a.gTotSub.dSub5,o.subtotalExento=a.gTotSub.dSubExe,o.totalOperacion=a.gTotSub.dTotGralOpe,"PYG"!=o.codigoMoneda&&(o.totalGuaranies=a.gTotSub.dTotalGs),o.subtotalLiquidacionIva10=a.gTotSub.dIVA10,o.subtotalLiquidacionIva5=a.gTotSub.dIVA5,o.totalIVA=a.gTotSub.dTotIVA}function n(a){o.haymensaje=!1,o.receptorEsFacturadorElectronico=a.data.esReceptorFacturadorElectronico,o.receptorContribuyenteNoElectronico=a.data.esReceptorContribuyenteNoElectronico,o.datos=a.data.DE,o.DTE=a.data.DTE,o.version=o.DTE.dVerFor,o.digestvalue=o.DTE.digestValue,o.valorqr=o.DTE.qrCode,o.hashqr=o.DTE.cHashQR,o.serie=null!=o.DTE.serieDTE?o.DTE.serieDTE:"",o.transaccionCDC=o.DTE.dProtAut,o.transaccionCDCfecha=o.DTE.dFecProc,o.transaccionCDCfecha=e("date")(o.transaccionCDCfecha,"dd-MM-yyyy HH:mm:ss"),o.estadocdc=o.DTE.dEstRes;var b=datos&&datos.gDatGralOpe&&datos.gDatGralOpe.gEmis&&datos.gDatGralOpe.gEmis.gActEco?datos.gDatGralOpe.gEmis.gActEco:null;if(Array.isArray(b)&&b.length>0&&b[0].dDesActEco){var c=b;o.descripcionactividad="";for(var d=0;d<c.length;d++)o.descripcionactividad+=d+1+". "+c[d].dDesActEco,o.descripcionactividad+=";\n"}else b&&"object"==typeof b&&b.dDesActEco?o.descripcionactividad=b.dDesActEco:o.descripcionactividad="";if(o.response.data.Evento)if(o.eventos=o.response.data.Evento,o.hayevento=!1,o.naturalezaReceptorEvento="",o.tipoOperacionEvento="",o.tipoContribuyenteEvento="",o.eventos.length>0){o.hayevento=!0;var f=0,g=0;o.eventosreceptor=[],o.eventosemisor=[];for(var d=0;d<o.eventos.length;d++)"RECEPTOR"===o.eventos[d].origenEvento?(o.eventosreceptor[f]=o.eventos[d],o.eventosreceptor[f].dFecProc=e("date")(o.eventosreceptor[f].dFecProc,"dd-MM-yyyy HH:mm:ss"),f++):(o.eventosemisor[g]=o.eventos[d],g++),2==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2C":1==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2B":3==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2G":4==o.eventos[d].TipoOperacion&&(o.tipoOperacionEvento="B2F"),1==o.eventos[d].NaturalezaReceptor?o.naturalezaReceptorEvento="Contribuyente":o.naturalezaReceptorEvento="No Contribuyente",1==o.eventos[d].TipoContribuyente?o.tipoContribuyenteEvento="Persona Física":2==o.eventos[d].TipoContribuyente&&(o.tipoContribuyenteEvento="Persona Jurídica")}else o.hayevento=!1;if(o.fecha=o.datos.dFecFirma,o.cSisFact=o.datos.dSisFact,1==o.cSisFact?o.cSisFact="Sistema de Facturación del Contribuyente":2==o.cSisFact?o.cSisFact="Solución Gratuita":o.cSisFact="",o.fecha=e("date")(o.fecha,"dd-MM-yyyy HH:mm:ss"),o.campostimbrado=o.datos.gTimb,o.tipoDEcodigo=o.campostimbrado.iTiDE,2==o.datos.dSisFact?(l(o.datos),o.vistaKUDE=!0,o.vistaticket=!1,o.vistapestanhas=!1):(o.vistaKUDE=!1,o.vistaticket=!1,o.vistapestanhas=!0),o.tipoDE=o.campostimbrado.dDesTiDE,o.nrotimbrado=o.campostimbrado.dNumTim,o.establecimiento=o.campostimbrado.dEst,o.nroexpedicion=o.campostimbrado.dPunExp,o.nrodocumento=o.campostimbrado.dNumDoc,o.iniciovigenciatimbrado=e("date")(o.campostimbrado.dFeIniT,"dd-MM-yyyy HH:mm:ss"),o.nrodocumentototal=o.establecimiento+"-"+o.nroexpedicion+"-"+o.nrodocumento,o.camposgral=o.datos.gDatGralOpe,o.camposgral.gOpeCom){if(o.camposoprcomercial=o.camposgral.gOpeCom,o.camposoprcomercial.dDesTipTra&&(o.tipotransaccion=o.camposoprcomercial.dDesTipTra),o.camposoprcomercial.dCondTiCam)switch(o.camposoprcomercial.dCondTiCam){case 1:o.condiciontipodecambio="Global";break;case 2:o.condiciontipodecambio="Por Ítem"}if(o.camposoprcomercial.dTiCam&&(o.tipodecambio=e("formatPrice")(o.camposoprcomercial.dTiCam,"")),o.codigomoneda=o.camposoprcomercial.cMoneOpe,o.monedaoperacion=o.camposoprcomercial.dDesMoneOpe,o.tipoimpuestoafectado=o.camposoprcomercial.dDesTImp,o.obligacionafectada=o.camposoprcomercial.gOblAfe,o.listaObjetosObligaciones=[],!j.isEmptyNullUndefined(o.obligacionafectada)&&Array.isArray(o.obligacionafectada))o.listaObjetosObligaciones=o.obligacionafectada.map(function(a,b){var c={};return c.key=a.cOblAfe,c.valor=a.dDesOblAfe,c});else if(!j.isEmptyNullUndefined(o.obligacionafectada)){var i={};i.key=o.obligacionafectada.cOblAfe,i.valor=o.obligacionafectada.dDesOblAfe,o.listaObjetosObligaciones[0]=i}}if(o.fechaemision=o.camposgral.dFeEmiDE,o.fechaemision=e("date")(o.fechaemision,"dd-MM-yyyy HH:mm:ss"),o.maxDate=h(o.now),o.camposnaturaleza=o.camposgral.gDatRec,o.receptornaturaleza=o.camposnaturaleza.iNatRec,o.tipodocumento=o.camposnaturaleza.iTiOpe,2==o.tipodocumento&&1==o.tipoDEcodigo&&1==o.datos.dSisFact?(o.vistaticket=!0,o.vistapestanhas=!1,o.vistaKUDE=!1,o.operaciontipo="B2C",o.totalSubtotal=!1,o.datos.gTotSub&&(o.totalSubtotal=!0)):2==o.tipodocumento&&10==o.tipoDEcodigo&&1==o.datos.dSisFact?(o.vistaticket=!0,o.vistapestanhas=!1,o.vistaKUDE=!1,o.operaciontipo="B2C",o.totalSubtotal=!1,o.datos.gTotSub&&(o.totalSubtotal=!0)):1==o.tipodocumento?o.operaciontipo="B2B":3==o.tipodocumento?o.operaciontipo="B2G":4==o.tipodocumento?o.operaciontipo="B2F":(o.vistaticket=!1,2==o.tipodocumento&&(o.operaciontipo="B2C"),9==o.tipoDEcodigo||2==o.datos.dSisFact?(l(o.datos),o.vistapestanhas=!1,o.vistaKUDE=!0):(o.vistapestanhas=!0,o.vistaKUDE=!1,o.vistaticket=!1)),o.camposemisor=o.camposgral.gEmis,o.telemisor=null!=o.camposemisor.dTelEmi?o.camposemisor.dTelEmi:"",o.emailemisor=o.camposemisor.dEmailE,o.nombreemisor=o.camposemisor.dNomEmi,o.nombrefantasia=null!=o.camposemisor.dNomFanEmi?o.camposemisor.dNomFanEmi:"",o.rucemisor=o.camposemisor.dRucEm+"-"+o.camposemisor.dDVEmi,o.direccionDE=null!=o.camposemisor.dDirEmi?o.camposemisor.dDirEmi:"",o.ciudadDE=null!=o.camposemisor.dDesCiuEmi?o.camposemisor.dDesCiuEmi:"",o.sucursal=null!=o.camposemisor.dDenSuc?o.camposemisor.dDenSuc:"",o.camposreceptor=o.camposgral.gDatRec,null!=o.camposreceptor.dNumIDRec&&(o.cedulareceptor=o.camposreceptor.dNumIDRec),o.nombrereceptor=o.camposreceptor.dNomRec,o.camposreceptor.dRucRec?(o.usuario=o.camposreceptor.dRucRec,o.rucreceptor=o.camposreceptor.dRucRec+"-"+o.camposreceptor.dDVRec):o.rucreceptor="-",o.paisreceptor=o.camposreceptor.dDesPaisRe,1==o.receptornaturaleza?(o.contribuyente="Contribuyente",o.contri=!0,o.nocontri=!1,o.documentoreceptor=o.rucreceptor,1==o.camposreceptor.iTiContRec?o.tipocontribuyente="Persona Física":o.tipocontribuyente="Persona Jurídica"):(o.contribuyente="No Contribuyente",o.documentoreceptor=o.cedulareceptor,o.tipodocumentoreceptor=o.camposreceptor.iTipIDRec,o.nocontri=!0,o.contri=!1),o.direccionreceptor=null!=o.camposreceptor.dDirRec?o.camposreceptor.dDirRec:"",o.telefonoreceptor=null!=o.camposreceptor.dTelRec?o.camposreceptor.dTelRec:"",o.emailreceptor=null!=o.camposreceptor.dEmailRec?o.camposreceptor.dEmailRec:"",o.camposoperacion=o.datos.gOpeDE,o.infoAdicional=!1,j.isEmptyNullUndefined(o.camposoperacion)||(o.tipoperaciondetalle=o.camposoperacion.dDesTipEmi,o.dInfoEmi=o.camposoperacion.dInfoEmi,o.dInfoFisc=o.camposoperacion.dInfoFisc,o.infoAdicional=!j.isEmptyNullUndefined(o.dInfoEmi)||!j.isEmptyNullUndefined(o.dInfoEmi)),o.datos.gCamDEAsoc&&(o.grupodocumentos=o.datos.gCamDEAsoc),o.datos.gTotSub&&(o.exentas=o.datos.gTotSub,o.exentas.dSubExo&&(o.subtotalexonerada=e("formatPrice")(o.exentas.dSubExo,"")),o.exentas.dSubExe&&(o.subtotalexenta=e("formatPrice")(o.exentas.dSubExe,"")),o.exentas.dSubISC&&(o.subtotalisc=e("formatPrice")(o.exentas.dSubISC,"")),o.anticipo=e("formatPrice")(o.exentas.dAnticipo,""),o.redondeo=e("formatPrice")(o.exentas.dRedon,""),o.descuentoxitem=e("formatPrice")(o.exentas.dTotDesc,""),o.porcentajedescuentototal=e("formatPrice")(o.exentas.dPorcDescTotal,""),o.descuentototaloperacion=e("formatPrice")(o.exentas.dDescTotal,""),o.exentas.dSub5&&(o.exentas5=e("formatPrice")(o.exentas.dSub5,"")),o.exentas.dSub10&&(o.exentas10=e("formatPrice")(o.exentas.dSub10,"")),o.totaloperacion=e("formatPrice")(o.exentas.dTotOpe,""),o.totalgraloperacion=e("formatPrice")(o.exentas.dTotGralOpe,""),o.exentas.dTotalGs&&(o.totaloperaciongs=e("formatPrice")(o.exentas.dTotalGs,"")),o.exentas.dTotIVA&&(o.liquidaciontotaliva=e("formatPrice")(o.exentas.dTotIVA,"")),o.exentas.dBaseGrav5&&(o.totalbasegrav5=e("formatPrice")(o.exentas.dBaseGrav5,"")),o.exentas.dBaseGrav10&&(o.totalbasegrav10=e("formatPrice")(o.exentas.dBaseGrav10,"")),o.exentas.dTBasGraIVA&&(o.totalbasegravIVA=e("formatPrice")(o.exentas.dTBasGraIVA,"")),o.exentas.dLTotISC&&(o.liquidaciontotalISC=e("formatPrice")(o.exentas.dLTotISC,"")),o.exentas.dTBasGravISC&&(o.totalbasegravISC=e("formatPrice")(o.exentas.dTBasGravISC,"")),o.exentas.dTotCom&&(o.totalmascomision=e("formatPrice")(o.exentas.dTotCom,"")),o.exentas.dComi&&(o.comision=e("formatPrice")(o.exentas.dComi,"")),o.exentas.dIVAComi&&(o.ivacomision=e("formatPrice")(o.exentas.dIVAComi,"")),o.exentas.dIVA5&&(o.IVAexentas5=e("formatPrice")(o.exentas.dIVA5,"")),o.exentas.dIVA10&&(o.IVAexentas10=e("formatPrice")(o.exentas.dIVA10,""))),o.datos.gCamGen&&(o.usogral=o.datos.gCamGen,o.usogral.gCamCarg&&(o.camposgralescarga=o.usogral.gCamCarg,o.unidadmedidavolumen=o.camposgralescarga.dDesUniMedTotVol,o.totalvolumen=o.camposgralescarga.dTotVolMerc,o.unidadmedidapeso=o.camposgralescarga.dDesUniMedTotPes,o.totalpeso=o.camposgralescarga.dTotPesMerc,o.descripcioncarga=o.camposgralescarga.dDesCarCarga)),o.datos.gCamDEAsoc&&(Array.isArray(o.datos.gCamDEAsoc)?(o.datosdocumento=o.datos.gCamDEAsoc,o.cantdocumentos=o.datosdocumento.length):(o.datosdocumento=o.datos.gCamDEAsoc,o.cantdocumentos=1,o.codtipodocasociado=o.datosdocumento.iTipDocAso,o.tipodocumentoasociado=o.datosdocumento.dDesTipDocAso,1==o.codtipodocasociado&&(o.cdcDTEreferenciado=o.datosdocumento.dCdCDERef,o.dFecEmiDI=o.DTE.fechaEmisionAsociado,o.rucFusionado=o.datosdocumento.dRucFus),2==o.codtipodocasociado&&(o.nrotimbradoreferencia=o.datosdocumento.dNTimDI,o.establecimientoasociado=o.datosdocumento.dEstDocAso,o.puntoexpedicion=o.datosdocumento.dPExpDocAso,o.nrodocumentoasociado=o.datosdocumento.dNumDocAso,o.tipodocumentoimpreso=o.datosdocumento.dDTipoDocAso,o.fechaemisiondocimpreso=o.datosdocumento.dFecEmiDI),o.comprobanteretencion=null!=o.datosdocumento.dNumComRet?o.datosdocumento.dNumComRet:"",o.resolucioncredfiscal=null!=o.datosdocumento.dNumResCF?o.datosdocumento.dNumResCF:"",3==o.codtipodocasociado&&(o.tipoconstancia=null!=o.datosdocumento.dDesTipCons?o.datosdocumento.dDesTipCons:"",o.nroconstancia=null!=o.datosdocumento.dNumCons?o.datosdocumento.dNumCons:"",o.nrocontrolconstancia=null!=o.datosdocumento.dNumControl?o.datosdocumento.dNumControl:""))),o.gdtipde=o.datos.gDtipDE,o.gdtipde.gCamNRE&&(o.camposremision=o.gdtipde.gCamNRE,0==o.camposremision.length?o.remision=!1:o.remision=!0,o.motivoemisionNRE=o.camposremision.dDesMotEmiNR,o.responsableemisionNRE=o.camposremision.dDesRespEmiNR,o.kilometrosNRE=null!=o.camposremision.dKmR?o.camposremision.dKmR:"",null!=o.camposremision.dFecEm&&(o.fechafuturaNRE=h(o.camposremision.dFecEm,"YYYY-MM-DD").format("DD/MM/YYYY"))),o.gdtipde.gCamAE&&(o.camposautofactura=o.gdtipde.gCamAE,0==o.camposautofactura.length?o.autofactura=!1:o.autofactura=!0,o.naturalezavendedor=o.camposautofactura.dDesNatVen,o.tipoidvendedor=o.camposautofactura.dDTipIDVen,o.nroidvendedor=o.camposautofactura.dNumIDVen,o.nombrevendedor=o.camposautofactura.dNomVen,o.direccionvendedor=o.camposautofactura.dDirVen,o.nrocasavendedor=null!=o.camposautofactura.dNumCasVen?o.camposautofactura.dNumCasVen:0,o.dptovendedor=o.camposautofactura.dDesDepVen,o.distritovendedor=null!=o.camposautofactura.dDesDisVen?o.camposautofactura.dDesDisVen:"",o.ciudadvendedor=o.camposautofactura.dDesCiuVen,o.lugartransaccion=o.camposautofactura.dDirProv,o.dptotransaccion=o.camposautofactura.dDesDepProv,o.distritotransaccion=null!=o.camposautofactura.dDesDisProv?o.camposautofactura.dDesDisProv:"",o.ciudadtransaccion=o.camposautofactura.dDesCiuProv),o.gdtipde.gCamNCDE&&(o.camposnotas=o.gdtipde.gCamNCDE,o.motivonota=o.camposnotas.dDesMotEmi),o.gdtipde.gCamItem&&!j.isEmptyNullUndefined(o.gdtipde.gCamItem.gVehNuevo)&&(o.sectorautomovil=o.gdtipde.gCamItem.gVehNuevo,o.otrosgrupos=o.gdtipde.gCamItem.gVehNuevo,null!=o.sectorautomovil?(o.operacionventa=o.sectorautomovil.dDesTipOpVN,o.chasis=o.sectorautomovil.dChasis,o.colorvehiculo=o.sectorautomovil.dColor,o.potenciamotor=o.sectorautomovil.dPotencia,o.capacidadmotor=o.sectorautomovil.dCapMot,o.autopesoneto=o.sectorautomovil.dPNet,o.autopesobruto=o.sectorautomovil.dPBruto,o.tipocombustible=o.sectorautomovil.dDesTipCom,o.nromotor=o.sectorautomovil.dNroMotor,o.captraccion=o.sectorautomovil.dCapTracc,o.autoanhofab=o.sectorautomovil.dAnoFab,o.tipovehiculosector=o.sectorautomovil.cTipVeh,o.capacidadpasajeros=o.sectorautomovil.dCapac,o.existeotros=!0):o.automovilnulo=!0),o.gdtipde.gCamEsp&&(o.otrosgrupos=o.gdtipde.gCamEsp,o.existeotros=!1,o.otrosgrupos.gGrupEner&&(Array.isArray(o.otrosgrupos.gGrupEner)?(o.sectorenergia=o.otrosgrupos.gGrupEner,null!=o.sectorenergia?(o.cantidadEner=e("formatPrice")(o.sectorenergia.length,""),o.existeotros=!0):o.energianulo=!0):null!=o.sectorenergia?(o.cantidadEner,o.nromedidor=o.sectorenergia.dNroMed,o.codActividad=o.sectorenergia.dActiv,o.codCategoria=o.sectorenergia.dCateg,o.lecanterior=o.sectorenergia.dLecAnt,o.lecactual=o.sectorenergia.dLecAct,o.consumo=o.sectorenergia.dConKwh,o.existeotros=!0):o.energianulo=!0),o.otrosgrupos.gGrupSup&&(o.sectorsuper=o.otrosgrupos.gGrupSup,null!=o.sectorsuper?(o.nombrecajero=o.sectorsuper.dNomCaj,o.supefectivo=e("formatPrice")(o.sectorsuper.dEfectivo,""),o.supvuelto=e("formatPrice")(o.sectorsuper.dVuelto,""),o.montodonacion=e("formatPrice")(o.sectorsuper.dDonac,""),o.desdonacion=o.sectorsuper.dDesDonac,o.existeotros=!0):o.supernulo=!0),o.otrosgrupos.gGrupSeg?(o.sectorseguros=o.otrosgrupos.gGrupSeg,o.codempseg=o.sectorseguros.dCodEmpSeg,Array.isArray(o.sectorseguros.gGrupPolSeg)?(o.codpoliza=o.sectorseguros.gGrupPolSeg[0].dPoliza,o.unidadtiempo=o.sectorseguros.gGrupPolSeg[0].dUnidVig,o.vigenciaseg=o.sectorseguros.gGrupPolSeg[0].dVigencia,o.nropoliza=o.sectorseguros.gGrupPolSeg[0].dNumPoliza,o.existeotros=!0):(o.codpoliza=o.sectorseguros.gGrupPolSeg.dPoliza,o.unidadtiempo=o.sectorseguros.gGrupPolSeg.dUnidVig,o.vigenciaseg=o.sectorseguros.gGrupPolSeg.dVigencia,o.nropoliza=o.sectorseguros.gGrupPolSeg.dNumPoliza,o.existeotros=!0)):o.segurosnulo=!0,o.gdtipde.gCamItem&&!j.isEmptyNullUndefined(o.gdtipde.gCamItem.gVehNuevo)&&(o.sectorautomovil=o.gdtipde.gCamItem.gVehNuevo,null!=o.sectorautomovil?(o.operacionventa=o.sectorautomovil.dDesTipOpVN,o.chasis=o.sectorautomovil.dChasis,o.colorvehiculo=o.sectorautomovil.dColor,o.potenciamotor=o.sectorautomovil.dPotencia,o.capacidadmotor=o.sectorautomovil.dCapMot,o.autopesoneto=o.sectorautomovil.dPNet,o.autopesobruto=o.sectorautomovil.dPBruto,o.tipocombustible=o.sectorautomovil.dDesTipCom,o.nromotor=o.sectorautomovil.dNroMotor,o.captraccion=o.sectorautomovil.dCapTracc,o.autoanhofab=o.sectorautomovil.dAnoFab,o.tipovehiculosector=o.sectorautomovil.cTipVeh,o.capacidadpasajeros=o.sectorautomovil.dCapac,o.existeotros=!0):o.automovilnulo=!0),o.otrosgrupos.gGrupAdi&&(o.adicionales=o.otrosgrupos.gGrupAdi,null!=o.adicionales?(o.ciclo=o.adicionales.dCiclo,o.fechainiciociclo=o.adicionales.dFecIniC,o.fechafinciclo=o.adicionales.dFecFinC,o.vencpago=o.adicionales.dVencPag,o.nrocontrato=o.adicionales.dContrato,o.codConDncp=o.adicionales.dCodConDncp,o.saldoanterior=o.adicionales.dSalAnt,o.existeotros=!0):o.adicionalesnulo=!0)),o.gdtipde.gCamCond&&(o.gcamcond=o.gdtipde.gCamCond,o.condicionventa=o.gcamcond.dDCondOpe,o.gcamcond.gPaConEIni?(o.haydatoscontado=!0,o.datoscontado=o.gcamcond.gPaConEIni,o.datoscontado.length?o.variostipospago=!0:(o.variostipospago=!1,o.tipodepago=o.datoscontado.dDesTiPag,o.montotipodepago=e("formatPrice")(o.datoscontado.dMonTiPag,""),o.monedatipodepago=o.datoscontado.dDMoneTiPag,o.datoscontado.gPagTarCD&&(o.datostarjeta=o.datoscontado.gPagTarCD,o.denominaciontarjeta=o.datostarjeta.dDesDenTarj,1===o.datostarjeta.iForProPa?o.formapago="POS":2===o.datostarjeta.iForProPa?o.formapago="Pago Electrónico":3===o.datostarjeta.iForProPa&&(o.formapago="Otros"),o.nrotarjeta=o.datostarjeta.dNumTarj),o.datoscontado.gPagCheq&&(o.datoscheque=o.datoscontado.gPagCheq,o.nrocheque=o.datoscheque.dNumCheq,o.bancoemisorcheque=o.datoscheque.dBcoEmi))):o.haydatoscontado=!1,2==o.gcamcond.iCondOpe&&(o.haycredito=!0,o.gcamcond.gPagCred&&(o.grupocredito=o.gcamcond.gPagCred,o.condicioncredito=o.grupocredito.dDCondCred,o.valorcredito=o.grupocredito.iCondCred,1==o.valorcredito?o.plazo=o.grupocredito.dPlazoCre:(o.cantidadcuotas=o.grupocredito.dCuotas,Array.isArray(o.grupocredito.gCuotas)?(o.datoscuotas=o.grupocredito.gCuotas,o.montocuota=e("formatPrice")(o.datoscuotas[0].dMonCuota,""),o.vencimientocuota=e("date")(o.datoscuotas[0].dVencCuo,"yyyy-MM-dd")):(o.datoscuotas=o.grupocredito.gCuotas,o.montocuota="",o.vencimientocuota="",null==o.datoscuotas||j.isEmptyNullUndefined(o.datoscuotas.dMonCuota)||(o.montocuota=e("formatPrice")(o.datoscuotas.dMonCuota,"")),null==o.datoscuotas||j.isEmptyNullUndefined(o.datoscuotas.dVencCuo)||(o.vencimientocuota=e("date")(o.datoscuotas.dVencCuo,"yyyy-MM-dd")))),o.grupocredito.dMontEnt&&(o.entregainicial=e("formatPrice")(o.grupocredito.dMonEnt,""))))),o.gdtipde.gTransp){if(o.transporte=!0,o.datostransporte=o.gdtipde.gTransp,o.tipotransporte=null!=o.datostransporte.dDesTipTrans?o.datostransporte.dDesTipTrans:"",o.modalidadtransporte=o.datostransporte.dDesModTrans,o.codresponsableflete=o.datostransporte.iRespFlete,1==o.codresponsableflete?o.responsableflete=o.nombreemisor:2==o.codresponsableflete?o.responsableflete=o.nombrereceptor:3==o.codresponsableflete?o.responsableflete="Tercero":4==o.codresponsableflete?o.responsableflete="Agente intermediario del transporte (cuando intervenga)":o.responsableflete="Transporte propio",o.condicionnegociacion=o.datostransporte.cCondNeg,o.manifiestocarga=o.datostransporte.dNuManif,o.despachoimportacion=o.datostransporte.dNuDespImp,o.iniciotraslado=o.datostransporte.dIniTras,o.paisdestino=o.datostransporte.dDesPaisDest,o.datostransporte.gCamSal&&(o.datoslocalsalida=o.datostransporte.gCamSal,o.direccionsalida=o.datoslocalsalida.dDirLocSal,o.nrodireccionsalida=o.datoslocalsalida.dNumCasSal,o.complementosalida1=null!=o.datoslocalsalida.dComp1Sal?o.datoslocalsalida.dComp1Sal:"",o.complementosalida2=null!=o.datoslocalsalida.dComp2Sal?o.datoslocalsalida.dComp2Sal:"",o.dptosalida=o.datoslocalsalida.dDesDepSal,o.ciudadsalida=o.datoslocalsalida.dDesCiuSal,o.distritosalida=null!=o.datoslocalsalida.dDesDisSal?o.datoslocalsalida.dDesDisSal:"",o.telefonosalida=null!=o.datoslocalsalida.dTelSal?o.datoslocalsalida.dTelSal:""),o.datostransporte.gCamEnt&&(o.datoslocalentrega=o.datostransporte.gCamEnt,o.direccionentrega=o.datoslocalentrega.dDirLocEnt,o.nrodireccionentrega=o.datoslocalentrega.dNumCasEnt,o.complementoentrega1=null!=o.datoslocalentrega.dComp1Ent?o.datoslocalentrega.dComp1Ent:"",o.complementoentrega2=null!=o.datoslocalentrega.dComp2Ent?o.datoslocalentrega.dComp2Ent:"",o.dptoentrega=o.datoslocalentrega.dDesDepEnt,o.ciudadentrega=o.datoslocalentrega.dDesCiuEnt,o.distritoentrega=null!=o.datoslocalentrega.dDesDisEnt?o.datoslocalentrega.dDesDisEnt:"",o.telefonoentrega=null!=o.datoslocalentrega.dTelEnt?o.datoslocalentrega.dTelEnt:""),o.datostransporte.gVehTras&&Array.isArray(o.datostransporte.gVehTras)?(o.datosvehiculo=o.datostransporte[0].gVehTras,o.tipovehiculo=o.datosvehiculo[0].dTiVehTras,o.marcavehiculo=o.datosvehiculo[0].dMarVeh,1==o.datosvehiculo[0].dTipIdenVeh?o.nroidvehiculo=o.datosvehiculo[0].dNroIDVeh:2==o.datosvehiculo[0].dTipIdenVeh&&(o.matriculavehiculo=o.datosvehiculo[0].dNroMatVeh),o.adicionalesvehiculo=null!=o.datosvehiculo[0].dAdicVeh?o.datosvehiculo[0].dAdicVeh:"",o.nrovuelo=null!=o.datosvehiculo[0].dNroVuelo?o.datosvehiculo[0].dNroVuelo:""):j.isEmptyNullUndefined(o.datostransporte.gVehTras)||(o.datosvehiculo=o.datostransporte.gVehTras,o.tipovehiculo=o.datosvehiculo.dTiVehTras,o.marcavehiculo=o.datosvehiculo.dMarVeh,1==o.datosvehiculo.dTipIdenVeh?o.nroidvehiculo=o.datosvehiculo.dNroIDVeh:2==o.datosvehiculo.dTipIdenVeh&&(o.matriculavehiculo=o.datosvehiculo.dNroMatVeh),o.adicionalesvehiculo=null!=o.datosvehiculo.dAdicVeh?o.datosvehiculo.dAdicVeh:"",o.nrovuelo=null!=o.datosvehiculo.dNroVuelo?o.datosvehiculo.dNroVuelo:""),o.datostransporte.gCamTrans){o.datostransportista=o.datostransporte.gCamTrans,o.natutransportista=o.datostransportista.iNatTrans,o.nombretransportista=o.datostransportista.dNomTrans,1==o.natutransportista?(o.ructransportista=o.datostransportista.dRucTrans+"-"+o.datostransportista.dDVTrans,o.doctransportista=o.ructransportista):(o.ditransportista=o.datostransportista.dNumIDTrans,o.doctransportista=o.ditransportista),o.nacionalidadtransportista=null!=o.datostransportista.dDesNacTrans?o.datostransportista.dDesNacTrans:"",o.nombrechofer=o.datostransportista.dNomChof,o.idchofer=o.datostransportista.dNumIDChof;var k=null!=o.datostransportista.dRucAg?o.datostransportista.dRucAg:"",m=null!=o.datostransportista.dDVAg?o.datostransportista.dDVAg:"";o.rucagente=""!=k&&""!=m?k+m:"",o.direccionagente=null!=o.datostransportista.dDirAge?o.datostransportista.dDirAge:""}}else o.transporte=!1;if(Array.isArray(o.gdtipde.gCamItem)){o.grupoitems=o.gdtipde.gCamItem,o.cantidaditem=e("formatPrice")(o.grupoitems.length,""),o.ivaitems=[],o.mercaderia=[],o.liquidacioniva5=0,o.liquidacioniva10=0,o.liquidacionivaitem=0;for(var d=0;d<o.grupoitems.length;d++)4!=o.tipoDEcodigo&&7!=o.tipoDEcodigo&&(5==o.grupoitems[d].gCamIVA.dTasaIVA?(o.grupoitems[d].totalitem5=o.grupoitems[d].gValorItem.dTotBruOpeItem,o.grupoitems[d].totalitem10=0,o.grupoitems[d].totalitemexenta=0,o.liquidacioniva5=o.liquidacioniva5+o.grupoitems[d].gCamIVA.dLiqIVAItem):10==o.grupoitems[d].gCamIVA.dTasaIVA&&(o.grupoitems[d].totalitem10=o.grupoitems[d].gValorItem.dTotBruOpeItem,o.grupoitems[d].totalitem5=0,o.grupoitems[d].totalitemexenta=0,o.liquidacioniva10=o.liquidacioniva10+o.grupoitems[d].gCamIVA.dLiqIVAItem),o.liquidacionivaitem=o.liquidacioniva5+o.liquidacioniva10),o.grupoitems[d].gRasMerc&&(o.mercaderia[d]=o.grupoitems[d].gRasMerc);0===o.mercaderia.length?o.rastreo=!1:o.rastreo=!0}else if(o.gdtipde.gCamItem){if(o.cantidaditem=1,o.grupoitems=o.gdtipde.gCamItem,o.codigoitem=o.grupoitems.dCodInt,o.descripcionproducto=o.grupoitems.dDesProSer,o.unidadmedidaitem=o.grupoitems.dDesUniMed,o.partidaarancelaria=o.grupoitems.dParAranc,o.descripcionrelevancia=o.grupoitems.dDesRelMerc,o.cantidadquiebra=o.grupoitems.dCanQuiMer,o.porcentajequiebra=o.grupoitems.dPorQuiMer,o.cdcAnticipo=o.grupoitems.dCDCAnticipo,o.cantidadproductos=e("formatPrice")(o.grupoitems.dCantProSer,""),o.grupoitems.gValorItem&&(o.valoritem=o.grupoitems.gValorItem,o.valoritem.dPUniProSer&&(o.precioitem=o.valoritem.dPUniProSer),
o.valoritem.gValorRestaItem&&(o.porcentajedescuentoitem=o.valoritem.gValorRestaItem.dPorcDesIt,o.descuentoparticularitem=o.valoritem.gValorRestaItem.dDescItem,o.operacionxitem=o.valoritem.gValorRestaItem.dTotOpeItem,o.totalguaranies=o.valoritem.gValorRestaItem.dTotOpeGs,o.descuentoglobalitem=o.valoritem.gValorRestaItem.dDescGloItem,o.anticipoparticular=o.valoritem.gValorRestaItem.dAntPreUniIt,o.anticipoglobal=o.valoritem.gValorRestaItem.dAntGloPreUniIt),o.tipocambioitem=o.valoritem.dTiCamIt,o.totalbrutoitem=o.valoritem.dTotBruOpeItem),o.grupoitems.gCamIVA){switch(o.afectacioniva=o.grupoitems.gCamIVA.dDesAfecIVA,o.proporciongravadaiva=o.grupoitems.gCamIVA.dPropIVA,o.tasaiva=o.grupoitems.gCamIVA.dTasaIVA,o.tasaiva){case 10:o.totalexenta=0,o.totalitem5=0,o.totalitem10=o.operacionxitem,o.liquidacioniva10=o.grupoitems.gCamIVA.dLiqIVAItem,o.liquidacioniva5=0;break;case 5:o.totalitem10=0,o.totalexenta=0,o.totalitem5=o.operacionxitem,o.liquidacioniva10=0,o.liquidacioniva5=o.grupoitems.gCamIVA.dLiqIVAItem;break;case 0:o.totalitem5=0,o.totalitem10=0,o.totalexenta=o.operacionxitem,o.liquidacioniva10=0,o.liquidacioniva5=0}o.basegravadaivaitem=o.grupoitems.gCamIVA.dBasGravIVA,o.liquidacionivaitem=o.grupoitems.gCamIVA.dLiqIVAItem,o.baseExentaItem=o.grupoitems.gCamIVA.dBasExe}o.NCM=o.grupoitems.dNCM,o.dncpgral=o.grupoitems.dDncpG,o.dncpesp=o.grupoitems.dDncpE,o.grupoitems.gRasMerc?(o.mercaderia=o.grupoitems.gRasMerc,o.rastreo=!0,o.nroloterastreo=o.mercaderia.dNumLote,o.vencmercaderia=o.mercaderia.dVencMerc,o.nroserie=o.mercaderia.dNSerie,o.nroPedido=o.mercaderia.dNumPedi,o.nroSeguimiento=o.mercaderia.dNumSegui,o.nroRegistro=o.mercaderia.dNumReg,o.nroRegistroCom=o.mercaderia.dNumRegEntCom,o.dNomPro=o.mercaderia.dNomPro):o.rastreo=!1}o.loading=!1}var o=this;o.desResponsableFlete=["Emisor de la Factura Electrónica","Receptor de la Factura Electrónica","Tercero","Agente intermediario del transporte (cuando intervenga)","Transporte propio"],o.listaItem=[];var p=[];o.tab=1,o.vista="nueva",o.cdcasociado=!0,o.cdc=d.cdc,o.cdcAsociadoEvento="",o.loading=!1,o.haymensaje=!1,o.mensaje="",o.grande=!1,o.imprimirtodo=!1,o.nombretab="Resumen",o.vistapestanhas=!0,o.cSisFact=2,o.isIE=!!document.documentMode,o.irnueva=function(){a.go("principal")},o.conformidad=!1,o.notificacion=!1,o.disconformidad=!1,o.desconocimiento=!1,o.esBoletaReSimple=!1,o.contrasenha="",o.setTab=function(a){switch(o.tab=a,o.tab){case 1:o.nombretab="Resumen";break;case 2:o.nombretab="Emisor";break;case 3:o.nombretab="Receptor";break;case 4:o.nombretab="Items de la Operación";break;case 5:o.nombretab="Totales y Subtotales";break;case 6:o.nombretab="Rastreo de Mercadería";break;case 7:o.nombretab="Documentos Asociados";break;case 8:o.nombretab="Transporte de Mercaderías";break;case 9:o.nombretab="Otros Grupos";break;case 10:o.nombretab="Datos de la Operación";break;case 11:o.nombretab="Eventos de Receptor";break;default:o.nombretab="Resumen"}},o.verprocesamiento=function(a){var b;return 1===a?b="POS":2===a?b="Pago Electrónico":3===a&&(b="Otros"),b},o.listaeventos=[{valor:1,evento:"Notificación de Recepción"},{valor:2,evento:"Conformidad"},{valor:3,evento:"Disconformidad"},{valor:4,evento:"Desconocimiento"}],o.selected="",o.loadingevento=!1,o.selectedcon="",o.selecteddoc="",o.enviar=!1,o.tipocontribuyentes=[{valor:1,tipo:"Contribuyente"},{valor:2,tipo:"No Contribuyente"}],o.tipodocumentos=[{valor:1,tipodoc:"Cédula Paraguaya"},{valor:2,tipodoc:"Pasaporte"},{valor:3,tipodoc:"Cédula Extranjera"},{valor:4,tipodoc:"Carnet de Residencia"}],o.now=h(),o.rightnowNOT="",o.rightnowCONF="",o.rightnowDIS=o.now,o.rightnowDES="",o.tipoconformidad="",o.contri=!1,o.nocontri=!1,o.nombrenocontri="",o.nombrecontri="",o.motivodis="",o.motivoevento="",o.fechaemisionevento="",o.conforcheck=function(a){o.tipoconformidad=a,o.enviar=!0,"total"==a?(o.itipConf=1,o.mostrarfechaconfor=!1):(o.itipConf=2,o.mostrarfechaconfor=!0)},o.limpiarFormulario=function(){document.getElementsByName("fecha")[0].value="",document.getElementsByName("fecha")[1].value="",document.getElementById("justificaciontexto").value="",document.getElementsByName("fecha2")[0].value="",document.getElementById("motivodis").value="",document.getElementsByName("optradio")[0].checked=!1,document.getElementsByName("optradio")[1].checked=!1},o.cerrarAlertError=function(){o.haymensaje=!1},o.seleccion=function(a){switch(o.selectedcon="",o.mostrarfechaconfor=!1,o.limpiarFormulario(),a.valor){case 1:o.rightnowNOT="",o.conformidad=!1,o.notificacion=!0,o.disconformidad=!1,o.desconocimiento=!1,o.enviar=!1,o.formevento={id:o.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",drucRec:"",dDVRec:"",dtipIDRec:"",dtotalGs:""},o.enviar=!0;break;case 2:o.rightnowCONF="",o.conformidad=!0,o.notificacion=!1,o.disconformidad=!1,o.desconocimiento=!1,o.enviar=!1,o.formevento={id:o.cdc,dfecRecep:"",itipConf:""};break;case 3:o.conformidad=!1,o.notificacion=!1,o.disconformidad=!0,o.desconocimiento=!1,o.enviar=!0,o.formevento={id:o.cdc,motEve:""};break;case 4:o.rightnowDES="",o.conformidad=!1,o.notificacion=!1,o.disconformidad=!1,o.desconocimiento=!0,o.enviar=!1,o.formevento={id:o.cdc,dFecEmi:"",dFecRecep:"",iTipRec:"",dnomRec:"",iTipIDRec:"",dNumID:"",mOtEve:""},o.enviar=!0}},o.seleccion2=function(a){switch(a.valor){case 1:o.contri=!0,o.nocontri=!1,o.enviar=!0;break;case 2:o.contri=!1,o.nocontri=!0,o.enviar=!0}},o.seleccion3=function(a){a.valor},o.docnocontri="",o.cerrarAlertError=function(){o.haymsjeventoerror=!1,o.haymsjeventook=!1},o.cerrarAlertSuccess=function(){o.haymsjeventoerror=!1,o.haymsjeventook=!1},o.enviarevento=function(a){if("SI"==o.receptorEsFacturadorElectronico)return o.loadingevento=!1,o.haymsjeventook=!1,o.loadingevento=!1,o.haymsjeventoerror=!0,void(o.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar los eventos del receptor por los Servicios Web disponibles o a través del sistema Ekuatia’i según corresponda");if("SI"==o.receptorContribuyenteNoElectronico)return o.loadingevento=!1,o.haymsjeventook=!1,o.loadingevento=!1,o.haymsjeventoerror=!0,void(o.mensajevento="Rechazado: Sr. Contribuyente, usted deberá registrar el evento del receptor mediante la herramienta que será disponibilizada en el Sistema Marangatu");"NO"==o.receptorContribuyenteNoElectronico&&(o.usuario="persona",o.contrasenha=o.cdc);var b=o.usuario+":"+o.contrasenha,c=window.btoa(b);if(o.loadingevento=!0,!o.nocontri||o.selecteddoc||"SI"!=o.receptorEsFacturadorElectronico&&"SI"!=o.receptorContribuyenteNoElectronico){if(o.notificacion){var d="0";j.isEmptyNullUndefined(o.totaloperaciongs)||"-"==o.totaloperaciongs?j.isEmptyNullUndefined(o.totaloperacion)||"-"==o.totaloperacion||(d=o.totaloperacion.replaceAll(".","")):d=o.totaloperaciongs.replaceAll(".",""),d=d.replaceAll(",",".");var g=h(o.rightnowNOT,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),i=new Date(g),k=new Date;i.setHours(k.getHours()),i.setMinutes(k.getMinutes()),i.setSeconds(k.getSeconds()),i.setMilliseconds(k.getMilliseconds()),g=i.toISOString(),2==o.receptornaturaleza?o.formevento={id:o.cdc,dfecEmi:e("date")(o.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:g,itipRec:o.receptornaturaleza,dtipIDRec:o.tipodocumentoreceptor,dnomRec:o.nombrereceptor,dnumID:o.documentoreceptor,dtotalGs:d}:o.formevento={id:o.cdc,dfecEmi:e("date")(o.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:g,itipRec:o.receptornaturaleza,dnomRec:o.nombrereceptor,drucRec:o.camposreceptor.dRucRec,ddvrec:o.camposreceptor.dDVRec,dtotalGs:d},f.enviareventonotificacion(o.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(o.haymsjeventook=!0,o.haymsjeventoerror=!1,a.data.descripcion?o.mensajevento="Aprobado con observación: "+a.data.descripcion:o.mensajevento="Evento aprobado",o.actualizareventos()):(o.haymsjeventook=!1,o.loadingevento=!1,o.haymsjeventoerror=!0,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Rechazado")},function(a){o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Error. Vuelva a intentar"}),o.contrasenha=null}o.conformidad&&(2==o.itipConf&&(o.formevento.dfecRecep=h(o.rightnowCONF,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss")),o.formevento.itipConf=o.itipConf,f.enviareventoconformidad(o.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(o.haymsjeventook=!0,o.haymsjeventoerror=!1,a.data.descripcion?o.mensajevento="Aprobado con observación: "+a.data.descripcion:o.mensajevento="Evento aprobado",o.actualizareventos()):(o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,o.mensajevento="Rechazado: "+a.data.descripcion)},function(a){o.loadingevento=!1,o.haymsjeventoerror=!0,o.haymsjeventook=!1,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Error. Vuelva a intentar"}),o.contrasenha=null),o.disconformidad&&(o.formevento.motEve=a.motivodis.$viewValue,f.enviareventodisconformidad(o.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(o.haymsjeventook=!0,o.haymsjeventoerror=!1,a.data.descripcion?o.mensajevento="Aprobado con observación: "+a.data.descripcion:o.mensajevento="Evento aprobado",o.actualizareventos()):(o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,o.mensajevento="Rechazado: "+a.data.descripcion)},function(a){o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Error. Vuelva a intentar"}),o.contrasenha=null),o.desconocimiento&&(o.nocontri?o.formevento={id:o.cdc,dfecEmi:e("date")(o.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:h(o.rightnowDES,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),itipRec:o.receptornaturaleza,dtipIDRec:o.tipodocumentoreceptor,dnomRec:o.nombrereceptor,dnumID:o.documentoreceptor,motEve:o.motivoevento}:o.formevento={id:o.cdc,dfecEmi:e("date")(o.camposgral.dFeEmiDE,"yyyy-MM-ddTHH:mm:ss"),dfecRecep:h(o.rightnowDES,"DD/MM/YYYY HH:mm").format("YYYY-MM-DDTHH:mm:ss"),itipRec:o.receptornaturaleza,dnomRec:o.nombrereceptor,drucRec:o.camposreceptor.dRucRec,ddvrec:o.camposreceptor.dDVRec,motEve:o.motivoevento},f.enviareventodesconocimiento(o.formevento,c).then(function(a){j.verificarRespuestaEventosReceptor(a)?(o.haymsjeventook=!0,o.haymsjeventoerror=!1,a.data.descripcion?o.mensajevento="Aprobado con observación: "+a.data.descripcion:o.mensajevento="Evento aprobado",o.actualizareventos()):(o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Rechazado")},function(a){o.loadingevento=!1,o.haymsjeventook=!1,o.haymsjeventoerror=!0,a.data.descripcion?o.mensajevento="Rechazado: "+a.data.descripcion:o.mensajevento="Error. Vuelva a intentar"}),o.contrasenha=null)}else o.loadingevento=!1},o.mostrarenviar=function(){o.enviar=!0},o.isSet=function(a){return o.tab===a},o.showform=function(a){o.vista=a},o.imprimir=function(){c.print()},o.descargarxml=function(){f.descargarxml(o.cdc).then(function(a){if(o.loading=!1,200===a.status){o.mensaje=null,o.haymensaje=!1;var b=new Blob([a.data],{type:"application/xml"}),c=window.URL.createObjectURL(b);const d=document.createElement("a");d.style.display="none",d.href=c,d.download=o.cdc+".xml",document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c)}else 401===a.status||403===a.status?(o.haymensaje=!0,o.mensaje="Tiempo de sesión finalizado. Realice una nueva consulta para la descarga"):(o.haymensaje=!0,o.mensaje="Error. Vuelva a intentar")},function(a){o.loading=!1,a.data.mensaje?o.mensaje=a.data.mensaje:o.mensaje="Error. Vuelva a intentar"})},o.guardarpdf=function(){c.scrollTo(0,0),o.entro=!0;var a=document.getElementById("consultaform");html2canvas(a,{onrendered:function(b){for(var c=new jsPDF("p","pt",[612,980]),d=0;d<=a.clientHeight/980;d++){var e=b,f=0,g=980*d,h=a.clientWidth,i=980,j=0,k=0,l=a.clientWidth,m=980;window.onePageCanvas=document.createElement("canvas"),onePageCanvas.setAttribute("width",a.clientWidth),onePageCanvas.setAttribute("height",980);onePageCanvas.getContext("2d").drawImage(e,f,g,h,i,j,k,l,m);var n=onePageCanvas.toDataURL("image/png",1),p=onePageCanvas.width,q=onePageCanvas.clientHeight;d>0&&c.addPage(612,980),c.setPage(d+1),c.addImage(n,"PNG",15,15,.62*p-250,.62*q)}c.save(o.nombretab+"CDC.pdf")}})},o.isActive=function(b){return!(!a.getCurrentPath()[2].state.name.includes(b)&&!a.getCurrentPath()[2].state.name.includes("main.resumen"))},o.gotopestanhas=function(){o.vistaKUDE?(o.vistaKUDE=!1,o.vistaticket=!1,o.vistapestanhas=!0):o.vistaticket?(o.vistapestanhas=!0,o.vistaticket=!1,o.vistaKUDE=!1):o.vistapestanhas&&(9==o.tipoDEcodigo||10==o.tipoDEcodigo||2==o.datos.dSisFact?(l(o.datos),o.vistaKUDE=!0,o.vistapestanhas=!1,o.vistaticket=!1):2==o.tipodocumento&&(o.vistapestanhas=!1,o.vistaticket=!0,o.vistaKUDE=!1))},o.irconsulta=function(b){a.go("main",{cdc:b})},o.captcha="",o.llamarcdcasociado=function(){o.mostrarcaptcha=!0,o.mostrarboton=!0},o.consultaragain=function(b){o.consultaform2={cdc:b,captcha:""},""!=g.getResponse()?(o.loading=!0,o.consultaform2.captcha=g.getResponse(),f.consultacdc(o.consultaform2).then(function(b){if(200===b.status){o.cdcasociado=!0,i.response=b;var c=a.href("main150",{cdc:b.data.DE["@Id"]});window.open(c,"_self"),n(b),o.loadingevento=!1,o.loading=!1}else o.cdcasociado=!1,o.loadingevento=!1,o.haymensajecdc=!0,o.mensaje=b.data.mensaje},function(a){o.cdcasociado=!1,o.loading=!1,o.haymensajecdc=!0,a.data.mensaje?o.mensaje=a.data.mensaje:o.mensaje="Error. Vuelva a intentar"})):(o.cdcasociado=!1,o.haymensajecdc=!0,o.loading=!1,o.mensaje="Ingrese el captcha"),o.loading=!1},o.actualizareventos=function(){o.consultaform3={cdc:o.cdc},f.retornareventos(o.consultaform3).then(function(a){if(200===a.status){if(i.response=a,o.eventos=a.data.Evento,o.hayevento=!1,o.naturalezaReceptorEvento="",o.tipoOperacionEvento="",o.eventos.length>0){o.hayevento=!0;var b=0,c=0;o.eventosreceptor=[],o.eventosemisor=[];for(var d=0;d<o.eventos.length;d++)"RECEPTOR"===o.eventos[d].origenEvento?(o.eventosreceptor[b]=o.eventos[d],o.eventosreceptor[b].dFecProc=e("date")(o.eventosreceptor[b].dFecProc,"dd-MM-yyyy HH:mm:ss"),b++):(o.eventosemisor[c]=o.eventos[d],c++),2==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2C":1==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2B":3==o.eventos[d].TipoOperacion?o.tipoOperacionEvento="B2G":4==o.eventos[d].TipoOperacion&&(o.tipoOperacionEvento="B2F"),1==o.eventos[d].NaturalezaReceptor?o.naturalezaReceptorEvento="Contribuyente":o.naturalezaReceptorEvento="No Contribuyente"}else o.hayevento=!1;o.loadingevento=!1,o.limpiarFormulario()}else o.loadingevento=!1,o.haymensajecdc=!0,o.mensaje=a.data.mensaje,o.loadingevento=!1},function(a){o.cdcasociado=!1,o.loadingevento=!1,o.haymensajecdc=!0,a.data.mensaje?o.mensaje=a.data.mensaje:o.mensaje="Error. Vuelva a intentar"})},b.$on("$viewContentLoaded",function(){o.ancho=$(window).width(),o.ancho>575?o.grande=!0:o.grande=!1,o.rightnowDIS=o.rightnowDIS.format("DD/MM/YYYY HH:mm"),o.response=i.response,o.cdc=d.cdc,o.loading=!0,n(o.response)})}]),angular.module("consultaspublicasApp").directive("mainCamposnre",function(){return{templateUrl:"views/main-camposnre.html"}}),angular.module("consultaspublicasApp").directive("mainCamposae",function(){return{templateUrl:"views/main-camposae.html"}}),angular.module("consultaspublicasApp").directive("kude",function(){return{templateUrl:"views/kude.html"}}),angular.module("consultaspublicasApp").filter("comma2decimal",function(){return function(a){if(a){if(a.isInteger)return a;var b=a?a.toString().trim().replace(",","."):null;return parseFloat(b)}return"-"}}),angular.module("consultaspublicasApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/formqr.html",'<div ng-if="formqr.loading" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> </div> <div class="col-md-12"> <div class="alert alert-danger" ng-show="!formqr.loading && formqr.invalido" role="alert"> Código QR inválido, consulte con el emisor del DE </div> </div> <div class="row" ng-show="!formqr.loading && !formqr.invalido" style="margin: 0 auto; margin-top: -2px"> <div class="col-md-6"> <h2>Servicios y Consultas</h2> <form name="consultaform" class="kform form-horizontal" ng-submit="formqr.guardar(consultaform)"> <div class="form-horizontal row"> <fieldset id="consultaform"> <div class="col-md-12"> <div class="form-group"> <label class="col-md-3 control-label left">CDC</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.Id" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label left">Fecha y Hora de Emisión del DTE</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-value="formqr.fechaformateada | date : \'dd/MM/yyyy HH:mm:ss\' " name="fechaemision" placeholder="-"> </div> </div> <div class="form-group" ng-show="formqr.dRucRec"> <label class="col-md-3 control-label left">RUC del receptor</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.ruccompleto" name="rucreceptor" placeholder="-"> </div> </div> <div class="form-group" ng-show="formqr.dNumIDRec"> <label class="col-md-3 control-label left">CI del receptor</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.dNumIDRec" name="cireceptor" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label left">Total General de la Operación</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.dTotGralOpe" name="totaloperacion" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label left">Liquidación total del IVA</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.dTotIVA" name="totaliva" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label left">Cantidad de Items</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.cItems" name="cantidaditems" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label left">Versión</label> <div class="col-md-8"> <input type="text" required readonly class="form-control col-md-8" ng-model="formqr.nVersion" name="version" placeholder="-"> </div> <div class="col-md-8"> <div class="alert alert-danger" ng-show="consultaform.$submitted && consultaform.cdc.$dirty" role="alert"> <div ng-show="consultaform.cdc.$invalid">El CDC debe tener 44 dígitos </div> <div ng-show="formqr.haymensaje">{{formqr.mensaje}} <button type="button" class="close" ng-click="consultaform.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> </div> </div> <div class="col-md-8 col-md-offset-3" style="margin-top: 10px"> <div tabindex="2" theme="clean" style="transform:scale(0.77);-webkit-transform:scale(0.77);\r\n                transform-origin:0 0;-webkit-transform-origin:0 0" vc-recaptcha key="\'6Ldcb-wrAAAAAGp5mRQLnbGW0GFsKyi71OhYDImu\'"> </div> </div> </div> </div> <div class="col-md-12"> <button id="boton" type="submit" class="btn btn-success pull-right btn-sm"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Consultar </button> <div class="alert alert-danger" style="margin-top: 40px" ng-show="formqr.haymensaje && !formqr.loading" role="alert"> {{formqr.mensaje}} <button type="button" class="close" ng-click="formqr.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> </div> </fieldset> </div> </form> </div> <div class="col-xs-12 col-md-3"> <img alt="kude" src="images/kude.c0f5794d.jpg" style="width: 100%; height: auto"> </div> <div class="col-xs-12 col-md-3"> <h6>Criterios de Consulta CDC – e-kuatia</h6> <p style="font-size: small">1. Para realizar la consulta del DTE: en el área de consulta dispuesto deben ser ingresados los 44 dígitos del Código de Control (CDC) indicados en el KuDE (Representación Gráfica de un Documento Electrónico). </p> <p style="font-size: small">2. Intentos de consulta: Antes de hacer click en el botón Consultar, el usuario debe seleccionar el cuadro “No soy un robot” del reCaptcha, luego ingresar una vez verificada las imágenes que eventualmente sean solicitadas. Esta información ayuda a evitar consultas de programas automáticos, que dificulten la utilización de aplicaciones por otros usuarios. </p> <p style="font-size: small">3. Para que la consulta funcione correctamente, es necesaria que el navegador se encuentre habilitado para almacenamientos de “cookies”. </p> </div> </div>'),
a.put("views/kude.html",'<div class="container containerform"> <div class="alert alert-danger" ng-show="!main.loading && main.hayerror"> {{main.msjerror}} <button type="button" class="close" ng-click="main.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="alert alert-success" ng-show="!main.loading && main.hayexito"> <span class="glyphicon glyphicon-ok mensaje" aria-hidden="true"></span> {{main.msjexito}} <button type="button" class="close" ng-click="main.cerrarAlertSuccess()" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="row"> <div class="col-md-12 pull-right" style="margin-bottom: 5px"> <button id="boton" title="Más información" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.gotopestanhas()"> <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Más Información </button> <button id="boton" title="Nueva Consulta" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.irnueva()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Nueva Consulta </button> <button id="boton" title="Imprimir todo" class="btn btn-success btn-sm pull-right hidden-xs hidden-sm" style="margin-top: 5px; margin-left: 5px" ng-click="main.imprimir()"> <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Imprimir </button> <button id="boton" title="Descargar Archivo XML" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.descargarxml()"> <span class="glyphicon glyphicon-save" aria-hidden="true"></span> Descargar </button> </div> </div> <div ng-if="main.mostrarFE == 1"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img class="center" id="logo" alt="logo" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}} </p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6 padre"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Fecha de Emisión:</b> {{main.fechaEmision}}</p> <p><b>RUC/Documento de Identidad Nro.:</b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social:</b> {{main.nombreRazonSocial | hasSomeValue}}</p> <p><b>Dirección:</b> {{main.direcionRerceptor | hasSomeValue}}</p> <p><b>Teléfono:</b> {{main.telefonoReceptor | hasSomeValue}}</p> <p><b>Correo Electrónico: </b>{{main.correoReceptor | hasSomeValue}}</p> </div> <div class="col-md-6"> <p> <b>Tipo de Transacción:</b> {{main.tipoTransaccion | hasSomeValue}} </p> <div class="checkboxes"> <b>Condición de Venta:</b> <label><b>Contado</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 1" disabled> <label><b>Crédito</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 2" disabled> </div> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Moneda de la operación:</b> {{main.monedaOperacion}} </p> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Condicion de Tipo de Cambio:</b> {{main.condicionTipoCambio}}</p> <p ng-if="main.codigoMoneda != \'PYG\' && (mainBVE.condicionTipoCambio == \'Global\' || main.condicionTipoCambio == \'Global\')"> <b>Tipo de Cambio:</b> {{main.tipoCambio}} </p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="table-responsive"> <table class="table tablereglas table-bordered table-responsive table-hover"> <thead> <tr> <th scope="col" rowspan="2" style="vertical-align: middle">COD.</th> <th scope="col" rowspan="2" style="vertical-align: middle">CANTIDAD</th> <th scope="col" rowspan="2" style="vertical-align: middle">DESCRIPCIÓN</th> <th scope="col" rowspan="2" style="vertical-align: middle;width:10%">PRECIO UNITARIO (INCLUIDO IMPUESTO) </th> <th scope="col" rowspan="2" style="vertical-align: middle">DESCUENTO</th> <th scope="col" colspan="3" style="vertical-align: middle">VALOR DE VENTA</th> </tr> <tr> <th scope="col" style="vertical-align: middle">EXENTAS</th> <th scope="col" style="vertical-align: middle">5%</th> <th scope="col" style="vertical-align: middle">10%</th> </tr> </thead> <tbody> <tr ng-repeat="row in main.listaItem track by $index"> <td>{{row.codigoInterno}}</td> <td>{{row.cantidad}}</td> <td>{{row.descripcion}}</td> <td style="text-align: right">{{row.precioUnitario | formatPrice}}</td> <td style="text-align: right">{{row.descuentoGloblaEItem | hasSomeValue | formatPrice}}</td> <td style="text-align: right">{{row.totalItemExenta | formatPrice}}</td> <td style="text-align: right">{{row.totalItem5 | formatPrice}}</td> <td style="text-align: right">{{row.totalItem10 | formatPrice}}</td> </tr> </tbody> <tfoot> <tr> <th scope="col" colspan="4"> SUBTOTAL: </th> <td>{{main.subtotalDescuentos | formatPrice}}</td> <td>{{main.subtotalExento | formatPrice}}</td> <td>{{main.subtotalIva5 | formatPrice}}</td> <td>{{main.subtotalIva10 | formatPrice}}</td> </tr> <tr> <th scope="col" colspan="2"> TOTAL DE LA OPERACIÓN: </th> <td colspan="6">{{main.totalOperacion | formatPrice}}</td> </tr> <tr ng-if="main.codigoMoneda != \'PYG\'"> <th scope="col" colspan="3"> TOTAL DE LA OPERACION EN GUARANÍES: </th> <td colspan="5">{{main.totalGuaranies | formatPrice}}</td> </tr> <tr> <th scope="col" colspan="2"> LIQUIDACIÓN IVA: </th> <td>(5%)</td> <td>{{main.subtotalLiquidacionIva5 | comma2decimal | formatPrice}}</td> <td>(10%)</td> <td>{{main.subtotalLiquidacionIva10 | comma2decimal | formatPrice}}</td> <th scope="col" colspan="1">TOTAL IVA: </th> <td>{{main.totalIVA | comma2decimal | formatPrice}}</td> </tr> </tfoot> </table> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> <div ng-if="main.mostrarAE == 4"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img class="center" id="logo" alt="logo" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}} </p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6 padre"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Fecha de Emisión:</b> {{main.fechaEmision}}</p> <p><b>RUC del comprador:</b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social del comprador:</b> {{main.nombreRazonSocial | hasSomeValue}}</p> <p><b>Tipo de Transacción:</b> {{main.tipoTransaccion | hasSomeValue}}</p> </div> <div class="col-md-6"> <div class="checkboxes"> <b>Condición de Venta:</b> <label><b>Contado</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 1" disabled> <label><b>Crédito</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 2" disabled> </div> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Moneda de la operación:</b> {{main.monedaOperacion}} </p> <p ng-if="main.codigoMoneda != \'PYG\' && (previsualizacionBVE.condicionTipoCambio == \'Global\' || main.condicionTipoCambio == \'Global\')"> <b>Tipo de Cambio:</b> {{main.tipoCambio}} </p> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Condicion de Tipo de Cambio:</b> {{main.condicionTipoCambio}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>DATOS DEL VENDEDOR</b></p> <p><b>Cédula/Documento de Identidad:</b> {{main.cedulaVendedor}}</p> <p><b>Nombre del Vendedor:</b> {{main.nombreVendedor | hasSomeValue}}</p> <p><b>Dirección del Vendedor:</b> {{main.dirVendedor | hasSomeValue}}</p> <p><b>Departamento del Vendedor:</b> {{main.dptoVendedor | hasSomeValue}}</p> <p><b>Ciudad del Vendedor:</b> {{main.ciuVendedor | hasSomeValue}}</p> </div> <div class="col-md-6"> <p><b>DATOS DE LA TRANSACCIÓN</b></p> <p><b>Lugar de la transacción:</b> {{main.lugarTransaccion | hasSomeValue}}</p> <p><b>Departamento:</b> {{main.dptoProveedor | hasSomeValue}}</p> <p><b>Distrito donde se realiza la transacción:</b> {{main.distritoTransaccion | hasSomeValue}}</p> <p><b>Ciudad donde se realiza la transacción:</b> {{main.ciudadTransaccion | hasSomeValue}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="table-responsive"> <table class="table tablereglas table-bordered table-responsive table-hover"> <thead> <tr> <th scope="col" rowspan="1" style="vertical-align: middle">COD.</th> <th scope="col" rowspan="1" style="vertical-align: middle">CANTIDAD</th> <th scope="col" rowspan="1" style="vertical-align: middle">DESCRIPCIÓN</th> <th scope="col" rowspan="1" style="vertical-align: middle">PRECIO UNITARIO</th> <th scope="col" rowspan="1" style="vertical-align: middle">TOTAL DE LA OPERACION POR ITEM</th> </tr> </thead> <tbody> <tr ng-repeat="row in main.listaItem track by $index"> <td>{{row.codigoInterno}}</td> <td>{{row.cantidad}}</td> <td>{{row.descripcion}}</td> <td style="text-align: right">{{row.precioUnitario | formatPrice}}</td> <td style="text-align: right">{{row.totalOperacionAE | hasSomeValue | formatPrice}}</td> </tr> </tbody> <tfoot> <tr> <th scope="col" colspan="2"> TOTAL DE LA OPERACIÓN: </th> <td colspan="6">{{main.totalOperacion | formatPrice}}</td> </tr> <tr ng-if="main.codigoMoneda != \'PYG\'"> <th scope="col" colspan="3"> TOTAL DE LA OPERACION EN GUARANÍES: </th> <td colspan="5">{{main.totalGuaranies | formatPrice}}</td> </tr> </tfoot> </table> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> <div ng-if="main.mostrarNCD == 5 || main.mostrarNCD == 6"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img class="center" id="logo" alt="logo" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}} </p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº: {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC: {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-5"> <p><b>Fecha de Emisión:</b> {{main.fechaEmision}}</p> <p><b>RUC/Documento de Identidad Nro.:</b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social:</b> {{main.nombreRazonSocial | hasSomeValue}}</p> <p><b>Dirección:</b> {{main.direcionRerceptor | hasSomeValue}}</p> <p><b>Teléfono:</b> {{main.telefonoReceptor | hasSomeValue}}</p> <p><b>Correo Electrónico: </b>{{main.correoReceptor | hasSomeValue}}</p> </div> <div class="col-md-7"> <p><b>Motivo de Emisión:</b> {{main.motivoEmision | hasSomeValue}}</p> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Moneda de la operación:</b> {{main.monedaOperacion}} </p> <p ng-if="main.codigoMoneda != \'PYG\' && (main.condicionTipoCambio == 1 || main.condicionTipoCambio == \'Global\')"> <b>Tipo de Cambio:</b> {{main.tipoCambio}} </p> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Condicion de Tipo de Cambio:</b>{{main.condicionTipoCambio}}</p> <p ng-hide="main.hideCdc"><b>CDC Asociado:</b> {{main.cdcAsociado}} </p> \x3c!--p ng-hide="main.hideImp">Numero Timbrado Documento Impreso: {{main.dNTimDI}}</p--\x3e \x3c!--p ng-hide="main.hideImp">Establecimiento Asociado: {{main.dEstDocAso}} </p--\x3e \x3c!--p ng-hide="main.hideImp">Punto de Expedicion Asociado: {{main.dPExpDocAso}}</p--\x3e <p ng-hide="main.hideImp"><b>Nº Doc. Asociado:</b> {{main.dNumDocAso}} </p> \x3c!--p>Tipo de Documento Asociado: {{main.tipoDocumentoAsociadoDescripcion}}</p--\x3e <p><b>Fecha Emision:</b> {{main.dFecEmiDI}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="table-responsive"> <table class="table tablereglas table-bordered table-responsive table-hover"> <thead> <tr> <th scope="col" rowspan="2" style="vertical-align: middle">COD.</th> <th scope="col" rowspan="2" style="vertical-align: middle">CANTIDAD</th> <th scope="col" rowspan="2" style="vertical-align: middle">DESCRIPCIÓN</th> <th scope="col" rowspan="2" style="vertical-align: middle;width:10%">PRECIO UNITARIO (INCLUIDO IMPUESTO) </th> <th scope="col" colspan="3" style="vertical-align: middle">VALOR DE VENTA</th> </tr> <tr> <th scope="col" style="vertical-align: middle">EXENTAS</th> <th scope="col" style="vertical-align: middle">5%</th> <th scope="col" style="vertical-align: middle">10%</th> </tr> </thead> <tbody> <tr ng-repeat="row in main.listaItem track by $index"> <td>{{row.codigoInterno}}</td> <td>{{row.cantidad}}</td> <td>{{row.descripcion}}</td> <td style="text-align: right">{{row.precioUnitario | formatPrice}}</td> \x3c!--td style="text-align: right">{{row.descuentoGloblaEItem | hasSomeValue | formatPrice}}</td--\x3e <td style="text-align: right">{{row.totalItemExenta | formatPrice}}</td> <td style="text-align: right">{{row.totalItem5 | formatPrice}}</td> <td style="text-align: right">{{row.totalItem10 | formatPrice}}</td> </tr> </tbody> <tfoot> <tr> <th scope="col" colspan="4"> SUBTOTAL: </th> \x3c!--td>{{main.subtotalDescuentos | formatPrice}}</td--\x3e <td>{{main.subtotalExento | formatPrice}}</td> <td>{{main.subtotalIva5 | formatPrice}}</td> <td>{{main.subtotalIva10 | formatPrice}}</td> </tr> <tr> <th scope="col" colspan="2"> TOTAL DE LA OPERACIÓN: </th> <td colspan="5">{{main.totalOperacion | formatPrice}}</td> </tr> <tr ng-if="main.codigoMoneda != \'PYG\'"> <th scope="col" colspan="3"> TOTAL DE LA OPERACION EN GUARANÍES: </th> <td colspan="4">{{main.totalGuaranies | formatPrice}}</td> </tr> <tr> <th scope="col" colspan="1"> LIQUIDACIÓN IVA: </th> <td>(5%)</td> <td>{{main.subtotalLiquidacionIva5 | comma2decimal | formatPrice}}</td> <td>(10%)</td> <td>{{main.subtotalLiquidacionIva10 | comma2decimal | formatPrice}}</td> <th scope="col" colspan="1">TOTAL IVA: </th> <td>{{main.totalIVA | comma2decimal | formatPrice}}</td> </tr> </tfoot> </table> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> <div ng-if="main.mostrarNRE == 7"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img id="logo" alt="logo" class="center" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}} </p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº: {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC: {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Fecha de Emisión: </b> {{main.fechaEmision}}</p> <p><b>RUC/Documento de Identidad Nº: </b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social: </b> {{main.nombreRazonSocial | hasSomeValue}}</p> <p><b>Dirección: </b> {{main.direcionRerceptor | hasSomeValue}}</p> <p><b>Teléfono: </b> {{main.telefonoReceptor | hasSomeValue}}</p> <p><b>Correo Electrónico: </b>{{main.correoReceptor | hasSomeValue}}</p> </div> <div class="col-md-6"> <p><strong>Motivo de Emisión: </strong>{{main.motivoEmision}}</p> <p><strong>Responsable de la emisión de la NRE: </strong>{{main.responsableEmisionNRE}}</p> <p ng-hide="main.hideTipoAsoc"><strong>Tipo de Documento asociado: </strong>{{main.tipoDocumentoAsociado}} </p> <p ng-hide="main.hideCdc"><strong>CDC Asociado: </strong> {{main.cdcAsociado}} </p> <p ng-hide="main.hideCdc"><strong>Fecha de emisión del Doc. Asociado: </strong> {{main.dFecEmiDI}} </p> <p ng-hide="main.hideImpreso"><strong>Nº Documento Asociado: </strong>{{main.nroDocumentoAsociado}}</p> <p ng-hide="main.hideImpreso"><strong>Timbrado Nº: </strong>{{main.timbradoNro}}</p> <p ng-hide="main.hideImpreso"> <strong>Fecha de emisión del Doc. Asociado:</strong>{{main.fechaEmisionDocumentoAsociado}} </p> <p ng-hide="main.fechaFuturaEmisionFactura == null"> <strong>Fecha futura de emisión de la factura:</strong>{{main.fechaFuturaEmisionFactura}} </p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Tipo de transporte: </b> {{main.tipoTransporte}}</p> <p><b>Modalidad del transporte: </b> {{main.modalidadTransporte}}</p> <p><b>Responsable del costo del flete: </b> {{main.responsableCostoFlete | hasSomeValue}}</p> <p><b>Tipo de vehículo: </b> {{main.tipoVehiculo | hasSomeValue}}</p> <p><b>Marca: </b> {{main.marca | hasSomeValue}}</p> <p><b>Nº de Identificación del vehículo(chapa): </b>{{main.chapa | hasSomeValue}}</p> <p ng-hide="main.modalidadTransporte != \'Aéreo\'"><b>Número de vuelo: </b>{{main.numeroVuelo}}</p> </div> <div class="col-md-6"> <p><b>Dirección del local de salida: </b>{{main.direccionLocalSalida}}</p> <p><b>Ciudad/Departamento del local de salida:</b>{{main.ciudadDptoLocalSalida}}</p> <p><b>Dirección del local de la entrega: </b>{{main.direccionLocalEntrega}}</p> <p><b>Ciudad/Departamento del local de entrega: </b>{{main.ciudadDptoLocalEntrega}}</p> <p><b>Fecha estimada de inicio de traslado: </b>{{main.fechaInicioTraslado}}</p> <p><b>Fecha estimada de fin de traslado: </b>{{main.fechaFinTraslado}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>RUC/Documento de Identidad del Transportista Nº: </b> {{main.rucDocIdentidadTransportista}}</p> <p><b>Documento Identidad del chofer Nº: </b> {{main.nroDocChofer}}</p> <p><b>RUC del agente: </b> {{main.rucAgente | hasSomeValue}}</p> </div> <div class="col-md-6"> <p><b>Nombre o Razón Social del transportista: </b>{{main.nombreTransportista}}</p> <p><b>Nombre y Apellido del Chofer:</b>{{main.nombreChofer}}</p> <p><b>Nombre o Razón Social del Agente: </b>{{main.nombreAgente | hasSomeValue}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="table-responsive"> <table class="table tablereglas table-bordered table-responsive table-hover"> <thead> <tr> <th scope="col" rowspan="1">COD.</th> <th scope="col" rowspan="1">CANTIDAD</th> <th scope="col" rowspan="1">CANTIDAD DE QUIEBRA O MERMA</th> <th scope="col" rowspan="1">PORCENTAJE DE QUIEBRA O MERMA</th> <th scope="col" rowspan="1">DESCRIPCIÓN</th> </tr> </thead> <tbody> <tr ng-repeat="row in main.listaItem track by $index"> <td>{{row.codigo}}</td> <td style="text-align: right">{{row.cantidad}}</td> <td style="text-align: right">{{row.cantidadQuiebraMerma}}</td> <td style="text-align: right">{{row.porcentajeQuiebraMerma | formatPrice}}</td> <td>{{row.descripcion | hasSomeValue | formatPrice}}</td> </tr> </tbody> </table> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> <div ng-if="main.mostrarBRS == 10"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img class="center" id="logo" alt="logo" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº: {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC: {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Fecha de Emisión:</b> {{main.fechaEmision}}</p> <p><b>RUC/Documento de Identidad Nro.:</b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social:</b> {{main.nombreRazonSocial | hasSomeValue}}</p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body" style="background: lightgray"> <div class="col-md-6"> <p><b>VALOR DE VENTA EN GUARANIES: {{main.totalOperacion | formatPrice}}</b></p> </div> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> <div ng-if="main.mostrarBVE == 9"> <div class="container containerform"> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <img class="center" id="logo" alt="logo" style="height: 100px ;width: auto" src="images/logo_ekuatia.453e718e.png"> <div class="datosprev"> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreComercial | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.nombreUbicacion | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.ciudadEmisor | hasSomeValue}} - Telef. {{main.telefonoEmisor | hasSomeValue}}</p> <p class="parrafoCentradoNegrita text-uppercase">{{main.actividadEconomicaEmisor | hasSomeValue}}</p> </div> </div> <div class="col-md-6 padre"> <div class="datosprev" style="margin-top: 60px"> <p class="parrafoCentradoNegrita">TIMBRADO Nº: {{main.timbradoEmisor}}</p> <p class="parrafoCentradoNegrita">Fecha Inicio Vigencia: {{main.fechaInicioVigencia}}</p> </div> <div class="datosprev"> <p class="parrafoCentradoNegrita">RUC: {{main.rucEmisorCompleto}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.descripcionDoc}}</p> <p class="text-uppercase parrafoCentradoNegrita">{{main.numeroDocumento}}</p> </div> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="panel-body"> <div class="col-md-6"> <p><b>Fecha de Emisión:</b> {{main.fechaEmision}}</p> <p><b>RUC/Documento de Identidad Nro.:</b> {{main.rucReceptor}}</p> <p><b>Nombre o Razón Social:</b> {{main.nombreRazonSocial | hasSomeValue}}</p> <p><b>Dirección:</b> {{main.direcionRerceptor | hasSomeValue}}</p> <p><b>Teléfono:</b> {{main.telefonoReceptor | hasSomeValue}}</p> <p><b>Correo Electrónico: </b>{{main.correoReceptor | hasSomeValue}}</p> </div> <div class="col-md-6"> <p><b>Tipo de Transacción:</b> {{main.tipoTransaccion | hasSomeValue}}</p> <div class="checkboxes"> <b>Condición de Venta:</b> <label><b>Contado</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 1" disabled> <label><b>Crédito</b></label> <input type="checkbox" ng-checked="main.condicionOperacion == 2" disabled> </div> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Moneda de la operación:</b> {{main.monedaOperacion}} </p> <p ng-if="main.codigoMoneda != \'PYG\'"><b>Condicion de Tipo de Cambio:</b> {{main.condicionTipoCambio}} </p> <p ng-if="main.codigoMoneda != \'PYG\' && main.condicionTipoCambio == \'Global\'"><b>Tipo de Cambio:</b> {{main.tipoCambio}} </p> </div> </div> </div> <div class="panel panel-default" style="margin-top: 10px"> <div class="table-responsive"> <table class="table tablereglas table-bordered table-responsive table-hover"> <thead> <tr> <th scope="col" rowspan="1">CÓD.</th> <th scope="col" rowspan="1">CANTIDAD</th> <th scope="col" rowspan="1">DESCRIPCIÓN</th> <th scope="col" rowspan="1" style="vertical-align: middle;width:10%">PRECIO UNITARIO (INCLUIDO IMPUESTO) </th> <th scope="col" rowspan="1">TASA DEL IVA</th> <th scope="col" rowspan="1">TOTAL DE LA OPERACION POR ITEM</th> </tr> </thead> <tbody> <tr ng-repeat="row in main.listaItem track by $index"> <td>{{row.codigoInterno}}</td> <td>{{row.cantidad}}</td> <td>{{row.descripcion}}</td> <td style="text-align: right">{{row.precioUnitario | formatPrice}}</td> <td style="text-align: right">{{row.tasaDelIva | hasSomeValue | formatPrice}}</td> <td style="text-align: right">{{row.totalOpeItemPorFila | hasSomeValue | formatPrice}}</td> </tr> </tbody> <tfoot> <tr> <th scope="col" colspan="5"> TOTAL DE LA OPERACIÓN: </th> <td colspan="1">{{main.totalOperacion | formatPrice}}</td> </tr> <tr ng-if="main.codigoMoneda != \'PYG\'"> <th scope="col" colspan="5"> TOTAL DE LA OPERACIÓN EN GUARANÍES: </th> <td colspan="1">{{main.totalGuaranies | formatPrice}}</td> </tr> </tfoot> </table> </div> </div> </div> <div class="col-md-12"> <p class="parrafoCentradoNegrita"><b>CDC: {{main.cdc}}</b></p> </div> </div> </div>'),
a.put("views/main-camposae.html",'<div role="tabpanel" class="tab-pane active" id="camposae"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Campos de AutoFactura</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <h5>Campos que componen la Autofactura Electrónica</h5> <div class="form-horizontal row"> <div class="col-md-10"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Naturaleza del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.naturalezavendedor" readonly class="form-control col-md-8" id="naturalezavendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de documento de identidad del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.tipoidvendedor" readonly class="form-control col-md-8" id="tipoidvendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Número de documento de identidad del vendedor </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nroidvendedor" readonly class="form-control col-md-8" id="nroidvendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre y apellido del vendedor</label> <div class="col-md-12"> <input type="datetime" ng-model="main.nombrevendedor" readonly class="form-control col-md-8" id="nombrevendedor" title=""> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Dirección del vendedor </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.direccionvendedor" readonly class="form-control col-md-8" id="direccionvendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Número de casa del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nrocasavendedor" readonly class="form-control col-md-8" id="nrocasavendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Departamento del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.dptovendedor" readonly class="form-control col-md-8" id="dptovendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Distrito del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.distritovendedor" readonly class="form-control col-md-8" id="distritovendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Ciudad del vendedor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.ciudadvendedor" readonly class="form-control col-md-8" id="ciudadvendedor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Lugar de la transacción</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.lugartransaccion" readonly class="form-control col-md-8" id="lugartransaccion"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Dpto. donde se realiza la transacción</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.dptotransaccion" readonly class="form-control col-md-8" id="dptotransaccion"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Distrito donde se realiza la transacción</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.distritotransaccion" readonly class="form-control col-md-8" id="distritotransaccion"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Ciudad donde se realiza la transacción</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.ciudadtransaccion" readonly class="form-control col-md-8" id="ciudadtransaccion"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-camposnre.html",'<div role="tabpanel" class="tab-pane active" id="camposnre"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Campos de Nota de Remisión</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <h5>Campos que componen la Nota de Remisión Electrónica</h5> <div class="form-horizontal row"> <div class="col-md-10"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Motivo de Emisión</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.motivoemisionNRE" readonly class="form-control col-md-8" id="motivoemisionNRE"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Responsable de la Emisión de la Nota de Remisión</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.responsableemisionNRE" readonly class="form-control col-md-8" id="responsableemisionNRE"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Kilómetros estimados de recorrido </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.kilometrosNRE" readonly class="form-control col-md-8" id="kilometrosNRE"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha futura de emisión de la factura</label> <div class="col-md-12"> <input type="datetime" ng-model="main.fechafuturaNRE" readonly class="form-control col-md-8" id="fechafuturaNRE" title=""> </div> </div> </div> </div> </div> </div> <div class="col-md-12"> <h5>Campos generales de la carga</h5> <div class="form-horizontal row"> <div class="col-md-10"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Unidad de medida del total de volumen de la mercadería </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.unidadmedidavolumen" readonly class="form-control col-md-8" id="unidadmedidavolumen"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Total volumen de la mercadería</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.totalvolumen" readonly class="form-control col-md-8" id="totalvolumen"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Unidad de medida del peso total de la mercadería</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.unidadmedidapeso" readonly class="form-control col-md-8" id="unidadmedidapeso"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Total peso de la mercadería</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.totalpeso" readonly class="form-control col-md-8" id="totalpeso"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Características de la Carga</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.descripcioncarga" readonly class="form-control col-md-8" id="descripcioncarga"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-credito.html",'<div role="tabpanel" class="tab-pane active" id="credito"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Datos de la Operación</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Condición de la Operación</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.condicionventa" readonly class="form-control col-md-8" id="condicionoperacion"> </div> </div> </div> </div> <div class="col-md-12" ng-show="!main.variostipospago && main.haydatoscontado"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Pago</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.tipodepago" readonly class="form-control col-md-8" id="condicionoperacionTipoPago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Monto</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.montotipodepago" readonly class="form-control col-md-8" id="montotipodepago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Moneda</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.monedatipodepago" readonly class="form-control col-md-8" id="monedatipodepago"> </div> </div> </div> <div class="col-md-12" ng-show="main.datostarjeta"> <h6>Operación con Tarjeta de Débito/Crédito</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Denominación de la tarjeta</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.denominaciontarjeta" readonly class="form-control col-md-8" id="denominaciontarjeta"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Forma de procesamiento de pago</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.formapago" readonly class="form-control col-md-8" id="formapago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de la tarjeta</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nrotarjeta" readonly class="form-control col-md-8" id="nrotarjeta"> </div> </div> </div> </div> <div class="col-md-12" ng-show="main.datoscheque"> <h6>Operación con Cheque</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de cheque</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nrocheque" readonly class="form-control col-md-8" id="nrocheque"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Banco emisor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.bancoemisorcheque" readonly class="form-control col-md-8" id="bancoemisorcheque"> </div> </div> </div> </div> </div> <div class="col-md-12" ng-repeat="datoscontado in main.datoscontado" ng-show="main.variostipospago && main.haydatoscontado"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left"><b>Tipo de Pago #{{$index + 1}}</b></label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'dDesTiPag\']" readonly class="form-control col-md-8" id="condicionoperacionTipoPagoY"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Monto</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-value="datoscontado[\'dMonTiPag\'] | formatPrice" readonly class="form-control col-md-8" id="montotipodepago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Moneda</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'dDMoneTiPag\']" readonly class="form-control col-md-8" id="monedatipodepago"> </div> </div> </div> <div class="col-md-12 datosextra" ng-show="datoscontado[\'gPagTarCD\']"> <h6>Operación con Tarjeta de Débito/Crédito</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Denominación de la tarjeta</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'gPagTarCD\'].dDesDenTarj" readonly class="form-control col-md-8" id="denominaciontarjeta"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Forma de procesamiento de pago</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-value="main.verprocesamiento(datoscontado[\'gPagTarCD\'].iForProPa)" readonly class="form-control col-md-8" id="formapago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de la tarjeta</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'gPagTarCD\'].dNumTarj" readonly class="form-control col-md-8" id="nrotarjeta"> </div> </div> </div> </div> <div class="col-md-12" ng-show="datoscontado[\'gPagCheq\']"> <h6>Operación con Cheque</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de cheque</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'gPagCheq\'].dNumCheq" readonly class="form-control col-md-8" id="nrocheque"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Banco emisor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="datoscontado[\'gPagCheq\'].dBcoEmi" readonly class="form-control col-md-8" id="bancoemisorcheque"> </div> </div> </div> </div> </div> <div class="col-md-12" ng-show="main.haycredito"> <h6>Operación a Crédito</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Condición de Crédito</label> <div class="col-md-12"> <input type="text" ng-model="main.condicioncredito" readonly class="form-control col-md-8" id="condicioncredito"> </div> </div> </div> <div class="col-md-3" ng-show="main.entregainicial"> <div class="form-group"> <label class="col-md-12 control-label left">Entrega Inicial</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.entregainicial" readonly class="form-control col-md-8" id="entregainicial"> </div> </div> </div> <div class="col-md-3" ng-show="main.valorcredito == 1"> <div class="form-group"> <label class="col-md-12 control-label left">Plazo del Crédito</label> <div class="col-md-12"> <input type="text" ng-model="main.plazo" readonly class="form-control col-md-8" id="plazo" placeholder="-"> </div> </div> </div> <div class="col-md-3" ng-show="main.valorcredito != 1"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad de Cuotas</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.cantidadcuotas" readonly class="form-control col-md-8" id="cantidadcuotas"> </div> </div> </div> <div class="col-md-12" ng-show="main.valorcredito != 1 && main.datos.dSisFact != 2"> <div class="form-horizontal row" ng-repeat="item in main.datoscuotas"> <div class="col-md-12"> <h6> Cuota # {{$index + 1}}</h6> <div class="form-group col-md-2"> <label class="col-md-12 control-label left">Moneda de la Cuota</label> <div class="col-md-12"> <input type="text" ng-model="item.cMoneCuo" readonly class="form-control col-md-8" id="monecuotas{{$index}}" placeholder="-"> </div> </div> <div class="form-group col-md-5"> <label class="col-md-12 control-label left">Monto de Cuota</label> <div class="col-md-12"> <input type="text" ng-model="item.dMonCuota" readonly class="form-control col-md-8" id="montocuotas{{$index}}" placeholder="-"> </div> </div> <div class="form-group col-md-5"> <label class="col-md-12 control-label left">Fecha de Vencimiento de Cuotas </label> <div class="col-md-12"> <input type="datetime" ng-model="item.dVencCuo" placeholder="-" readonly class="form-control col-md-8" id="vencimientocuota"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-docs.html",'<div role="tabpanel" class="tab-pane active" id="docs"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Documentos Asociados</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="row eventomensaje" ng-if="!main.datosdocumento"> <div class="alert alert-info"> Sin documentos asociados </div> </div> </div> <div ng-if="main.datosdocumento && main.cantdocumentos == 1"> <div class="col-md-12"> <div class="col-md-5" ng-show="main.cdcDTEreferenciado"> <div class="form-group"> <label class="col-md-12 control-label left">CDC del DTE Referenciado</label> <div class="col-md-9"> <input type="text" ng-model="main.cdcDTEreferenciado" placeholder="-" readonly class="form-control col-md-8" id="cdcreferenciado"> </div> <div class="col-md-3" ng-show="main.mostrarboton"> <button id="boton" title="Confirmar" class="btn btn-success btn-sm pull-left" style="margin-top: 1px" ng-click="main.consultaragain(main.cdcDTEreferenciado)"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Confirmar </button> </div> <div class="col-md-3" ng-show="!main.mostrarboton"> <button id="boton" title="Consultar" class="btn btn-success btn-sm pull-left" style="margin-top: 1px" ng-click="main.llamarcdcasociado()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> </button> </div> </div> </div> <div class="col-md-9" ng-show="main.mostrarcaptcha"> <div tabindex="2" theme="clean" style="transform:scale(0.77);-webkit-transform:scale(0.77);\r\n                  transform-origin:0 0;-webkit-transform-origin:0 0" vc-recaptcha key="\'6Ldcb-wrAAAAAGp5mRQLnbGW0GFsKyi71OhYDImu\'"> </div> </div> </div> <div class="col-md-5" ng-show="!main.cdcasociado"> <div class="alert alert-danger ng-binding" style="margin-left: 5px"> {{main.mensaje}} <button type="button" class="close" ng-click="main.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">×</span> </button> </div> </div> <div class="col-md-12"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Documento Asociado</label> <div class="col-md-12"> <input type="text" ng-model="main.tipodocumentoasociado" placeholder="-" readonly class="form-control col-md-8" id="tipodocumentoasociado"> </div> </div> </div> <div class="col-md-3" ng-show="main.codtipodocasociado == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Nro Timbrado Documento Impreso de Referencia</label> <div class="col-md-12"> <input type="text" ng-model="main.nrotimbradoreferencia" placeholder="-" readonly class="form-control col-md-8" id="nrotimbrado"> </div> </div> </div> <div class="col-md-2" ng-show="main.codtipodocasociado == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Establecimiento</label> <div class="col-md-12"> <input type="text" ng-model="main.establecimientoasociado" placeholder="-" readonly class="form-control col-md-8" id="establecimientoasociado"> </div> </div> </div> <div class="col-md-2" ng-show="main.codtipodocasociado == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Punto de Expedición </label> <div class="col-md-12"> <input type="text" ng-model="main.puntoexpedicion" placeholder="-" readonly class="form-control col-md-8" id="puntoexpedicion"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.nrodocumentoasociado"> <div class="form-group"> <label class="col-md-12 control-label left">Número del Documento</label> <div class="col-md-12"> <input type="text" ng-model="main.nrodocumentoasociado" placeholder="-" readonly class="form-control col-md-8" id="nrodocumentoasociado"> </div> </div> </div> <div class="col-md-3" ng-if="main.tipodocumentoimpreso"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Documento Impreso</label> <div class="col-md-12"> <input type="text" ng-model="main.tipodocumentoimpreso" placeholder="-" readonly class="form-control col-md-8" id="tipodocumentoimpreso"> </div> </div> </div> <div class="col-md-4" ng-if="main.fechaemisiondocimpreso"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha de Emisión del Documento Impreso de Referencia </label> <div class="col-md-12"> <input type="datetime" ng-value="main.fechaemisiondocimpreso | date : \'dd/MM/yyyy HH:mm:ss\'" placeholder="-" readonly class="form-control col-md-8" id="fechaemisiondocimpreso"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.comprobanteretencion"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Comprobante de Retención </label> <div class="col-md-12"> <input type="text" ng-model="main.comprobanteretencion" placeholder="-" readonly class="form-control col-md-8" id="comprobanteretencion"> </div> </div> </div> <div class="col-md-3" ng-if="main.resolucioncredfiscal"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Resolución de Crédito Fiscal</label> <div class="col-md-12"> <input type="text" ng-model="main.resolucioncredfiscal" placeholder="-" readonly class="form-control col-md-8" id="resolucioncredfiscal"> </div> </div> </div> <div class="col-md-3" ng-if="main.rucFusionado"> <div class="form-group"> <label class="col-md-12 control-label left">RUC Fusionado</label> <div class="col-md-12"> <input type="text" ng-model="main.rucFusionado" placeholder="-" readonly class="form-control col-md-8" id="rucFusionado"> </div> </div> </div> </div> <div class="col-md-12" ng-show="main.codtipodocasociado == 3"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de constancia</label> <div class="col-md-12"> <input type="text" ng-model="main.tipoconstancia" placeholder="-" readonly class="form-control col-md-8" id="tipoconstancia"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de constancia</label> <div class="col-md-12"> <input type="text" ng-model="main.nroconstancia" placeholder="-" readonly class="form-control col-md-8" id="nroconstancia"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de control de la constancia</label> <div class="col-md-12"> <input type="text" ng-model="main.nrocontrolconstancia" placeholder="-" readonly class="form-control col-md-8" id="nrocontrolconstancia"> </div> </div> </div> </div> </div> <div ng-if="main.datosdocumento && main.cantdocumentos > 1" ng-repeat="doc in main.datosdocumento"> <div class="col-md-12"> <div class="col-md-4"> <div class="form-group"> <label class="col-md-12 control-label left">CDC del DTE Referenciado</label> <div class="col-md-9"> <input type="text" ng-model="doc.dCdCDERef" placeholder="-" readonly class="form-control col-md-8" id="dCdCDERef"> </div> <div class="col-md-3" ng-show="!main.mostrarboton"> <button id="boton" title="Consultar" class="btn btn-success btn-sm pull-left" style="margin-top: 1px" ng-click="main.llamarcdcasociado()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> </button> </div> <div class="col-md-3" ng-show="main.mostrarboton"> <button id="boton" title="Confirmar" class="btn btn-success btn-sm pull-left" style="margin-top: 1px" ng-click="main.consultaragain(doc.dCdCDERef)"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Confirmar </button> </div> <div class="col-md-9" ng-show="main.mostrarcaptcha"> <div tabindex="2" theme="clean" style="transform:scale(0.77);-webkit-transform:scale(0.77);\r\n                      transform-origin:0 0;-webkit-transform-origin:0 0" vc-recaptcha key="\'6Ldcb-wrAAAAAGp5mRQLnbGW0GFsKyi71OhYDImu\'"> </div> </div> <div class="alert alert-danger" ng-show="consultaform.$submitted && main.haymensaje" role="alert"> {{main.mensaje}} <button type="button" class="close" ng-click="main.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> </div> </div> </div> <div class="col-md-5" ng-show="!main.cdcasociado"> <div class="alert alert-danger ng-binding" style="margin-left: 5px"> {{main.mensaje}} <button type="button" class="close" ng-click="main.cerrarAlertError()" aria-label="Close"> <span aria-hidden="true">×</span> </button> </div> </div> <div class="col-md-12"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Documento Asociado</label> <div class="col-md-12"> <input type="text" ng-model="doc.dDesTipCons" placeholder="-" readonly class="form-control col-md-8" id="dDesTipDocAso"> </div> </div> </div> <div class="col-md-3" ng-show="doc.iTipDocAso == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Nro Timbrado Documento Impreso de Referencia</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNTimDI" placeholder="-" readonly class="form-control col-md-8" id="dNTimDI"> </div> </div> </div> <div class="col-md-2" ng-show="doc.iTipDocAso == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Establecimiento</label> <div class="col-md-12"> <input type="text" ng-model="doc.dEstDocAso" placeholder="-" readonly class="form-control col-md-8" id="dEstDocAso"> </div> </div> </div> <div class="col-md-2" ng-show="doc.iTipDocAso == 2"> <div class="form-group"> <label class="col-md-12 control-label left">Punto de Expedición</label> <div class="col-md-12"> <input type="text" ng-model="doc.dPExpDocAso" placeholder="-" readonly class="form-control col-md-8" id="dPExpDocAso"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="doc.dNumDocAso"> <div class="form-group"> <label class="col-md-12 control-label left">Número del Documento</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNumDocAso" placeholder="-" readonly class="form-control col-md-8" id="dNumDocAso"> </div> </div> </div> <div class="col-md-3" ng-if="doc.dDTipoDocAso"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Documento Impreso</label> <div class="col-md-12"> <input type="text" ng-model="doc.dDTipoDocAso" placeholder="-" readonly class="form-control col-md-8" id="dDTipoDocAso"> </div> </div> </div> <div class="col-md-3" ng-if="doc.dFecEmiDI"> <div class="form-group"> <label class="col-md-12 control-label left"> Fecha de Emisión del Documento Impreso de Referencia </label> <div class="col-md-12"> <input type="datetime" ng-value="doc.dFecEmiDI | date : \'dd/MM/yyyy HH:mm:ss\'" placeholder="-" readonly class="form-control col-md-8" id="dFecEmiDI"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="doc.dNumComRet"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Comprobante de Retención</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNumComRet" placeholder="-" readonly class="form-control col-md-8" id="dNumComRet"> </div> </div> </div> <div class="col-md-3" ng-if="doc.dNumResCF"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Resolución de Crédito Fiscal</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNumResCF" placeholder="-" readonly class="form-control col-md-8" id="dNumResCF"> </div> </div> </div> </div> <div class="col-md-12" ng-show="doc.iTipDocAso == 3"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de constancia</label> <div class="col-md-12"> <input type="text" ng-model="doc.dDesTipCons" placeholder="-" readonly class="form-control col-md-8" id="dDesTipCons"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de constancia</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNumCons" placeholder="-" readonly class="form-control col-md-8" id="dNumCons"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de control de la constancia</label> <div class="col-md-12"> <input type="text" ng-model="doc.dNumControl" placeholder="-" readonly class="form-control col-md-8" id="dNumControl"> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-emisor.html",'<div role="tabpanel" class="tab-pane active" id="emisor"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Emisor</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Razón Social del Emisor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nombreemisor" readonly class="form-control col-md-8" id="nombre-emisor"> </div> </div> </div> <div class="col-md-7" ng-if="main.nombrefantasia"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre de fantasía </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nombrefantasia" readonly class="form-control col-md-8" id="nombrefantasia"> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">RUC</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.rucemisor" readonly class="form-control col-md-8" id="emisor-ruc"> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Actividad Económica</label> <div class="col-md-12"> <textarea class="form-control text-area" id="descripcionactividad" rows="5" ng-model="main.descripcionactividad" readonly>\r\n              </textarea> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Dirección donde se emitió el DTE</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.direccionDE" readonly class="form-control col-md-8" id="direccionemisor"> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Teléfono local de emisión de DE </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.telemisor" readonly class="form-control col-md-8" id="telefonoemisor"> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Correo electrónico del emisor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.emailemisor" readonly class="form-control col-md-8" id="emailemisor"> </div> </div> </div> <div class="col-md-7"> <div class="form-group"> <label class="col-md-12 control-label left">Ciudad</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.ciudadDE" readonly class="form-control col-md-8" id="ciudademisor"> </div> </div> </div> </div> </div> </div> </div>'),
a.put("views/main-eventosreceptor.html",'<div ng-if="main.loadingevento" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> Aguarde... </div> <div class="alert alert-danger" ng-if="!main.loadingevento && main.haymsjeventoerror && !main.haymsjeventook"> <span class="glyphicon glyphicon-alert mensaje" aria-hidden="true"></span> {{main.mensajevento}} <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="main.cerrarAlertError()"> <span aria-hidden="true">&times;</span> </button> </div> <div class="alert alert-success" ng-if="!main.loadingevento && main.haymsjeventook && !main.haymsjeventoerror"> <span class="glyphicon glyphicon-ok mensaje" aria-hidden="true"></span> {{main.mensajevento}} <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="main.cerrarAlertSuccess()"> <span aria-hidden="true">&times;</span> </button> </div> <div class="col-md-4 gestionar-evento" ng-show="!main.loadingevento"> <h5>Gestionar Evento</h5> <form name="formevento" class="kform form-horizontal" role="form" ng-submit="main.enviarevento(formevento)"> <div class="form-horizontal row" style="margin-top: 10px"> <fieldset id="formevento"> <div class="col-md-12"> <div class="form-group"> <label class="col-md-3 control-label left">Evento</label> <div class="col-md-8"> <ui-select ng-model="main.selected" theme="bootstrap" on-select="main.seleccion(main.selected)"> <ui-select-match placeholder="Seleccionar evento...">{{main.selected.evento}}</ui-select-match> <ui-select-choices repeat="item in main.listaeventos"> <div ng-bind-html="item.evento"></div> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-12"> <div class="form-group" ng-show="main.notificacion"> <label class="col-md-3 control-label left">Fecha de Recepción de Documento*</label> <div class="input-group col-md-8" moment-picker="main.rightnowNOT" format="DD/MM/YYYY" start-view="month" locale="es" max-date="main.maxDate"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> </span> <input name="fecha" ng-class="{\'requerido\' : !main.rightnowNOT}" ng-required="main.notificacion" ng-model="main.rightnowNOT" locale="es" format="DD/MM/YYYY" max-date="main.maxDate" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }"> </div> </div> <div class="form-group" ng-show="main.desconocimiento"> <label class="col-md-3 control-label left">Fecha de Recepción de Documento*</label> <div class="input-group col-md-8" moment-picker="main.rightnowDES" format="DD/MM/YYYY" start-view="month" locale="es" max-date="main.maxDate"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> </span> <input name="fecha" ng-class="{\'requerido\' : !main.rightnowDES}" ng-required="main.desconocimiento" ng-model="main.rightnowDES" locale="es" format="DD/MM/YYYY" max-date="main.maxDate" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }"> </div> </div> <div class="form-group" ng-show="main.desconocimiento"> <label class="col-md-3 control-label left">Motivo del Evento* </label> <div class="col-md-8"> <textarea maxlength="496" minlength="4" ng-class="{\'requerido\' : !main.motivoevento}" ng-model="main.motivoevento" ng-required="main.desconocimiento" class="form-control" id="justificaciontexto" rows="4">\r\n              </textarea> </div> </div> <div class="form-group" ng-show="main.conformidad"> <h6>Tipo de Conformidad</h6> <div class="col-md-12"> <label class="col-md-5 radio-inline"> <input type="radio" name="optradio" ng-click="main.conforcheck(\'total\')"> Conformidad Total* </label> <label class="col-md-6 radio-inline"> <input type="radio" name="optradio" ng-click="main.conforcheck(\'parcial\')"> Conformidad Parcial* </label> </div> </div> <div class="form-group" ng-show="main.conformidad && main.mostrarfechaconfor"> <label class="col-md-3 control-label left">Fecha estimada de recepción de mercadería*</label> <div class="input-group col-md-8" moment-picker="main.rightnowCONF" format="DD/MM/YYYY" start-view="month" locale="es"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> </span> <input class="form-control" ng-required="main.conformidad && main.mostrarfechaconfor" ng-class="{\'requerido\' : !main.rightnowCONF}" ng-model="main.rightnowCONF" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }" name="fecha2"> </div> <div ng-if="!main.rightnowCONF" class="text-danger" style="font-size: 12px; margin-top: 5px; padding-left: 20px"> Fecha estimada de recepción requerida. </div> </div> <div class="form-group" ng-show="main.disconformidad"> <label class="col-md-3 control-label left">Motivo del Evento*</label> <div class="col-md-8"> <textarea maxlength="496" minlength="5" ng-required="main.disconformidad" ng-model="main.motivodisconformidad" ng-class="{\'requerido\' : !main.motivodisconformidad}" name="motivodis" class="form-control" id="motivodis" rows="4">\r\n              </textarea> </div> </div> </div> </fieldset> </div> <div class="col-md-12" ng-show="main.enviar"> <button id="boton" type="submit" class="btn btn-success pull-right btn-sm"> <span class="glyphicon glyphicon-send" aria-hidden="true"> </span> Enviar </button> </div> </form> </div> <div class="col-md-8" ng-show="!main.loadingevento"> <h5>Eventos realizados</h5> <table class="table table-bordered table-responsive table-hover table-striped" ng-if="main.eventosreceptor && main.eventosreceptor.length > 0"> <thead> <tr> <th scope="col" colspan="1">N° de Transacción</th> <th scope="col" colspan="2">Fecha </th> <th scope="col" colspan="2" style="width:20%">Tipo</th> <th scope="col" colspan="3" style="width:50%">Motivo</th> </tr> </thead> <tbody> <tr ng-repeat="eventoreceptor in main.eventosreceptor"> <td colspan="1">{{$index + 1}} </td><td colspan="2">{{eventoreceptor.dFecProc}}</td> <td colspan="2">{{eventoreceptor.dTiGDE}}</td> <td colspan="3">{{eventoreceptor.motivoEvento | hasSomeValue : \'-\'}}</td> </tr> </tbody> </table> <div class="alert alert-info" ng-show="!main.eventosreceptor || main.eventosreceptor.length <= 0"> No hay registros de eventos </div> </div>'),a.put("views/main-items.html",'<div role="tabpanel" class="tab-pane active" id="items"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Items</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <p></p> <div class="form-horizontal row" ng-if="main.cantidaditem > 1" ng-repeat="item in main.grupoitems"> <div class="col-md-12"> <h6> Item # {{$index + 1}}</h6> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label left">Código</label> <div class="col-md-12"> <input type="text" ng-model="item.dCodInt" readonly class="form-control col-md-8" id="dCodInt"> </div> </div> </div> <div class="col-md-5"> <div class="form-group"> <label class="col-md-12 control-label">Descripción del Producto y/o Servicio</label> <div class="col-md-12"> <input type="text" ng-model="item.dDesProSer" readonly class="form-control col-md-8" id="dDesProSer"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad </label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="item.dCantProSer" class="form-control col-md-8" id="dCantProSer"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label">Unidad Medida</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="item.dDesUniMed" class="form-control col-md-8" id="dDesUniMed"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Valor total de la Operación por Item</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem[\'gValorRestaItem\'].dTotOpeItem | formatPrice" class="form-control col-md-8" id="dTotOpeItem"> </div> </div> </div> <div class="col-md-3" ng-if="item.gValorItem[\'gValorRestaItem\'].dTotOpeGs"> <div class="form-group"> <label class="col-md-12 control-label">Valor total de la operación por ítem en guaraníes</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem[\'gValorRestaItem\'].dTotOpeGs | formatPrice" class="form-control col-md-8" id="dTotOpeGs"> </div> </div> </div> <div class="col-md-1" style="margin-top: 35px; text-align: center" id="botonmas"> <button title="Ver más información" class="btn btn-success btn-circle btn-sm hidden-xs hidden-sm" type="button" data-toggle="collapse" data-target="#detalleitem{{$index + 1}}" aria-expanded="false" aria-controls="detalleitem"> <span class="glyphicon glyphicon-eye-open" aria-hidden="true" style="font-size: small; position: inherit"></span> </button> <button title="Ver más información" class="btn btn-success btn-sm hidden-md hidden-lg" type="button" data-toggle="collapse" data-target="#detalleitem{{$index + 1}}" aria-expanded="false" aria-controls="detalleitem"> <span class="glyphicon glyphicon-eye-open" aria-hidden="true" style="font-size: small; position: inherit"> </span> Ver más </button> </div> <div class="collapse multi-collapse" id="detalleitem{{$index + 1}}"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Precio unitario del Producto y/o Servicio</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem[\'dPUniProSer\'] | formatPrice" class="form-control col-md-8" id="dPUniProSer"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Descuento particular sobre el precio unitario por ítem </label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="0" ng-model="item.gValorItem[\'gValorRestaItem\'].dDescItem" class="form-control col-md-8" id="dDescItem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de descuento por Item</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="0" ng-model="item.gValorItem[\'gValorRestaItem\'].dPorcDesIt" class="form-control col-md-8" id="dPorcDesIt"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de cambio por ítem</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem[\'tipocambioitem\'] | formatPrice" class="form-control col-md-8" id="tipocambioitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Total bruto de la operación por ítem</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem[\'dTotBruOpeItem\'] | formatPrice" class="form-control col-md-8" id="totalbrutoitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Forma de Afectación Tributaria del IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="item.gCamIVA[\'dDesAfecIVA\']" readonly class="form-control col-md-8" id="dDesAfecIVA"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Proporción Gravada de IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="item.gCamIVA[\'dPropIVA\']" readonly class="form-control col-md-8" id="dPropIVA"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tasa del IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="item.gCamIVA[\'dTasaIVA\']" readonly class="form-control col-md-8" id="dTasaIVA"> </div> </div> </div> <div class="col-md-3" ng-if="item.gCamIVA[\'dBasGravIVA\']"> <div class="form-group"> <label class="col-md-12 control-label left">Base gravada del IVA por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="item.gCamIVA[\'dBasGravIVA\'] | formatPrice" readonly class="form-control col-md-8" id="dBasGravIVA"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Base exenta por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="item.gCamIVA[\'dBasExe\'] | formatPrice" readonly class="form-control col-md-8" id="dBasExe"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación del IVA por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="item.gCamIVA[\'dLiqIVAItem\'] | formatPrice" readonly class="form-control col-md-8" id="dLiqIVAItem"> </div> </div> </div> <div class="col-md-3" ng-if="item.dParAranc"> <div class="form-group"> <label class="col-md-12 control-label left">Partida Arancelaria</label> <div class="col-md-12 mt10"> <input type="text" ng-model="item.dParAranc" readonly class="form-control col-md-8" id="dParAranc"> </div> </div> </div> <div class="col-md-3" ng-if="item.dNCM"> <div class="form-group"> <label class="col-md-12 control-label left">Nomenclatura común del Mercosur (NCM)</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dNCM" readonly class="form-control col-md-8" id="dNCM"> </div> </div> </div> <div class="col-md-3" ng-if="item.dDncpG"> <div class="form-group"> <label class="col-md-12 control-label left">Código DNCP – Nivel General</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dDncpG" readonly class="form-control col-md-8" id="dncpgral"> </div> </div> </div> <div class="col-md-3" ng-if="item.dDncpE"> <div class="form-group"> <label class="col-md-12 control-label left">Código DNCP – Nivel Especifico</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dDncpE" readonly class="form-control col-md-8" id="dDncpE"> </div> </div> </div> <div class="col-md-3" ng-if="item.dDesRelMerc"> <div class="form-group"> <label class="col-md-12 control-label left">s. Descripción del código de datos de relevancia de las mercaderías</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dDesRelMerc" readonly class="form-control col-md-8" id="dDesRelMerc"> </div> </div> </div> <div class="col-md-3" ng-if="item.dCanQuiMer"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad de quiebra o merma</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dCanQuiMer" readonly class="form-control col-md-8" id="dCanQuiMer"> </div> </div> </div> <div class="col-md-3" ng-if="item.dPorQuiMer"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de quiebra o merma</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.dPorQuiMer" readonly class="form-control col-md-8" id="dPorQuiMer"> </div> </div> </div> <div class="col-md-3" ng-if="item.gValorItem.gValorRestaItem[\'dDescGloItem\']"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de quiebra o merma</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="item.gValorItem.gValorRestaItem[\'dDescGloItem\']" readonly class="form-control col-md-8" id="descuentoglobalitem"> </div> </div> </div> </div> </div> </div> <div class="form-horizontal row" ng-if="main.cantidaditem == 1"> <div class="col-md-12"> <h6> Item # 1</h6> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label left">Código</label> <div class="col-md-12"> <input type="text" ng-model="main.codigoitem" readonly class="form-control col-md-8" id="codigoitem"> </div> </div> </div> <div class="col-md-5"> <div class="form-group"> <label class="col-md-12 control-label">Descripción del Producto y/o Servicio</label> <div class="col-md-12"> <input type="text" ng-model="main.descripcionproducto" readonly class="form-control col-md-8" id="descripcionproducto"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad </label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="main.cantidadproductos" class="form-control col-md-8" id="cantidadproductos"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label">Unidad Medida</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="main.unidadmedidaitem" class="form-control col-md-8" id="unidadmedidaitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Valor total de la Operación por Item</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-value="main.operacionxitem | formatPrice" class="form-control col-md-8" id="operacionxitem"> </div> </div> </div> <div class="col-md-1" style="margin-top: 35px; text-align: center" id="botonmas"> <button title="Ver más información" class="btn btn-success btn-circle btn-sm hidden-sm hidden-xs" type="button" data-toggle="collapse" data-target="#detalleitem{{$index + 1}}" aria-expanded="false" aria-controls="detalleitem"> <span class="glyphicon glyphicon-eye-open" aria-hidden="true" style="font-size: small; position: inherit"></span> </button> <button title="Ver más información" class="btn btn-success btn-sm btn-vermas hidden-md hidden-lg" type="button" data-toggle="collapse" data-target="#detalleitem{{$index + 1}}" aria-expanded="false" aria-controls="detalleitem"> <span class="glyphicon glyphicon-eye-open" aria-hidden="true" style="font-size: small; position: inherit"></span> Ver más </button> </div> <div class="collapse multi-collapse" id="detalleitem{{$index + 1}}"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Precio unitario del Producto y/o Servicio</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="main.precioitem | formatPrice" class="form-control col-md-8" id="precioitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Descuento particular sobre el precio unitario por ítem </label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-model="main.descuentoparticularitem" class="form-control col-md-8" id="descuentoparticularitem"> </div> </div> </div> <div class="col-md-3" ng-if="main.tipocambioitem"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de cambio por ítem</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="main.tipocambioitem | formatPrice" class="form-control col-md-8" id="tipocambioitem"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalbrutoitem"> <div class="form-group"> <label class="col-md-12 control-label left">Total bruto de la operación por ítem</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-value="main.totalbrutoitem | formatPrice" class="form-control col-md-8" id="totalbrutoitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de descuento por Item</label> <div class="col-md-12 mt10"> <input type="text" readonly placeholder="-" ng-model="main.porcentajedescuentoitem" class="form-control col-md-8" id="porcentajedescuentoitem"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Forma de Afectación Tributaria del IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.afectacioniva" readonly class="form-control col-md-8" id="afectacioniva"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Proporción Gravada de IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.proporciongravadaiva" readonly class="form-control col-md-8" id="proporciongravadaiva"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tasa del IVA</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.tasaiva" readonly class="form-control col-md-8" id="tasaiva"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Base gravada del IVA por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="main.basegravadaivaitem | formatPrice" readonly class="form-control col-md-8" id="dBasGravIVA"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Base exenta por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="main.baseExentaItem | formatPrice" readonly class="form-control col-md-8" id="dBasExe"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación del IVA por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-value="main.liquidacionivaitem | formatPrice" readonly class="form-control col-md-8" id="dLiqIVAItem"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalguaranies"> <div class="form-group"> <label class="col-md-12 control-label left">Valor total de la operación por ítem en guaraníes</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.totalguaranies" readonly class="form-control col-md-8" id="totalguaranies"> </div> </div> </div> <div class="col-md-3" ng-if="main.descuentoglobalitem"> <div class="form-group"> <label class="col-md-12 control-label left">Descuento global sobre el precio unitario por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.descuentoglobalitem" readonly class="form-control col-md-8" id="descuentoglobalitem"> </div> </div> </div> <div class="col-md-3" ng-if="main.anticipoparticular"> <div class="form-group"> <label class="col-md-12 control-label left">Anticipo particular sobre el precio unitario por ítem </label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.anticipoparticular" readonly class="form-control col-md-8" id="anticipoparticular"> </div> </div> </div> <div class="col-md-3" ng-if="main.anticipoglobal"> <div class="form-group"> <label class="col-md-12 control-label left">Anticipo global sobre el precio unitario por ítem</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.anticipoglobal" readonly class="form-control col-md-8" id="anticipoglobal"> </div> </div> </div> <div class="col-md-3" ng-if="main.partidaarancelaria"> <div class="form-group"> <label class="col-md-12 control-label left">Partida Arancelaria</label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.partidaarancelaria" readonly class="form-control col-md-8" id="partidaarancelaria"> </div> </div> </div> <div class="col-md-3" ng-if="main.NCM"> <div class="form-group"> <label class="col-md-12 control-label left">Nomenclatura común del Mercosur (NCM)</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.NCM" readonly class="form-control col-md-8" id="ncm"> </div> </div> </div> <div class="col-md-3" ng-if="main.dncpgral"> <div class="form-group"> <label class="col-md-12 control-label left">Código DNCP – Nivel General</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.dncpgral" readonly class="form-control col-md-8" id="dncpgral"> </div> </div> </div> <div class="col-md-3" ng-if="main.dncpesp"> <div class="form-group"> <label class="col-md-12 control-label left">Código DNCP – Nivel Especifico</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.dncpesp" readonly class="form-control col-md-8" id="dncpesp"> </div> </div> </div> <div class="col-md-3" ng-if="main.descripcionrelevancia"> <div class="form-group"> <label class="col-md-12 control-label left">s. Descripción del código de datos de relevancia de las mercaderías</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.descripcionrelevancia" readonly class="form-control col-md-8" id="descripcionrelevancia"> </div> </div> </div> <div class="col-md-3" ng-if="main.cantidadquiebra"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad de quiebra o merma</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.cantidadquiebra" readonly class="form-control col-md-8" id="cantidadquiebra"> </div> </div> </div> <div class="col-md-3" ng-if="main.porcentajequiebra"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de quiebra o merma</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.porcentajequiebra" readonly class="form-control col-md-8" id="porcentajequiebra"> </div> </div> </div> <div class="col-md-3" ng-if="main.cdcAnticipo"> <div class="form-group"> <label class="col-md-12 control-label left">CDC del anticipo</label> <div class="col-md-12 mt10"> <input type="text" placeholder="-" ng-model="main.cdcAnticipo" readonly class="form-control col-md-8" id="cdcAnticipo"> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-ivaoperacion.html",'<div role="tabpanel" class="tab-pane active" id="ivaoperacion"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row" ng-repeat="iva in main.ivaitems"> <div class="col-md-12"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Forma de Afectación Tributaria del IVA</label> <div class="col-md-12"> <div class="col-md-12"> <input type="text" ng-model="iva.dDesAfecIVA" readonly class="form-control col-md-8" id="buscador-contactos3"> </div> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left"> Descripción de la forma de Afectación Tributaria del IVA </label> <div class="col-md-12"> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos4"> </div> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Proporción Gravada de IVA</label> <div class="col-md-12"> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos5"> </div> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tasa del IVA</label> <div class="col-md-12"> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="#buscador-contactos6"> </div> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Cantidad del Producto y/o Servicio </label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos7"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Precio unitario del Producto y/o Servicio</label> <div class="col-md-12 mt10"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos8"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de descuento por Item</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos9"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Valor total de la Operación por Item</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" id="buscador-contactos10"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),
a.put("views/main-otros.html",'<div role="tabpanel" class="tab-pane active" id="Grupos"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Otros Grupos</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="row eventomensaje" ng-if="!main.existeotros && main.camposoperacion == null"> <div class="alert alert-info"> Sin datos adicionales </div> </div> </div> <div ng-if="main.otrosgrupos"> <div class="row eventomensaje" ng-if="main.automovilnulo"> <h6>Sector Automovilístico</h6> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-12" ng-show="main.sectorautomovil"> <h6>Sector Automovilístico</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de operación de venta</label> <div class="col-md-12"> <input type="text" ng-model="main.operacionventa" placeholder="-" readonly class="form-control col-md-8" id="operacionventa"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Chasis del vehículo</label> <div class="col-md-12"> <input type="text" ng-model="main.chasis" placeholder="-" readonly class="form-control col-md-8" id="chasis"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Color del vehículo</label> <div class="col-md-12"> <input type="text" ng-model="main.colorvehiculo" placeholder="-" readonly class="form-control col-md-8" id="colorvehiculo"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Potencia del motor (CV)</label> <div class="col-md-12"> <input type="text" ng-model="main.potenciamotor" placeholder="-" readonly class="form-control col-md-8" id="potenciamotor"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Capacidad del motor</label> <div class="col-md-12"> <input type="text" ng-model="main.capacidadmotor" placeholder="-" readonly class="form-control col-md-8" id="capacidadmotor"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Peso Neto</label> <div class="col-md-12"> <input type="text" ng-model="main.autopesoneto" placeholder="-" readonly class="form-control col-md-8" id="autopesoneto"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Peso Bruto</label> <div class="col-md-12"> <input type="text" ng-model="main.autopesobruto" placeholder="-" readonly class="form-control col-md-8" id="autopesobruto"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de combustible</label> <div class="col-md-12"> <input type="text" ng-model="main.tipocombustible" placeholder="-" readonly class="form-control col-md-8" id="tipocombustible"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Motor</label> <div class="col-md-12"> <input type="text" ng-model="main.nromotor" placeholder="-" readonly class="form-control col-md-8" id="nromotor"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Capacidad Máxima de Tracción</label> <div class="col-md-12"> <input type="text" ng-model="main.captraccion" placeholder="-" readonly class="form-control col-md-8" id="captraccion"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Año de Fabricación</label> <div class="col-md-12"> <input type="text" ng-model="main.autoanhofab" placeholder="-" readonly class="form-control col-md-8" id="autoanhofab"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de vehículo</label> <div class="col-md-12"> <input type="text" ng-model="main.tipovehiculosector" placeholder="-" readonly class="form-control col-md-8" id="tipovehiculosector"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Capacidad de Pasajeros</label> <div class="col-md-12"> <input type="text" ng-model="main.capacidadpasajeros" placeholder="-" readonly class="form-control col-md-8" id="capacidadpasajeros"> </div> </div> </div> </div> <div class="row eventomensaje" ng-if="main.energianulo"> <h6>Sector de Energía Eléctrica</h6> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-12" ng-show="main.sectorenergia"> <h6>Sector de Energía Eléctrica</h6> <div class="form-horizontal row" ng-if="main.cantidadEner > 1" ng-repeat="item in main.sectorenergia"> <div class="col-md-12"> <h6> &nbsp; Item # {{$index + 1}}</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de medidor</label> <div class="col-md-12"> <input type="text" ng-model="item.dNroMed" placeholder="-" readonly class="form-control col-md-8" id="nromedidor{{$index}}"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Código de actividad</label> <div class="col-md-12"> <input type="text" ng-model="item.dActiv" placeholder="-" readonly class="form-control col-md-8" id="codActividad{{$index}}"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Código de categoría</label> <div class="col-md-12"> <input type="text" ng-model="item.dCateg" placeholder="-" readonly class="form-control col-md-8" id="codCategoria{{$index}}"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Lectura anterior</label> <div class="col-md-12"> <input type="text" ng-model="item.dLecAnt" placeholder="-" readonly class="form-control col-md-8" id="lecanterior{{$index}}"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Lectura actual</label> <div class="col-md-12"> <input type="text" ng-model="item.dLecAct" placeholder="-" readonly class="form-control col-md-8" id="lecactual{{$index}}"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Consumo</label> <div class="col-md-12"> <input type="text" ng-model="item.dConKwh" placeholder="-" readonly class="form-control col-md-8" id="consumo{{$index}}"> </div> </div> </div> </div> </div> <div class="form-horizontal row" ng-if="main.cantidadEner == 1"> <div class="col-md-12"> <h6> &nbsp; Item # {{$index + 1}}</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de medidor</label> <div class="col-md-12"> <input type="text" ng-model="main.nromedidor" placeholder="-" readonly class="form-control col-md-8" id="nromedidor"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Código de actividad</label> <div class="col-md-12"> <input type="text" ng-model="main.codActividad" placeholder="-" readonly class="form-control col-md-8" id="codActividad2"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Código de categoría</label> <div class="col-md-12"> <input type="text" ng-model="main.codCategoria" placeholder="-" readonly class="form-control col-md-8" id="codCategoria2"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Lectura anterior</label> <div class="col-md-12"> <input type="text" ng-model="main.lecanterior" placeholder="-" readonly class="form-control col-md-8" id="lecanterior2"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Lectura actual</label> <div class="col-md-12"> <input type="text" ng-model="main.lecactual" placeholder="-" readonly class="form-control col-md-8" id="lecactual2"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Consumo</label> <div class="col-md-12"> <input type="text" ng-model="main.consumo" placeholder="-" readonly class="form-control col-md-8" id="consumo2"> </div> </div> </div> </div> </div> </div> <div class="row eventomensaje" ng-if="main.segurosnulo"> <h6>Sector de Seguros</h6> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-12" ng-show="main.sectorseguros"> <h6>Sector de Seguros</h6> <div class="row eventomensaje" ng-if="main.sectorsegurosnulo"> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left"> Código de la empresa en la Superintendencia de Seguros </label> <div class="col-md-12"> <input type="text" ng-model="main.codempseg" placeholder="-" readonly class="form-control col-md-8" id="codempseg"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Código de Póliza</label> <div class="col-md-12"> <input type="text" ng-model="main.codpoliza" placeholder="-" readonly class="form-control col-md-8" id="codpoliza"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Unidad de tiempo de Vigencia</label> <div class="col-md-12"> <input type="text" ng-model="main.unidadtiempo" placeholder="-" readonly class="form-control col-md-8" id="unidadtiempo"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label left">Vigencia</label> <div class="col-md-12"> <input type="text" ng-model="main.vigenciaseg" placeholder="-" readonly class="form-control col-md-8" id="vigenciaseg"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Póliza</label> <div class="col-md-12"> <input type="text" ng-model="main.nropoliza" placeholder="-" readonly class="form-control col-md-8" id="nropoliza"> </div> </div> </div> </div> <div class="row eventomensaje" ng-if="main.supernulo"> <h6>Sector de Supermercados</h6> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-12" ng-show="main.sectorsuper"> <h6>Sector de Supermercados</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre del cajero</label> <div class="col-md-12"> <input type="text" ng-model="main.nombrecajero" placeholder="-" readonly class="form-control col-md-8" id="nombrecajero"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Efectivo</label> <div class="col-md-12"> <input type="text" ng-value="main.supefectivo" placeholder="-" readonly class="form-control col-md-8" id="supefectivo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Vuelto</label> <div class="col-md-12"> <input type="text" ng-value="main.supvuelto" placeholder="-" readonly class="form-control col-md-8" id="supvuelto"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Monto de Donación</label> <div class="col-md-12"> <input type="text" ng-value="main.montodonacion" placeholder="-" readonly class="form-control col-md-8" id="montodonacion"> </div> </div> </div> </div> <div class="row eventomensaje" ng-if="main.adicionalesnulo || main.camposoperacion != null"> <h6>Datos adicionales de uso comercial</h6> <div class="alert alert-info"> Sin datos adicionales </div> </div> <div class="col-md-12" ng-show="main.adicionales"> <h6>Datos adicionales de uso comercial</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Ciclo</label> <div class="col-md-12"> <input type="text" ng-model="main.ciclo" placeholder="-" readonly class="form-control col-md-8" id="ciclo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha de Inicio de Ciclo</label> <div class="col-md-12"> <input type="text" ng-value="main.fechainiciociclo | date: \'dd/MM/yyyy HH:mm:ss\'" placeholder="-" readonly class="form-control col-md-8" id="fechainiciociclo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha de Fin de Ciclo</label> <div class="col-md-12"> <input type="text" ng-value="main.fechafinciclo | date: \'dd/MM/yyyy HH:mm:ss\'" placeholder="-" readonly class="form-control col-md-8" id="fechafinciclo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Vencimiento de Pago</label> <div class="col-md-12"> <input type="text" ng-value="main.vencpago | date: \'dd/MM/yyyy HH:mm:ss\'" placeholder="-" readonly class="form-control col-md-8" id="vencpago"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Contrato</label> <div class="col-md-12"> <input type="text" ng-value="main.nrocontrato" placeholder="-" readonly class="form-control col-md-8" id="nrocontrato"> </div> </div> </div> <div class="col-md-3" ng-if="main.codConDncp != null"> <div class="form-group"> <label class="col-md-12 control-label left">Código de contratación de la DNCP</label> <div class="col-md-12"> <input type="text" ng-value="main.codConDncp" placeholder="-" readonly class="form-control col-md-8" id="codConDncp"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Saldo Anterior</label> <div class="col-md-12"> <input type="text" ng-value="main.saldoanterior" placeholder="-" readonly class="form-control col-md-8" id="saldoanterior"> </div> </div> </div> </div> </div> <div ng-if="main.infoAdicional"> <div class="col-md-12"> <h6>Información de interés</h6> <div class="col-md-12"> <div class="form-group"> <label class="col-md-12 control-label left"> Información de interés del emisor respecto al DE </label> <div class="col-md-12"> <textarea ng-model="main.dInfoEmi" placeholder="-" readonly class="form-control col-md-12" style="overflow: scroll" id="dInfoEmi">\r\n                  </textarea></div> </div> </div> <div class="col-md-12"> <div class="form-group"> <label class="col-md-12 control-label left"> Información de interés del Fisco respecto al DE </label> <div class="col-md-12"> <textarea type="text" ng-model="main.dInfoFisc" placeholder="-" readonly class="form-control col-md-12" style="overflow: scroll" id="dInfoFisc">\r\n                  </textarea></div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-rastreo.html",'<div role="tabpanel" class="tab-pane active" id="rastreo"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Rastreo de Mercadería</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="row eventomensaje" ng-if="!main.rastreo"> <div class="alert alert-info"> Documento sin rastreo de mercadería </div> </div> </div> <div class="col-md-12" ng-repeat="item in main.grupoitems" ng-if="main.cantidaditem > 1 && main.rastreo"> <h6 ng-show="item.gRasMerc"> Item # {{$index + 1}}</h6> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Lote</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNumLote\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos11"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left"> Fecha de Vencimiento de la Mercadería </label> <div class="col-md-12"> <input type="datetime" ng-value="item.gRasMerc[\'dVencMerc\'] | date : \'dd/MM/yyyy\'" readonly placeholder="-" class="form-control col-md-8" id="vencmercaderia"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Serie</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNSerie\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos12"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Pedido</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNumPedi\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos16"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Seguimiento del Envio</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNumSegui\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos17"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de registro del producto SENAVE</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNumReg\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos18"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Número de registro de entidad comercial SENAVE</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNumRegEntCom\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos19"> </div> </div> </div> <div class="col-md-3" ng-show="item.gRasMerc"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre del Producto</label> <div class="col-md-12"> <input type="text" ng-model="item.gRasMerc[\'dNomPro\']" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos20"> </div> </div> </div> </div> <div class="col-md-12" ng-if="main.cantidaditem == 1 && main.rastreo"> <h6> Item # 1</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Lote</label> <div class="col-md-12"> <input type="text" ng-model="main.nroloterastreo" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos13"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha de Vencimiento de la Mercadería </label> <div class="col-md-12"> <input type="datetime" ng-value="main.vencmercaderia | date : \'dd/MM/yyyy\'" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos14"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Serie</label> <div class="col-md-12"> <input type="text" ng-model="main.nroserie" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos15"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Pedido</label> <div class="col-md-12"> <input type="text" ng-model="main.nroPedido" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos16"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de Seguimiento del Envio</label> <div class="col-md-12"> <input type="text" ng-model="main.nroSeguimiento" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos17"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de registro del producto SENAVE</label> <div class="col-md-12"> <input type="text" ng-model="main.nroRegistro" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos18"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de registro de entidad comercial SENAVE</label> <div class="col-md-12"> <input type="text" ng-model="main.nroRegistroCom" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos19"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre del Producto</label> <div class="col-md-12"> <input type="text" ng-model="main.dNomPro" readonly placeholder="-" class="form-control col-md-8" id="buscador-contactos20"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-receptor.html",'<div role="tabpanel" class="tab-pane active" id="receptor"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Receptor</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre o Razón Social del Receptor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.nombrereceptor" readonly class="form-control col-md-8" id="nombrereceptor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Naturaleza del Receptor</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.contribuyente" readonly class="form-control col-md-8" id="contribuyente"> </div> </div> </div> <div class="col-md-6" ng-show="main.receptornaturaleza == 1"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Contribuyente </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.tipocontribuyente" readonly class="form-control col-md-8" id="tipocontribuyente"> </div> </div> </div> <div class="col-md-6" ng-if="main.cedulareceptor != null"> <div class="form-group"> <label class="col-md-12 control-label left">Documento de Identidad </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.cedulareceptor" readonly class="form-control col-md-8" id="documentoreceptor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">RUC </label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.rucreceptor" readonly class="form-control col-md-8" id="documentoreceptorRUC"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Dirección</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.direccionreceptor" readonly class="form-control col-md-8" id="direccionreceptor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Teléfono</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly ng-model="main.telefonoreceptor" class="form-control col-md-8" id="telefonoreceptor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Correo Electrónico</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly ng-model="main.emailreceptor" class="form-control col-md-8" id="emailreceptor"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">País</label> <div class="col-md-12"> <input type="text" placeholder="-" ng-model="main.paisreceptor" readonly class="form-control col-md-8" id="paisreceptor"> </div> </div> </div> </div> <div class="col-md-12" ng-if="main.hayevento" ng-repeat="evento in main.eventos"> <h4 ng-show="evento.NombreRazonSocial">Datos Evento de Nominación</h4> <div class="col-md-6" ng-show="evento.NombreRazonSocial"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre o Razón Social</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.NombreRazonSocial" id="NombreRazonSocial" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.RUC"> <div class="form-group"> <label class="col-md-12 control-label">RUC</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.RUC" id="ruc" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.DocumentoIdentidad"> <div class="form-group"> <label class="col-md-12 control-label">Documento de Identidad</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.DocumentoIdentidad" id="DocumentoIdentidad" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.Direccion"> <div class="form-group"> <label class="col-md-12 control-label">Dirección</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.Direccion" id="Direccion" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.Telefono"> <div class="form-group"> <label class="col-md-12 control-label">Teléfono</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.Telefono" id="Telefono" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE.includes(\'Nomina\')"> <div class="form-group"> <label class="col-md-12 control-label">Naturaleza del Receptor</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="main.naturalezaReceptorEvento" id="NaturalezaReceptor" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.CorreoElectronico"> <div class="form-group"> <label class="col-md-12 control-label">Correo Electrónico</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.CorreoElectronico" id="CorreoElectronico" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE.includes(\'Nomina\') && evento.TipoContribuyente"> <div class="form-group"> <label class="col-md-12 control-label">Tipo de Contribuyente</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="main.tipoContribuyenteEvento" id="TipoContribuyente" title=""> </div> </div> </div> <div class="col-md-3" ng-show="evento.Pais"> <div class="form-group"> <label class="col-md-12 control-label">País</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="evento.Pais" id="Pais" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE.includes(\'Nomina\')"> <div class="form-group"> <label class="col-md-12 control-label">Tipo de Operación</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="main.tipoOperacionEvento" id="TipoOperacion" title=""> </div> </div> </div> </div> </div> </div> </div>'),
a.put("views/main-resumen.html",'<div role="tabpanel" class="tab-pane active" id="resumen"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Resumen</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Razón Social del Emisor</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.nombreemisor" id="nombre-emisorr" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">RUC</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.rucemisor" id="ruc-emisor" title=""> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre o Razón Social del Receptor</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.nombrereceptor" id="nombre-receptor" title=""> </div> </div> </div> <div class="col-md-3" ng-show="main.rucreceptor"> <div class="form-group"> <label class="col-md-12 control-label">RUC</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.rucreceptor" id="documento-receptor" title=""> </div> </div> </div> <div class="col-md-3" ng-if="main.cedulareceptor != null"> <div class="form-group"> <label class="col-md-12 control-label">Documento de Identidad</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.cedulareceptor" id="cedulareceptor" title=""> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-6" ng-show="main.tipotransaccion"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Transacción</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.tipotransaccion" id="nombre-transaccion" title=""> </div> </div> </div> <div class="col-md-3" ng-show="main.condicionventa"> <div class="form-group"> <label class="col-md-12 control-label left">Condición de Venta</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.condicionventa" id="condicionventa" title=""> </div> </div> </div> <div class="col-md-6" ng-show="main.motivonota"> <div class="form-group"> <label class="col-md-12 control-label left">Motivo de Emisión de Nota</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.motivonota" id="motivonota" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Operación</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.operaciontipo" id="operaciontipo" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Impuesto Afectado</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.tipoimpuestoafectado" id="tipoimpuestoafectado" title=""> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-7" ng-if="main.obligacionafectada != null"> <div class="form-group"> <label class="col-md-12 control-label left">Obligación Afectada</label> <div class="col-md-12" ng-repeat="item in main.listaObjetosObligaciones"> <div class="col-md-12" style="padding-top: 2px!important"> <input type="text" readonly class="form-control col-md-8" ng-model="item.valor" readonly class="form-control col-md-8" id="dCodObl">  </div> </div> </div> </div> <div class="col-md-3" ng-if="main.condiciontipodecambio"> <div class="form-group"> <label class="col-md-12 control-label left">Condición del tipo de cambio</label> <div class="col-md-12"> <input type="text" readonly class="form-control col-md-8" ng-model="main.condiciontipodecambio" id="condiciontipodecambio" title=""> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-6" ng-show="main.digestvalue"> <div class="form-group"> <label class="col-md-12 control-label left">Digest Value</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="main.digestvalue" id="digestvalue" title=""> </div> </div> </div> <div class="col-md-6" ng-show="main.hashqr"> <div class="form-group"> <label class="col-md-12 control-label left">Hash QR</label> <div class="col-md-12"> <input type="text" placeholder="-" readonly class="form-control col-md-8" ng-model="main.hashqr" id="valorqr" title=""> </div> </div> </div> </div> <div class="col-md-12"> <h5>Datos de Operación</h5> <div class="col-md-6" id="exentas"> <table class="table table-bordered table-responsive table-hover table-striped"> <thead> <tr> <th scope="col" colspan="2">#</th> <th scope="col" colspan="2">Exentas</th> <th scope="col" colspan="2">Exoneradas</th> <th scope="col" colspan="2">5%</th> <th scope="col" colspan="2">10%</th> </tr> </thead> <tbody> <tr> <th colspan="2">Subtotal</th> <td colspan="2">{{main.subtotalexenta}}</td> <td colspan="2">{{main.subtotalexonerada}}</td> <td colspan="2">{{main.exentas5}}</td> <td colspan="2">{{main.exentas10}}</td> </tr> <tr> <th colspan="2">IVA</th> <td colspan="2">0</td> <td colspan="2">0</td> <td colspan="2">{{main.IVAexentas5}}</td> <td colspan="2">{{main.IVAexentas10}}</td> </tr> </tbody> </table> </div> <div class="col-md-6"> <table class="table table-bordered table-responsive table-hover table-striped"> <thead> <tr> <th scope="col">Monto Total de la Operación</th> <th scope="col"> Tipo de Cambio</th> <th scope="col">Monto Total de la Operación en Gs.</th> </tr> </thead> <tbody> <tr> <td>{{main.totalgraloperacion}}</td> <td>{{main.tipodecambio}}</td> <td>{{main.totaloperaciongs}}</td> </tr> </tbody> </table> <table class="table table-bordered table-responsive table-hover table-striped"> <thead> <tr> <th scope="col" colspan="2">Moneda de la Operación</th> <th scope="col" colspan="2">Cantidad de items</th> </tr> </thead> <tbody> <tr> <td colspan="2"> {{main.monedaoperacion}} </td> <td colspan="2">{{main.cantidaditem}}</td> </tr> </tbody> </table> </div> </div> <div class="col-md-12"> <div class="row" style="margin-left: 0px"> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">N° de Transacción de SIFEN</label> <div class="col-md-12"> <input type="text" readonly ng-model="main.transaccionCDC" class="form-control col-md-8" id="transaccioncdc" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Estado</label> <div class="col-md-12"> <input type="text" ng-model="main.estadocdc" readonly class="form-control col-md-8" id="estadocdc" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha y Hora</label> <div class="col-md-12"> <input type="datetime" ng-model="main.transaccionCDCfecha" readonly class="form-control col-md-8" id="fechacdc" title=""> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label">Sistema de Facturación</label> <div class="col-md-12"> <input type="text" ng-model="main.cSisFact" readonly class="form-control col-md-8" id="cSisFact" title=""> </div> </div> </div> </div> <h5>Eventos</h5> <div class="row eventomensaje" ng-if="!main.hayevento"> <div class="alert alert-info"> Documento sin eventos </div> </div> <div class="row" style="margin-left: 0px" ng-if="main.hayevento" ng-repeat="evento in main.eventos"> <h6> Evento # {{$index + 1}}</h6> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">N° de Transacción del Evento</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.dProtAut" class="form-control col-md-8" id="transaccionevento" title=""> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Fecha y Hora</label> <div class="col-md-12"> <input type="datetime" readonly ng-value="evento.dFecProc | date: \'dd/MM/yyyy HH:mm:ss\'" class="form-control col-md-8" id="fechaevento" title=""> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Evento</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.dTiGDE" class="form-control col-md-8" id="descripcionevento" title=""> </div> </div> </div> <div class="col-md-6" ng-if="evento.documentoAsociado != null"> <div class="form-group"> <label class="col-md-12 control-label left">CDC Asociado del Evento</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.documentoAsociado" class="form-control col-md-8" id="cdcAsociadoEvento" title=""> </div> </div> </div> <div class="col-md-6" ng-if="evento.dTiGDE.includes(\'Nomina\') || evento.dTiGDE.includes(\'Cancela\')"> <div class="form-group"> <label class="col-md-12 control-label left">Motivo del Evento</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.motivoEvento" class="form-control col-md-8" id="motivoEvento" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE == \'Retención Anulación\' || evento.dTiGDE == \'Retención\' "> <div class="form-group"> <label class="col-md-12 control-label left">RUC Retentor</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.RucRetentor" class="form-control col-md-8" id="rucRetentorEvento" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE == \'Retención Anulación\' || evento.dTiGDE == \'Retención\' "> <div class="form-group"> <label class="col-md-12 control-label left">Nro. de Documento</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.NroDocumentoRetencion" class="form-control col-md-8" id="nroDocumentoRetencionEvento" title=""> </div> </div> </div> <div class="col-md-3" ng-if="evento.dTiGDE == \'Crédito Fiscal\'"> <div class="form-group"> <label class="col-md-12 control-label left">Nro. de Transferencia de Créditos Fiscales</label> <div class="col-md-12"> <input type="text" readonly ng-model="evento.numeroTransaccionCCFF" class="form-control col-md-8" id="nroTransferenciaCCFF" title=""> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-totales.html",'<div role="tabpanel" class="tab-pane active" id="totales"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Totales y Subtotales</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="col-md-3" ng-if="main.subtotalexenta"> <div class="form-group"> <label class="col-md-12 control-label left">Subtotal de la Operación Exenta</label> <div class="col-md-12"> <input type="text" ng-model="main.subtotalexenta" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos16"> </div> </div> </div> <div class="col-md-3" ng-if="main.subtotalexonerada"> <div class="form-group"> <label class="col-md-12 control-label left">Subtotal de la Operación Exonerada</label> <div class="col-md-12"> <input type="text" ng-model="main.subtotalexonerada" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos17"> </div> </div> </div> <div class="col-md-3" ng-if="main.exentas5"> <div class="form-group"> <label class="col-md-12 control-label left"> Subtotal de la Operación con IVA incluido a la tasa de 5% </label> <div class="col-md-12"> <input type="text" ng-model="main.exentas5" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos18"> </div> </div> </div> <div class="col-md-3" ng-if="main.exentas10"> <div class="form-group"> <label class="col-md-12 control-label left"> Subtotal de la Operación con IVA incluido a la tasa de 10% </label> <div class="col-md-12 mt10"> <input type="text" ng-model="main.exentas10" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos19"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.subtotalisc"> <div class="form-group"> <label class="col-md-12 control-label left">Subtotal de la Operación con ISC</label> <div class="col-md-12"> <input type="text" ng-model="main.subtotalisc" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos20"> </div> </div> </div> <div class="col-md-3" ng-if="main.totaloperacion"> <div class="form-group"> <label class="col-md-12 control-label left">Total de la Operación</label> <div class="col-md-12"> <input type="text" ng-model="main.totaloperacion" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos21"> </div> </div> </div> <div class="col-md-3" ng-if="main.descuentoxitem"> <div class="form-group"> <label class="col-md-12 control-label left">Total Descuento por Item</label> <div class="col-md-12"> <input type="text" ng-model="main.descuentoxitem" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos22"> </div> </div> </div> <div class="col-md-3" ng-if="main.porcentajedescuentototal"> <div class="form-group"> <label class="col-md-12 control-label left">Porcentaje de Descuento sobre Total de la Operación</label> <div class="col-md-12"> <input type="text" ng-model="main.porcentajedescuentototal" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos23"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.descuentototaloperacion"> <div class="form-group"> <label class="col-md-12 control-label left">Descuento sobre Total de la Operación</label> <div class="col-md-12"> <input type="text" ng-model="main.descuentototaloperacion" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos24"> </div> </div> </div> <div class="col-md-3" ng-if="main.anticipo"> <div class="form-group"> <label class="col-md-12 control-label left">Anticipo</label> <div class="col-md-12"> <input type="text" ng-model="main.anticipo" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos25"> </div> </div> </div> <div class="col-md-3" ng-if="main.redondeo"> <div class="form-group"> <label class="col-md-12 control-label left">Redondeo</label> <div class="col-md-12"> <input type="text" ng-model="main.redondeo" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos26"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalgraloperacion"> <div class="form-group"> <label class="col-md-12 control-label left">Total General de la Operación</label> <div class="col-md-12"> <input type="text" ng-model="main.totalgraloperacion" placeholder="-" readonly class="form-control col-md-8" id="27"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.IVAexentas5"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación del IVA a la tasa del 5%</label> <div class="col-md-12"> <input type="text" ng-model="main.IVAexentas5" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos27"> </div> </div> </div> <div class="col-md-3" ng-if="main.IVAexentas10"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación del IVA a la tasa del 10%</label> <div class="col-md-12"> <input type="text" ng-model="main.IVAexentas10" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos28"> </div> </div> </div> <div class="col-md-3" ng-if="main.liquidaciontotaliva"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación Total del IVA </label> <div class="col-md-12"> <input type="text" ng-model="main.liquidaciontotaliva" placeholder="-" readonly class="form-control col-md-8" id="29"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalbasegrav5"> <div class="form-group"> <label class="col-md-12 control-label left">Total Base Gravada de la Tasa del 5%</label> <div class="col-md-12"> <input type="text" ng-model="main.totalbasegrav5" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos29"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.totalbasegrav10"> <div class="form-group"> <label class="col-md-12 control-label left">Total Base Gravada de la Tasa del 10%</label> <div class="col-md-12"> <input type="text" ng-model="main.totalbasegrav10" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos30"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalbasegravIVA"> <div class="form-group"> <label class="col-md-12 control-label left">Total Base Gravada de IVA</label> <div class="col-md-12"> <input type="text" ng-model="main.totalbasegravIVA" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos31"> </div> </div> </div> <div class="col-md-3" ng-if="main.liquidaciontotalISC"> <div class="form-group"> <label class="col-md-12 control-label left">Liquidación Total del ISC</label> <div class="col-md-12"> <input type="text" ng-model="main.liquidaciontotalISC" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos32"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalbasegravISC"> <div class="form-group"> <label class="col-md-12 control-label left">Base Gravada del ISC</label> <div class="col-md-12"> <input type="text" ng-model="main.totalbasegravISC" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos33"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.monedaoperacion"> <div class="form-group"> <label class="col-md-12 control-label left">Moneda de la Operación</label> <div class="col-md-12"> <input type="text" ng-model="main.monedaoperacion" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos34"> </div> </div> </div> <div class="col-md-3" ng-if="main.tipodecambio"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Cambio</label> <div class="col-md-12"> <input type="text" ng-model="main.tipodecambio" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos35"> </div> </div> </div> <div class="col-md-3" ng-if="main.totaloperaciongs"> <div class="form-group"> <label class="col-md-12 control-label left">Total General de la Operación en Guaraníes</label> <div class="col-md-12"> <input type="text" ng-model="main.totaloperaciongs" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos36"> </div> </div> </div> <div class="col-md-3" ng-if="main.totalmascomision"> <div class="form-group"> <label class="col-md-12 control-label left">Total + Comisión</label> <div class="col-md-12"> <input type="text" ng-model="main.totalmascomision" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos37"> </div> </div> </div> </div> <div class="col-md-12"> <div class="col-md-3" ng-if="main.comision"> <div class="form-group"> <label class="col-md-12 control-label left">Comisión</label> <div class="col-md-12"> <input type="text" ng-model="main.comision" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos38"> </div> </div> </div> <div class="col-md-3" ng-if="main.ivacomision"> <div class="form-group"> <label class="col-md-12 control-label left">IVA de la Comisión</label> <div class="col-md-12"> <input type="text" ng-model="main.ivacomision" placeholder="-" readonly class="form-control col-md-8" id="buscador-contactos39"> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/main-transporte.html",'<div role="tabpanel" class="tab-pane active" id="transporte"> <div class="col-md-12"> <div id="titulotab" ng-class="{mostrar: main.imprimirtodo}"> <h6>Transporte de Mercaderías</h6> </div> <div class="form-horizontal row"> <div class="col-md-12"> <div class="form-horizontal row"> <div class="col-md-12"> <div class="row eventomensaje" ng-if="!main.transporte"> <div class="alert alert-info"> Sin datos de transporte de mercaderías </div> </div> </div> <div ng-if="main.transporte"> <div class="col-md-12"> <h6>Transporte</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de Transporte</label> <div class="col-md-12"> <input type="text" ng-model="main.tipotransporte" placeholder="-" readonly class="form-control col-md-8" id="tipotransporte"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Modalidad de Transporte</label> <div class="col-md-12"> <input type="text" ng-model="main.modalidadtransporte" placeholder="-" readonly class="form-control col-md-8" id="modalidadtransporte"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Responsable por el costo del flete</label> <div class="col-md-12"> <input type="text" ng-model="main.responsableflete" placeholder="-" readonly class="form-control col-md-8" id="responsableflete"> </div> </div> </div> </div> <div class="col-md-12" ng-show="main.datoslocalsalida"> <h6>Local de Salida</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Dirección de local de salida</label> <div class="col-md-12"> <input type="text" ng-model="main.direccionsalida" placeholder="-" readonly class="form-control col-md-8" id="direccionsalida"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de casa salida</label> <div class="col-md-12"> <input type="text" ng-model="main.nrodireccionsalida" placeholder="-" readonly class="form-control col-md-8" id="nrodireccionsalida"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Departamento del local de salida</label> <div class="col-md-12"> <input type="text" ng-model="main.dptosalida" placeholder="-" readonly class="form-control col-md-8" id="dptosalida"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Distrito del local de salida</label> <div class="col-md-12"> <input type="text" ng-model="main.distritosalida" placeholder="-" readonly class="form-control col-md-8" id="distritosalida"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Ciudad del local de salida</label> <div class="col-md-12"> <input type="datetime" ng-model="main.ciudadsalida" placeholder="-" readonly class="form-control col-md-8" id="ciudadsalida"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Teléfono de contacto del local de salida </label> <div class="col-md-12"> <input type="text" ng-model="main.telefonosalida" placeholder="-" readonly class="form-control col-md-8" id="telefonosalida"> </div> </div> </div> </div> <div class="col-md-12"> <h6>Local de Entrega</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Dirección del local de la entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.direccionentrega" placeholder="-" readonly class="form-control col-md-8" id="direccionentrega"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de casa entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.nrodireccionentrega" placeholder="-" readonly class="form-control col-md-8" id="nrodireccionentrega"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Departamento del local de la entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.dptoentrega" placeholder="-" readonly class="form-control col-md-8" id="dptoentrega"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Distrito del local de la entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.distritoentrega" placeholder="-" readonly class="form-control col-md-8" id="distritoentrega"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Ciudad del local de la entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.ciudadentrega" placeholder="-" readonly class="form-control col-md-8" id="ciudadentrega"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Teléfono del local de la entrega </label> <div class="col-md-12"> <input type="text" ng-model="main.telefonoentrega" placeholder="-" readonly class="form-control col-md-8" id="telefonoentrega"> </div> </div> </div> </div> <div class="col-md-12"> <h6>Datos del Vehículo</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Tipo de vehículo </label> <div class="col-md-12"> <input type="text" ng-model="main.tipovehiculo" placeholder="-" readonly class="form-control col-md-8" id="tipovehiculo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Marca </label> <div class="col-md-12"> <input type="text" ng-model="main.marcavehiculo" placeholder="-" readonly class="form-control col-md-8" id="marcavehiculo"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Número de identificación del vehículo </label> <div class="col-md-12"> <input type="text" ng-model="main.nroidvehiculo" placeholder="-" readonly class="form-control col-md-8" id="nroidvehiculo"> </div> </div> </div> <div class="col-md-3" ng-if="main.nrovuelo"> <div class="form-group"> <label class="col-md-12 control-label left">Número de vuelo</label> <div class="col-md-12"> <input type="text" ng-model="main.nrovuelo" placeholder="-" readonly class="form-control col-md-8" id="nrovuelo"> </div> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="col-md-12 control-label left">Datos Adicionales</label> <div class="col-md-12"> <input type="text" ng-model="main.adicionalesvehiculo" placeholder="-" readonly class="form-control col-md-8" id="adicionalesvehiculo"> </div> </div> </div> </div> <div class="col-md-12"> <h6>Datos del Transportista</h6> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre del Transportista </label> <div class="col-md-12"> <input type="text" ng-model="main.nombretransportista" placeholder="-" readonly class="form-control col-md-8" id="nombretransportista"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">RUC / CI de Transportista </label> <div class="col-md-12"> <input type="text" ng-model="main.doctransportista" placeholder="-" readonly class="form-control col-md-8" id="doctransportista"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">Nombre del chofer </label> <div class="col-md-12"> <input type="text" ng-model="main.nombrechofer" placeholder="-" readonly class="form-control col-md-8" id="nombrechofer"> </div> </div> </div> <div class="col-md-3"> <div class="form-group"> <label class="col-md-12 control-label left">CI del chofer </label> <div class="col-md-12"> <input type="text" ng-model="main.idchofer" placeholder="-" readonly class="form-control col-md-8" id="idchofer"> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),
a.put("views/main.html",'<div class="contenido" id="prueba" ng-show="main.vistapestanhas"> <div class="col-md-12"> <div ng-if="main.loading && !main.haymensaje" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> </div> </div> <div class="alert alert-danger" ng-show="!main.loading && main.haymensaje"> {{main.mensaje}} <button class="botonalerta" ng-click="main.irnueva()"> Vuelva a intentar </button> <button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="col-md-12" id="consultaform" ng-if="!main.loading && !main.haymensaje"> <div id="datoprincipal" class="navbar-fixed-top"> <div ng-if="main.loading" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> </div> <div class="row"> <h2>Servicios y Consultas</h2> <h4> <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> CDC: <span style="font-weight: 100; word-break: break-word">{{main.cdc}}</span> <div id="listabotones"> <button id="boton" ng-show="main.tipodocumento == 2 || main.tipoDEcodigo == 9 || main.datos.dSisFact == 2" title="Volver a vista ticket" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.gotopestanhas()"> <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Vista ticket </button> <button id="boton" title="Nueva Consulta" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.irnueva()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Nueva consulta </button> <button id="boton" title="Imprimir todo" class="btn btn-success btn-sm pull-right hidden-xs hidden-sm" style="margin-top: 5px; margin-left: 5px" ng-click="main.imprimir()"> <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Imprimir </button> <button id="boton" title="Descargar Archivo XML" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.descargarxml()"> <span class="glyphicon glyphicon-save" aria-hidden="true"></span> Descargar XML </button> </div> </h4> </div> <div class="form-horizontal row principal"> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Timbrado N°</label> <div class="col-md-12 inputchico"> <input type="text" readonly ng-model="main.nrotimbrado" class="form-control col-md-12" id="timbrado"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label labelchico">N° de DTE</label> <div class="col-md-12 inputchico ndte-container"> <input type="text" ng-model="main.nrodocumentototal" readonly class="form-control col-md-12 ndte" id="nrodte"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Tipo de DTE</label> <div class="col-md-12 inputchico"> <input type="text" ng-value="main.tipoDE | capitalize" readonly class="form-control col-md-12" id="tipodte"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Tipo Emisión</label> <div class="col-md-12 inputchico"> <input type="text" ng-model="main.tipoperaciondetalle" readonly class="form-control col-md-12" id="tipoperaciondetalle"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Fecha y Hora de Emisión</label> <div class="col-md-12 inputchico"> <input type="datetime" ng-model="main.fechaemision" readonly class="form-control col-md-12" id="fechaemision"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Fecha y Hora de Firma Digital</label> <div class="col-md-12 inputchico"> <input type="datetime" ng-model="main.fecha" readonly class="form-control col-md-12" id="fechahorafirma"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Versión XML</label> <div class="col-md-12 inputchico"> <input type="datetime" ng-model="main.version" readonly class="form-control col-md-12" id="versionxml"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label labelchico">Serie</label> <div class="col-md-12 inputchico"> <input type="text" ng-model="main.serie" readonly class="form-control col-md-12" id="serie"> </div> </div> </div> </div> <ul class="nav nav-tabs nav-fill" id="tabs" role="tablist"> <li class="nav-item" id="navitem1" ng-class="{ active: main.isSet(1) }" ng-show="!main.esBoletaReSimple"> <a class="nav-link active" ng-class="{ active: main.isSet(1) }" ng-click="main.setTab(1)">Resumen</a> </li> <li class="nav-item" id="navitem2" ng-class="{ active: main.isSet(2) }" ng-show="!main.esBoletaReSimple"> <a class="nav-link" ng-class="{ active: main.isSet(2) }" ng-click="main.setTab(2)">Emisor</a> </li> <li class="nav-item" id="navitem3" ng-class="{ active: main.isSet(3) }" ng-show="!main.esBoletaReSimple"> <a class="nav-link" ng-class="{ active: main.isSet(3) }" ng-click="main.setTab(3)">Receptor</a> </li> <li class="nav-item" id="navitem12" ng-class="{ active: main.isSet(12) }" ng-show="main.remision"> <a class="nav-link" ng-class="{ active: main.isSet(12) }" ng-click="main.setTab(12)">Campos NRE </a> </li> <li class="nav-item" id="navitem13" ng-class="{ active: main.isSet(13) }" ng-show="main.autofactura"> <a class="nav-link" ng-class="{ active: main.isSet(13) }" ng-click="main.setTab(13)">Campos AE </a> </li> <li class="nav-item" id="navitem10" ng-show="main.gcamcond && !main.esBoletaReSimple" id="navitem" ng-class="{ active: main.isSet(10) }"> <a class="nav-link" ng-class="{ active: main.isSet(10) }" ng-click="main.setTab(10)">Datos de la Operación</a> </li> <li class="nav-item" id="navitem4" ng-class="{ active: main.isSet(4) }" ng-show="main.gdtipde[\'gCamItem\']" ng-show="!main.esBoletaReSimple"> <a class="nav-link" ng-class="{ active: main.isSet(4) }" ng-click="main.setTab(4)">Items de la Operación</a> </li> <li class="nav-item" id="navitem5" ng-class="{ active: main.isSet(5) }" ng-show="!main.esBoletaReSimple && main.totalSubtotal"> <a class="nav-link" ng-class="{ active: main.isSet(5) }" ng-click="main.setTab(5)">Totales y Subtotales</a> </li> <li class="nav-item" id="navitem6" ng-class="{ active: main.isSet(6) }" ng-show="main.rastreo" ng-show="!main.esBoletaReSimple"> <a class="nav-link" ng-class="{ active: main.isSet(6) }" ng-click="main.setTab(6)">Rastreo de Mercadería</a> </li> <li class="nav-item" id="navitem7" ng-class="{ active: main.isSet(7) }" ng-show="!main.esBoletaReSimple"> <a class="nav-link" ng-class="{ active: main.isSet(7) }" ng-click="main.setTab(7)">Documentos Asociados </a> </li> <li class="nav-item" id="navitem8" ng-class="{ active: main.isSet(8) }" ng-show="main.transporte"> <a class="nav-link" ng-class="{ active: main.isSet(8) }" ng-click="main.setTab(8)">Transporte de Mercaderías </a> </li> <li class="nav-item" id="navitem9" ng-class="{ active: main.isSet(9) }" ng-show="main.existeotros && main.camposoperacion != null"> <a class="nav-link" ng-class="{ active: main.isSet(9) }" ng-click="main.setTab(9)">Otros Grupos </a> </li> <li class="nav-item" id="navitem11" ng-class="{ active: main.isSet(11) }"> <a class="nav-link" ng-class="{ active: main.isSet(11) }" ng-click="main.setTab(11)">Eventos de Receptor </a> </li> </ul> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(1) || main.imprimirtodo"> <main-resumen></main-resumen> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(2) || main.imprimirtodo"> <main-emisor></main-emisor> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(3) || main.imprimirtodo"> <main-receptor></main-receptor> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(12) || main.imprimirtodo"> <main-camposnre></main-camposnre> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(13) || main.imprimirtodo"> <main-camposae></main-camposae> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(4) || main.imprimirtodo"> <main-items></main-items> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(5) || main.imprimirtodo"> <main-totales></main-totales> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(6) || main.imprimirtodo"> <main-rastreo></main-rastreo> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(7) || main.imprimirtodo"> <main-docs></main-docs> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(8) || main.imprimirtodo"> <main-transporte></main-transporte> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(9) || main.imprimirtodo"> <main-otros></main-otros> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(10) || main.imprimirtodo"> <main-credito></main-credito> </div> <div class="tab-page" ng-class="{noesdte: main.mensajedte}" ng-show="main.isSet(11) || main.imprimirtodo"> <main-eventosreceptor></main-eventosreceptor> </div> </div> </div> <div class="contenido" ng-show="main.vistaticket" style="margin: 0 auto" id="ticketver"> <div class="row"> <div class="col-md-12 pull-right" style="margin-bottom: 5px"> <button id="boton" title="Más información" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.gotopestanhas()"> <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Más información </button> <button id="boton" title="Nueva Consulta" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.irnueva()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Nueva Consulta </button> <button id="boton" title="Imprimir todo" class="btn btn-success btn-sm pull-right hidden-xs hidden-sm" style="margin-top: 5px; margin-left: 5px" ng-click="main.imprimir()"> <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Imprimir </button> <button id="boton" title="Descargar Archivo XML" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="main.descargarxml()"> <span class="glyphicon glyphicon-save" aria-hidden="true"></span> Descargar XML </button> </div> </div> <div class="container"> <div id="ticket"> <div class="head"> <div id="titulob2c"> <h6>Vista demostrativa de KUDE</h6> </div> <h4>{{main.nombreemisor | capitalize}}</h4> <p> RUC: {{main.rucemisor}}</p> <p ng-show="main.nombrefantasia"> {{main.nombrefantasia | capitalize}} </p> <p ng-show="main.direccionDE">{{main.direccionDE}}</p> <p ng-show="main.sucursal">{{main.sucursal | capitalize}}</p> <p ng-show="main.ciudadDE"> Ciudad: {{main.ciudadDE | capitalize}} </p> <p ng-show="main.telemisor"> Teléfono: {{main.telemisor}} </p> <p ng-show="main.emailemisor"> Email: {{main.emailemisor | lowercase}} </p> <p ng-show="main.descripcionactividad">Actividad Económica: {{ main.descripcionactividad | capitalize}}</p> </div> <div id="datos"> <div class="form-horizontal"> <fieldset> <div class="col-md-12"> <div class="form-group"> <label class="col-md-3 control-label">Timbrado</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.nrotimbrado" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">Inicio de Vigencia</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.iniciovigenciatimbrado" name="cdc" placeholder="-"> </div> </div> <div class="form-group" ng-show="main.version == \'141\'"> <label class="col-md-3 control-label">Fin de Vigencia</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.finvigenciatimbrado" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">{{main.tipoDE | capitalize}}</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.nrodocumentototal" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">Fecha y Hora de Emisión</label> <div class="col-md-9"> <input type="datetime" required readonly class="form-control col-md-8" ng-model="main.fechaemision" name="cdc" placeholder="-"> </div> </div> </div> </fieldset> </div> <div class="row items" ng-if="main.cantidaditem == 1"> <fieldset> <div class="col-md-3"> <label class="col-md-12 control-label">Cod. Art</label> <div class="col-md-12"> <input type="text" ng-model="main.codigoitem" readonly class="form-control col-md-8" id="buscador-contactos"> </div> </div> <div class="col-md-4"> <label class="col-md-12 control-label">Descripción</label> <div class="col-md-12"> <input type="text" title="{{main.descripcionproducto}}" ng-model="main.descripcionproducto" readonly class="form-control col-md-8" id="buscador-contactoss"> </div> </div> <div class="col-md-2"> <label class="col-md-12 control-label">Cantidad</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="main.cantidadproductos" class="form-control col-md-8" id="buscador-contactos45"> </div> </div> <div class="col-md-3"> <label class="col-md-12 control-label">Total</label> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-value="main.operacionxitem | formatPrice" class="form-control col-md-8" id="buscadorr-contactos"> </div> </div> </fieldset> </div> <div class="row items" ng-if="main.cantidaditem > 1"> <fieldset> <div class="col-md-3"> <label class="col-md-12 control-label">Cod Art</label> </div> <div class="col-md-4"> <label class="col-md-12 control-label">Descripción</label> </div> <div class="col-md-2"> <label class="col-md-12 control-label">Cantidad</label> </div> <div class="col-md-3"> <label class="col-md-12 control-label">Total</label> </div> <div class="grupoitems" ng-repeat="item in main.grupoitems"> <div class="col-md-3" style="margin-bottom: 2px"> <div class="col-md-12"> <input type="text" ng-model="item.dCodInt" readonly class="form-control col-md-12" id="buscador-contactos"> </div> </div> <div class="col-md-4" style="margin-bottom: 2px"> <div class="col-md-12"> <input type="text" title="{{item.dDesProSer}}" ng-model="item.dDesProSer" readonly class="form-control col-md-12" id="#buscador-contactos48"> </div> </div> <div class="col-md-2" style="margin-bottom: 2px"> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-model="item.dCantProSer" class="form-control col-md-12" id="buscador-contactos"> </div> </div> <div class="col-md-3" style="margin-bottom: 2px"> <div class="col-md-12"> <input type="text" readonly placeholder="-" ng-value="item.gValorItem.gValorRestaItem.dTotOpeItem | formatPrice" class="form-control col-md-12" id="buscador-contactos"> </div> </div> </div> </fieldset> </div> <div class="row form-horizontal"> <fieldset> <div class="col-md-12"> <div class="col-md-12" ng-show="main.totaloperacion"> <div class="form-group"> <label class="col-md-3 control-label">Total</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.totaloperacion" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.totaloperaciongs"> <div class="form-group"> <label class="col-md-3 control-label">Guaraníes</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.totaloperaciongs" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.totalgraloperacion"> <div class="form-group"> <label class="col-md-3 control-label">Total Pago</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.totalgraloperacion" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.porcentajedescuentototal"> <div class="form-group"> <label class="col-md-3 control-label">Total Descuento en Gs.</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.porcentajedescuentototal" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.totalbasegrav10"> <div class="form-group"> <label class="col-md-3 control-label">Gravadas 10%</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.totalbasegrav10" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.IVAexentas5"> <div class="form-group"> <label class="col-md-3 control-label">IVA 5%</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.IVAexentas5" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.IVAexentas10"> <div class="form-group"> <label class="col-md-3 control-label">IVA 10%</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.IVAexentas10" name="cdc" placeholder="-"> </div> </div> </div> <div class="col-md-12" ng-show="main.liquidaciontotaliva"> <div class="form-group"> <label class="col-md-3 control-label">Liquidación Total del IVA</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.liquidaciontotaliva" name="cdc" placeholder="-"> </div> </div> </div> </div> </fieldset> </div> <div class="form-horizontal"> <fieldset> <div class="form-group"> <label class="col-md-3 control-label">Nombre del Cliente</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.nombrereceptor" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">Documento de Identidad</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.cedulareceptor" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">RUC</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.rucreceptor" name="cdc" placeholder="-"> </div> </div> <div class="form-group"> <label class="col-md-3 control-label">Condición de Venta</label> <div class="col-md-9"> <input type="text" required readonly class="form-control col-md-8" ng-model="main.condicionventa" name="condicionventa" placeholder="-"> </div> </div> </fieldset> </div> </div> <div id="pieticket"> <div id="titulob2c"> <h6>CDC : {{main.cdc}}</h6> </div> <p>ESTE DOCUMENTO ES UNA REPRESENTACIÓN GRÁFICA DE UN DOCUMENTO ELECTRÓNICO (XML)</p> <p>Información de interés del facturador electrónico emisor </p> </div> </div> </div> </div> <div class="contenido" ng-show="main.vistaKUDE" style="margin: 0 auto" id="kude"> <kude></kude> </div>'),a.put("views/modal.html",'<div class="modal-header"> <h3 class="modal-title"> CDC NO EXISTE <span class="glyphicon glyphicon-exclamation-sign float-right" aria-hidden="true" style="float: right"></span> </h3> </div> <div class="modal-body"> El CDC consultado NO se encuentra en la base de datos del SIFEN. <br> Desea realizar un Evento de Receptor sobre el CDC ingresado? </div> <div class="modal-footer"> <button class="btn btn-default" type="button" ng-click="modalfunciona.close()">Cancelar</button> <button class="btn btn-success" type="button" ng-click="modalfunciona.irEventoReceptor()">Aceptar</button> </div>'),a.put("views/navbar.html",'<div class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <div class="navbar-header"> <button id="boton" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#/">consultaspublicas</a> </div> <div class="collapse navbar-collapse" id="js-navbar-collapse"> <ul class="nav navbar-nav"> <li class="active"><a href="#/">Home</a></li> <li><a ng-href="#/about">About</a></li> <li><a ng-href="#/">Contact</a></li> </ul> </div> </div> </div>'),a.put("views/principal.html",'<div ng-if="principal.loading" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> </div> <div class="row" ng-show="!principal.loading" style="margin: 0 auto; margin-top: -2px"> <div class="col-md-6"> <h2>Servicios y Consultas</h2> <form name="consultaform" class="kform form-horizontal"> <div class="form-horizontal row" style="margin-top: 10px"> <fieldset id="consultaform"> <div class="col-md-12"> <h6>Consultar por CDC</h6> <div class="form-group"> <label class="col-md-2 control-label left">Ingrese CDC</label> <div class="col-md-8"> <input type="text" class="form-control col-md-8" ng-minlength="44" ng-maxlength="44" ng-model="principal.consultaform.cdc" name="cdc" placeholder="CDC"> </div> <div class="col-md-2"> <button id="boton" ng-click="principal.guardarcdc(consultaform)" class="btn btn-success pull-right btn-sm"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Consultar </button> </div> <div class="col-md-8"> <div class="alert alert-danger" ng-show="consultaform.$submitted && consultaform.cdc.$dirty && consultaform.cdc.$invalid" role="alert"> El CDC debe tener 44 dígitos </div> <div class="alert alert-danger" ng-show="consultaform.$submitted && principal.haymensaje" role="alert"> {{principal.mensaje}} <button type="button" ng-click="principal.cerrarAlertError()" class="close" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> </div> </div> <h6>Visualizar por XML</h6> <div class="form-group"> <label class="col-md-2 control-label left">Subir XML</label> <div class="col-md-8"> <input type="file" class="custom-file-input btn" id="xml" name="xml" lang="es" accept=".xml"> </div> <div class="col-md-2"> <button id="boton" ng-click="principal.guardarxml()" class="btn btn-success pull-right btn-sm"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span>Visualizar </button> </div> <div class="col-md-8 col-md-offset-2"> <div class="alert alert-danger" ng-show="consultaform.$submitted && consultaform.xml.$dirty && consultaform.xml.$invalid" role="alert"> Ingrese un archivo XML </div> <div class="alert alert-danger" ng-show="consultaform.$submitted && principal.haymensaje2" role="alert"> {{principal.mensaje2}} <button type="button" ng-click="principal.cerrarAlertError2()" class="close" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> </div> </div> <div class="col-md-9 col-md-offset-3" style="margin-top: 10px"> <div tabindex="2" theme="clean" style="transform:scale(0.77);-webkit-transform:scale(0.77);\r\n              transform-origin:0 0;-webkit-transform-origin:0 0" vc-recaptcha key="\'6Ldcb-wrAAAAAGp5mRQLnbGW0GFsKyi71OhYDImu\'"> </div> </div> </div> </fieldset> </div> </form> </div> <div class="col-xs-12 col-md-3"> <img alt="kude" src="images/kude.c0f5794d.jpg" style="width: 100%; height: auto"> </div> <div class="col-xs-12 col-md-3"> <h6>Criterios de Consulta CDC – e-kuatia</h6> <p style="font-size: small">1. Para realizar la consulta del DTE: en el área de consulta dispuesto deben ser ingresados los 44 dígitos del Código de Control (CDC) indicados en el KuDE (Representación Gráfica de un Documento Electrónico). </p> <p style="font-size: small">2. Intentos de consulta: Antes de hacer click en el botón Consultar, el usuario debe seleccionar el cuadro “No soy un robot” del reCaptcha, luego ingresar una vez verificada las imágenes que eventualmente sean solicitadas. Esta información ayuda a evitar consultas de programas automáticos, que dificulten la utilización de aplicaciones por otros usuarios. </p> <p style="font-size: small">3. Para que la consulta funcione correctamente, es necesaria que el navegador se encuentre habilitado para almacenamientos de “cookies”. </p> </div> </div>'),a.put("views/prueba.html","<p>This is the prueba view.</p>"),
a.put("views/vistade.html",'<div class="alert alert-danger" ng-show="!vistade.loading && vistade.haymensaje"> {{vistade.mensaje}} <button class="botonalerta" ng-click="vistade.irnueva()">Vuelva a intentar</button> <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="vistade.cerrarAlertError()"> <span aria-hidden="true">&times;</span> </button> </div> <div ng-if="vistade.loading" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> </div> <div class="contenido" id="prueba"> <div class="col-md-12" id="consultaform" ng-show="!vistade.loading"> <div id="datoprincipal" class="navbar-fixed-top"> <h2>Servicios y Consultas</h2> <h4> <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> CDC: <span style="font-weight: 100; word-break: break-word">{{vistade.cdc}}</span> <div id="listabotones"> <button id="boton" ng-show="vistade.tipodocumento == 2" title="Volver a vista ticket" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="vistade.gotopestanhas()"> <span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> </button> <button id="boton" title="Nueva Consulta" class="btn btn-success btn-sm pull-right" style="margin-top: 5px; margin-left: 5px" ng-click="vistade.irnueva()"> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Nueva Consulta </button> <button id="boton" title="Imprimir todo" class="btn btn-success btn-sm pull-right hidden-xs hidden-sm" style="margin-top: 5px; margin-left: 5px" ng-click="vistade.imprimir()"> <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Imprimir </button> \x3c!--<button id="boton" title="Guardar pestaña como PDF" ng-show="!vistade.isIE" class="btn btn-success btn-sm pull-right hidden-xs hidden-sm"\r\n            style="margin-top: 5px; margin-left: 5px" ng-click="vistade.guardarpdf()"><span class="glyphicon glyphicon-save-file"\r\n              aria-hidden="true"></span></button>--\x3e \x3c!-- <button id="boton" title="Descargar Archivo XML" class="btn btn-success btn-sm pull-right"\r\n            style="margin-top: 5px; margin-left: 5px" ng-click="vistade.descargarxml()">\r\n            <span class="glyphicon glyphicon-save" aria-hidden="true"></span>\r\n            Descargar\r\n          </button> --\x3e </div> </h4> <div class="form-horizontal row principal"> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label">Timbrado N°</label> <div class="col-md-12"> <input type="text" readonly ng-model="vistade.sinvalor" class="form-control col-md-8" id="buscador-contactos51"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label">N° de DTE</label> <div class="col-md-12"> <input type="text" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos52"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label">Tipo de DTE</label> <div class="col-md-12"> <input type="text" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos53"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label">Tipo de Emisión</label> <div class="col-md-12"> <input type="text" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos54"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label">Fecha de Emisión</label> <div class="col-md-12"> <input type="datetime" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos55"> </div> </div> </div> <div class="col-md-2"> <div class="form-group"> <label class="col-md-12 control-label">Fecha y Hora de Firma Digital</label> <div class="col-md-12"> <input type="datetime" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos56"> </div> </div> </div> <div class="col-md-1"> <div class="form-group"> <label class="col-md-12 control-label">Versión XML</label> <div class="col-md-12"> <input type="datetime" ng-model="vistade.sinvalor" readonly class="form-control col-md-8" id="buscador-contactos57"> </div> </div> </div> </div> <ul class="nav nav-tabs nav-fill" id="tabs" role="tablist"> <li class="nav-item" id="navitem1" ng-class="{ active: vistade.isSet(1) }"> <a class="nav-link active" ng-class="{ active: vistade.isSet(1) }" ng-click="vistade.setTab(1)"> Eventos de Receptor </a> </li> </ul> </div> <div class="tab-page" ng-show="vistade.isSet(1) || vistade.imprimirtodo"> <div ng-if="vistade.loadingevento" class="col-md-12" style="margin: 0 auto; text-align: center"> <img alt="Brand" src="images/loading.1ad03913.gif"> Aguarde... </div> <div class="alert alert-danger" ng-if="!vistade.loadingevento && vistade.haymsjeventoerror"> <span class="glyphicon glyphicon-alert mensaje" aria-hidden="true"></span> {{vistade.mensajevento}} <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="vistade.cerrarEventoError()"> <span aria-hidden="true">&times;</span> </button> </div> <div class="alert alert-success" ng-if="!vistade.loadingevento && vistade.haymsjeventook"> <span class="glyphicon glyphicon-ok mensaje" aria-hidden="true"></span> {{vistade.mensajevento}} <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="vistade.cerrarEventoOk()"> <span aria-hidden="true">&times;</span> </button> </div> <div class="col-md-4 gestionar-evento" ng-show="!vistade.loadingevento"> <h5>Gestionar Evento</h5> <form name="formevento" class="kform form-horizontal" role="form" ng-submit="vistade.enviarevento(formevento)" novalidate> <div class="form-horizontal row" style="margin-top: 10px"> <fieldset id="formevento"> <div class="col-md-12"> <div class="form-group"> <label class="col-md-3 control-label left">Evento</label> <div class="col-md-8"> <ui-select ng-model="vistade.selected" theme="bootstrap" on-select="vistade.seleccion(vistade.selected)"> <ui-select-match placeholder="Seleccionar evento...">{{vistade.selected.evento}}</ui-select-match> <ui-select-choices repeat="item in vistade.listaeventos"> <div ng-bind-html="item.evento"></div> </ui-select-choices> </ui-select> </div> </div> </div> <div class="col-md-12"> <div class="form-group" ng-show="vistade.desconocimiento || vistade.notificacion"> <label class="col-md-3 control-label left">Fecha de Emisión*</label> \x3c!--<div class="col-md-8">\r\n                            <input name="fecha" ng-required="vistade.desconocimiento || vistade.notificacion" moment-picker="vistade.fechaemision" ng-model="vistade.fechaemision" locale="es" \r\n                            format="DD/MM/YYYY HH:mm" start-view="month" min-date="vistade.minDate" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }">\r\n                        </div>--\x3e <div class="input-group col-md-8" moment-picker="vistade.fechaemision" format="DD/MM/YYYY" start-view="month" locale="es" min-date="vistade.minDate"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> </span> <input class="form-control" name="fechaEmision" id="fechaEmision" ng-required="vistade.desconocimiento || vistade.notificacion" ng-model="vistade.fechaemision" locale="es" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }" ng-blur="vistade.validarCampo(formevento, \'fechaEmision\')" autocomplete="off"> </div> <span class="error" ng-show="vistade.formControl.fechaEmision"> Fecha de Emisión no informado </span> </div> <div class="form-group" ng-show="vistade.desconocimiento || vistade.notificacion"> <label class="col-md-3 control-label left">Fecha de Recepción de Documento*</label> <div class="input-group col-md-8" moment-picker="vistade.rightnow" format="DD/MM/YYYY" start-view="month" locale="es"> <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> </span> <input name="fechaRecepcion" ng-required="vistade.desconocimiento || vistade.notificacion" ng-model="vistade.rightnow" locale="es" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }" id="fechaRecepcion" ng-blur="vistade.validarCampo(formevento, \'fechaRecepcion\')" autocomplete="off"> </div> <span class="error" ng-show="vistade.formControl.fechaRecepcion"> Fecha de Recepción de Documento no informado </span> </div> <div class="form-group" ng-show="vistade.desconocimiento || vistade.notificacion"> <label class="col-md-3 control-label left">Tipo de Receptor</label> <div class="col-md-8"> <ui-select ng-model="vistade.selectedcon" theme="bootstrap" on-select="vistade.seleccion2(vistade.selectedcon)"> <ui-select-match placeholder="Seleccionar Contribuyente...">{{vistade.selectedcon.tipo}} </ui-select-match> <ui-select-choices repeat="item in vistade.tipocontribuyentes"> <div ng-bind-html="item.tipo"></div> </ui-select-choices> </ui-select> </div> \x3c!-- <span class="error" ng-show="vistade.formControl.fecha">\r\n                    Tipo de Receptor no informado\r\n                  </span> --\x3e </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.nocontri || vistade.notificacion && vistade.nocontri"> <label class="col-md-3 control-label left">Nombre o Razón Social*</label> <div class="col-md-8"> <input type="text" ng-required="vistade.desconocimiento && vistade.nocontri || vistade.notificacion && vistade.nocontri" class="form-control col-md-8" ng-model="vistade.nombrenocontri" name="nombrenocontri" id="nombrenocontri" placeholder="" ng-blur="vistade.validarNombre(formevento, \'nombrenocontri\')" ng-maxlength="60"> </div> <span class="error" ng-show="vistade.formControl.nombrenocontri"> {{vistade.msjnombre}} </span> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri"> <label class="col-md-3 control-label left">Nombre o Razón Social*</label> <div class="col-md-8"> <input type="text" ng-required="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri" class="form-control col-md-8" ng-model="vistade.nombrecontri" name="nombrecontri" id="nombrecontri" placeholder="" ng-blur="vistade.validarNombre(formevento, \'nombrecontri\')" ng-maxlength="60"> </div> <span class="error" ng-show="vistade.formControl.nombrecontri"> {{vistade.msjnombre}} </span> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.nocontri || vistade.notificacion && vistade.nocontri"> <label class="col-md-3 control-label left">Tipo de Documento de Identidad*</label> <div class="col-md-8"> <ui-select id="tipodoc" ui-select-required name="tipodoc" ng-model="vistade.selecteddoc" theme="bootstrap" on-select="vistade.seleccion3(vistade.selecteddoc)" ng-class="{bordeerror: vistade.nocontri && !vistade.selecteddoc && formevento.$submitted}"> <ui-select-match placeholder="Seleccionar Tipo de Documento...">{{vistade.selecteddoc.tipodoc}} </ui-select-match> <ui-select-choices repeat="item in vistade.tipodocumentos"> <div ng-bind-html="item.tipodoc"></div> </ui-select-choices> </ui-select> <span class="error" ng-show="vistade.formControl.tipodoc"> Tipo de documento de identidad del receptor no informado </span> </div> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri"> <label class="col-md-3 control-label left">RUC del Receptor* </label> <div class="col-md-8"> <input ng-minlength="4" name="rucrec" ng-maxlength="8" ng-required="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri" type="text" placeholder="" ng-model="vistade.ruc" class="form-control col-md-8" id="rucrec" ng-blur="vistade.validarCampo(formevento, \'rucrec\')"> <span class="error" ng-show="vistade.formControl.rucrec"> Ruc del Receptor no informado </span> </div> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.nocontri || vistade.notificacion && vistade.nocontri"> <label class="col-md-3 control-label left">N° de Documento de Identidad* </label> <div class="col-md-8"> <input ng-maxlength="20" ng-required="vistade.desconocimiento && vistade.nocontri || vistade.notificacion && vistade.nocontri" type="text" placeholder="" ng-model="vistade.docnocontri" class="form-control col-md-8" id="docnocontri" name="docnocontri" ng-blur="vistade.validarCampo(formevento, \'docnocontri\')"> \x3c!-- ng-blur="vistade.getTipoReceptor()" --\x3e <span class="error" ng-show="vistade.formControl.docnocontri"> Número de documento de identidad no informado </span> </div> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri"> <label class="col-md-3 control-label left">Dígito Verificador del RUC* </label> <div class="col-md-8"> <input name="digitoruc" ng-required="vistade.desconocimiento && vistade.contri || vistade.notificacion && vistade.contri" type="number" placeholder="" min="0" max="9" ng-model="vistade.digitoruc" class="form-control col-md-8" id="digitoruc" ng-blur="vistade.validarCampo(formevento, \'digitoruc\')"> </div> <span class="error" ng-show="vistade.formControl.digitoruc"> Dígito verificador del RUC del contribuyente receptor no informado. Debe estar entre 0 y 9 </span> </div> <div class="form-group" ng-show="vistade.notificacion"> <label class="col-md-3 control-label left">Total general de la operación en Guaranies* </label> <div class="col-md-8"> <input name="totalGeneral" ng-required="vistade.notificacion" type="number" min="1" placeholder="Total general de la operación en Guaranies" ng-model="vistade.totalGeneral" class="form-control col-md-8 totalOperacionGS" id="totalGeneral" ng-blur="vistade.validarCampo(formevento, \'totalGeneral\')"> </div><br><br> <span class="error" ng-show="vistade.formControl.totalGeneral"> Total general no infortmado. Debe ser mayor a 0 </span> </div> <div class="form-group" ng-show="vistade.desconocimiento && vistade.nocontri || vistade.desconocimiento && vistade.contri "> <label class="col-md-3 control-label left">Motivo del Evento*</label> <div class="col-md-8"> <textarea ng-required="vistade.desconocimiento" maxlength="496" minlength="1" ng-model="vistade.motivoevento" name="motivodes" class="form-control" id="motivodes" rows="4" ng-blur="vistade.validarCampo(formevento, \'motivodes\')">\r\n                    </textarea> </div> <p class="char-count">{{vistade.motivoevento.length || 0}}/496</p> <span class="error" ng-show="vistade.formControl.motivodes"> Motivo del Evento no informado </span> </div> <div class="form-group" ng-show="vistade.conformidad"> <h6>Tipo de Conformidad</h6> <div class="col-md-12"> <label class="col-md-5 radio-inline"> <input type="radio" name="optradio" ng-click="vistade.conforcheck(\'total\')"> Conformidad Total del DTE* </label> <label class="col-md-6 radio-inline"> <input type="radio" name="optradio" ng-click="vistade.conforcheck(\'parcial\')"> Conformidad Parcial del DTE </label> </div> </div> <div class="form-group" ng-show="vistade.conformidad && vistade.mostrarfechaconfor"> <label class="col-md-3 control-label left"> Fecha estimada de recepción de mercadería* </label> <div class="col-md-8"> <input ng-required="vistade.conformidad && vistade.mostrarfechaconfor" moment-picker="vistade.rightnow" ng-model="vistade.rightnow" locale="es" format="DD/MM/YYYY HH:mm" start-view="month" placeholder="Selecciona fecha" ng-model-options="{ updateOn: \'blur\' }" name="fecha2"> </div> </div> </div> </fieldset> </div> <div class="col-md-12" ng-show="vistade.enviar"> \x3c!-- <div class="alert alert-info" ng-show="vistade.receptorContribuyenteNoElectronico == \'SI\'">\r\n              <span class="glyphicon glyphicon-info-sign mensaje" aria-hidden="true">\r\n              </span>Sr. Contribuyente, usted deberá registrar el evento del receptor mediante la herramienta que será\r\n              disponibilizada en el Sistema Marangatu\r\n              <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n                <span aria-hidden="true">&times;</span>\r\n              </button>\r\n            </div> --\x3e <button id="boton" type="submit" class="btn btn-success pull-right btn-sm"> <span class="glyphicon glyphicon-send" aria-hidden="true"></span> Enviar </button> </div> </form> </div> </div> <div class="col-md-8" ng-show="!vistade.loadingevento"> <h5>Eventos realizados</h5> <div class="alert alert-info" ng-show="!vistade.eventos"> No hay registros de eventos </div> <table ng-show="vistade.eventos" class="table table-bordered table-responsive table-hover table-striped"> <thead> <tr> <th scope="col" colspan="1">N° de Transacción</th> <th scope="col" colspan="2">Fecha </th> <th scope="col" colspan="2" style="width:20%">Tipo</th> <th scope="col" colspan="3" style="width:50%">Motivo</th> </tr> </thead> <tbody> <tr ng-repeat="eventoreceptor in vistade.eventosreceptor"> <td colspan="1">{{$index + 1}} </td><td colspan="2">{{eventoreceptor.dFecProc}}</td> <td colspan="2">{{eventoreceptor.dTiGDE}}</td> <td colspan="3">{{eventoreceptor.motivoEvento | hasSomeValue : \'-\'}}</td> </tr> </tbody> </table> </div> </div> </div>')}]);