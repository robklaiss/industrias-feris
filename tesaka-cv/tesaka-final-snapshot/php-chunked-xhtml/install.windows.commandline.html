    <!DOCTYPE HTML>
    <html>
     <head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <style>
        .navbar__local {
          flex-grow: 1;
          display: grid;
          grid-auto-flow: column;
          grid-auto-columns: 1fr min-content 1fr;
          margin: 0;
          height: 100%;
          
          .navbar__item {
            align-content: center;
          }
          .navbar__link {
            display: inline;
          }
          .search {
            text-align: center;
          }
          .next {
            text-align: right;
          }
        }
      </style>
      <title>Running PHP on the command line on Windows systems</title>
      <link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

     </head>
     <body class="docs">    <div class="navbar navbar-fixed-top">
      <div class="navbar__inner clearfix">
          <ul class="navbar__local">
            <li class="navbar__item prev"><a href="install.windows.building.html" class="navbar__link">« Building from source</a></li>
            <li class="navbar__item search">
              <!-- Desktop encanced search -->
              <button
                id="navbar__search-button"
                class="navbar__search-button"
                hidden
              >
                    <svg
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
        width="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
    >
    <circle cx="11" cy="11" r="8"></circle>
    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
                Search
              </button>
            </li>
            <li class="navbar__item next"><a href="install.cloud.html" class="navbar__link">Installation on Cloud Computing platforms »</a></li>
          </ul>
      </div>
    </div>    <div id="breadcrumbs" class="clearfix">
      <ul class="breadcrumbs-container">
        <li><a href="index.html">PHP Manual</a></li>
        <li><a href="install.windows.html">Installation on Windows systems</a></li>
        <li>Running PHP on the command line on Windows systems</li>
      </ul>
    </div>    <div id="layout">
      <div id="layout-content"><div id="install.windows.commandline" class="sect1">
 <h2 class="title">Running PHP on the command line on Windows systems</h2>
 <p class="para">
  This section contains notes and hints specific to getting PHP running
  from the command line for Windows.
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Read the <a href="install.windows.manual.html" class="link">manual
   installation steps</a> first!
  </p>
 </p></blockquote>
 <p class="para">
  Getting PHP to run from the command line can be performed without making
  any changes to Windows.
  <div class="example-contents screen">
<div class="cdata"><pre>
C:\php\php.exe -f &quot;C:\PHP Scripts\script.php&quot; -- -arg1 -arg2 -arg3
</pre></div>     
  </div>
 </p>

 <p class="para">
  But there are some easy steps that can be followed to make this simpler.
  Some of these steps should already have been taken, but are repeated here
  to be able to provide a complete step-by-step sequence.

  <ul class="itemizedlist">
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Both <var class="envar">PATH</var> and <var class="envar">PATHEXT</var> are important
     pre-existing system variables in Windows,
     and care should be taken to not overwrite either variable,
     only to add to them.
    </p>
   </p></blockquote>

   <li class="listitem">
    <p class="para">
     Append the location of the PHP executable (<var class="filename">php.exe</var>,
     <var class="filename">php-win.exe</var> or <var class="filename">php-cli.exe</var>
     depending upon the PHP version and display preferences) to the
     <var class="envar">PATH</var> environment variable. Read more about how to
     add the appropriate directory to <var class="envar">PATH</var> in the <a href="faq.installation.html#faq.installation.addtopath" class="link">corresponding FAQ entry</a>.
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     Append the <code class="literal">.PHP</code> extension to the
     <var class="varname">PATHEXT</var> environment variable. This can be done
     at the same time as amending the <var class="envar">PATH</var> environment
     variable. Follow the same steps as described in the <a href="faq.installation.html#faq.installation.addtopath" class="link">FAQ</a> but amend the
     <var class="varname">PATHEXT</var> environment variable rather than the
     <var class="envar">PATH</var> environment variable.
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       The position in which the <code class="literal">.PHP</code> is placed will
       determine which script or program is executed when there are matching
       filenames. For example, placing <code class="literal">.PHP</code> before
       <code class="literal">.BAT</code> will cause the script to run, rather than
       the batch file, if there is a batch file with the same name.
      </p>
     </p></blockquote>
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     Associate the <code class="literal">.PHP</code> extension with a file type. This
     is done by running the following command:
     <div class="example-contents screen">
<div class="cdata"><pre>
assoc .php=phpfile
</pre></div>     
     </div>
    </p>
   </li>

   <li class="listitem">
    <p class="para">
     Associate the <code class="literal">phpfile</code> file type with the appropriate
     PHP executable. This is done by running the following command:
     <div class="example-contents screen">
<div class="cdata"><pre>
ftype phpfile=&quot;C:\php\php.exe&quot; -f &quot;%1&quot; -- %~2
</pre></div>     
     </div>
    </p>
   </li>

  </ul>
 </p>

 <p class="para">
  Following these steps will allow PHP scripts to be run from any directory
  without the need to type the PHP executable or the <code class="literal">.PHP</code>
  extension and all parameters will be supplied to the script for processing.
 </p>

 <p class="para">
  The example below details some of the registry changes that can be made manually.
  <div class="example" id="example-1">
   <p><strong>Example #1 Registry changes</strong></p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\.php]
@=&quot;phpfile&quot;
&quot;Content Type&quot;=&quot;application/php&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile]
@=&quot;PHP Script&quot;
&quot;EditFlags&quot;=dword:00000000
&quot;BrowserFlags&quot;=dword:00000008
&quot;AlwaysShowExt&quot;=&quot;&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\DefaultIcon]
@=&quot;C:\\php\\php-win.exe,0&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell]
@=&quot;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open]
@=&quot;&amp;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open\command]
@=&quot;\&quot;C:\\php\\php.exe\&quot; -f \&quot;%1\&quot; -- %~2&quot;
</pre></div>
   </div>
  </div>
 </p>

 <p class="para">
  With these changes the same command can be written as:
  <div class="example-contents screen">
<div class="cdata"><pre>
&quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
  </div>
  or, if the <code class="literal">&quot;C:\PHP Scripts&quot;</code> directory is in the
  <var class="envar">PATH</var> environment variable:
  <div class="example-contents screen">
<div class="cdata"><pre>
script -arg1 -arg2 -arg3
</pre></div>
  </div>
 </p>

 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   There is a small problem when intending to use this technique to run
   PHP scripts as a command line filter, like the example below:
   <div class="example-contents screen">
<div class="cdata"><pre>
dir | &quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
   </div>
   or
   <div class="example-contents screen">
<div class="cdata"><pre>
dir | script -arg1 -arg2 -arg3
</pre></div>
   </div>
   The script may simply hang and nothing is output.
   To get this operational, another registry change needs to be made:
   <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\policies\Explorer]
&quot;InheritConsoleHandles&quot;=dword:00000001
</pre></div>
   </div>
   Further information regarding this issue can be found in this <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;321788" class="link external">&raquo;&nbsp;Microsoft
   Knowledgebase Article : 321788</a>.
   As of Windows 10, this setting seems to be reversed, making the default install of
   Windows 10 support inherited console handles automatically. This <a href="https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console?forum=windowssdk" class="link external">&raquo;&nbsp;
   Microsoft forum post</a> provides the explanation.
  </p>
 </p></blockquote>
</div></div></div><script type="text/javascript" src="search-combined.js"></script><script type="text/javascript" src="js/67ae199ee27cc87120cab9ba49d1b776-FuzzySearch.min.js"></script><script type="text/javascript" src="js/f5555778cd757f2cb49676062898832b-search.js"></script>    <div id="search-modal__backdrop" class="search-modal__backdrop">
      <div
        role="dialog"
        aria-label="Search modal"
        id="search-modal"
        class="search-modal"
      >
        <div class="search-modal__header">
          <div class="search-modal__form">
            <div class="search-modal__input-icon">
              <!-- https://feathericons.com search -->
              <svg xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                width="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </div>
            <input
              type="search"
              id="search-modal__input"
              class="search-modal__input"
              placeholder="Search docs"
              aria-label="Search docs"
            />
          </div>
    
          <button aria-label="Close" class="search-modal__close">
            <!-- https://pictogrammers.com/library/mdi/icon/close/ -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              width="24"
              viewBox="0 0 24 24"
            >
              <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
            </svg>
          </button>
        </div>
        <div
          role="listbox"
          aria-label="Search results"
          id="search-modal__results"
          class="search-modal__results"
        ></div>
        <div class="search-modal__helper-text">
          <div>
            <kbd>↑</kbd> and <kbd>↓</kbd> to navigate •
            <kbd>Enter</kbd> to select •
            <kbd>Esc</kbd> to close • <kbd>/</kbd> to open
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            /*{{{Search Modal*/
            const language = 'local';
            initSearchModal();
            initPHPSearch(language).then((searchCallback) => {
                initSearchUI({language, searchCallback, limit: 30});
            });
            /*}}}*/
        });
    </script></body></html>