    <!DOCTYPE HTML>
    <html>
     <head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <style>
        .navbar__local {
          flex-grow: 1;
          display: grid;
          grid-auto-flow: column;
          grid-auto-columns: 1fr min-content 1fr;
          margin: 0;
          height: 100%;
          
          .navbar__item {
            align-content: center;
          }
          .navbar__link {
            display: inline;
          }
          .search {
            text-align: center;
          }
          .next {
            text-align: right;
          }
        }
      </style>
      <title>Subpatterns</title>
      <link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

     </head>
     <body class="docs">    <div class="navbar navbar-fixed-top">
      <div class="navbar__inner clearfix">
          <ul class="navbar__local">
            <li class="navbar__item prev"><a href="regexp.reference.internal-options.html" class="navbar__link">« Internal option setting</a></li>
            <li class="navbar__item search">
              <!-- Desktop encanced search -->
              <button
                id="navbar__search-button"
                class="navbar__search-button"
                hidden
              >
                    <svg
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
        width="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
    >
    <circle cx="11" cy="11" r="8"></circle>
    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
                Search
              </button>
            </li>
            <li class="navbar__item next"><a href="regexp.reference.repetition.html" class="navbar__link">Repetition »</a></li>
          </ul>
      </div>
    </div>    <div id="breadcrumbs" class="clearfix">
      <ul class="breadcrumbs-container">
        <li><a href="index.html">PHP Manual</a></li>
        <li><a href="reference.pcre.pattern.syntax.html">PCRE regex syntax</a></li>
        <li>Subpatterns</li>
      </ul>
    </div>    <div id="layout">
      <div id="layout-content"><div id="regexp.reference.subpatterns" class="section">
  <h2 class="title">Subpatterns</h2>
  <p class="para">
   Subpatterns are delimited by parentheses (round brackets),
   which can be nested. Marking part of a pattern as a subpattern
   does two things:
  </p>
  <ol type="1">
   <li class="listitem">
    <p class="para">
     It localizes a set of alternatives. For example, the pattern
     <code class="literal">cat(aract|erpillar|)</code> matches one of the words &quot;cat&quot;,
     &quot;cataract&quot;, or &quot;caterpillar&quot;. Without the parentheses, it would match
     &quot;cataract&quot;, &quot;erpillar&quot; or the empty string.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     It sets up the subpattern as a capturing subpattern (as defined above).
     When the whole pattern matches, that portion of the subject string
     that matched the subpattern is passed back to the caller via the
     <em>ovector</em> argument of <span class="function"><strong>pcre_exec()</strong></span>.
     Opening parentheses are counted from left to right (starting from 1) to
     obtain the numbers of the capturing subpatterns.
    </p>
   </li>
  </ol>
  <p class="para">
   For example, if the string &quot;the red king&quot; is matched against
   the pattern

   <code class="literal">the ((red|white) (king|queen))</code>

   the captured substrings are &quot;red king&quot;, &quot;red&quot;, and &quot;king&quot;,
   and are numbered 1, 2, and 3.
  </p>
  <p class="para">
   The fact that plain parentheses fulfill two functions is not
   always helpful. There are often times when a grouping subpattern
   is required without a capturing requirement. If an
   opening parenthesis is followed by &quot;?:&quot;, the subpattern does
   not do any capturing, and is not counted when computing the
   number of any subsequent capturing subpatterns. For example,
   if the string &quot;the white queen&quot; is matched against the
   pattern

   <code class="literal">the ((?:red|white) (king|queen))</code>

   the captured substrings are &quot;white queen&quot; and &quot;queen&quot;, and
   are numbered 1 and 2. The maximum number of captured substrings
   is 65535. It may not be possible to compile such large patterns,
   however, depending on the configuration options of libpcre.
  </p>
  <p class="para">
   As a convenient shorthand, if any option settings are
   required at the start of a non-capturing subpattern, the
   option letters may appear between the &quot;?&quot; and the &quot;:&quot;. Thus
   the two patterns
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="annotation-interactive cdata"><pre>
(?i:saturday|sunday)
(?:(?i)saturday|sunday)
</pre></div>
   </div>

  </div>

  <p class="para">
   match exactly the same set of strings. Because alternative
   branches are tried from left to right, and options are not
   reset until the end of the subpattern is reached, an option
   setting in one branch does affect subsequent branches, so
   the above patterns match &quot;SUNDAY&quot; as well as &quot;Saturday&quot;.
  </p>

  <p class="para">
   It is possible to name a subpattern using the syntax
   <code class="literal">(?P&lt;name&gt;pattern)</code>. This subpattern will then
   be indexed in the matches array by its normal numeric position and
   also by name. There are two alternative syntaxes
   <code class="literal">(?&lt;name&gt;pattern)</code> and <code class="literal">(?&#039;name&#039;pattern)</code>.
  </p>

  <p class="para">
   Sometimes it is necessary to have multiple matching, but alternating
   subgroups in a regular expression. Normally, each of these would be given
   their own backreference number even though only one of them would ever
   possibly match. To overcome this, the <code class="literal">(?|</code> syntax allows
   having duplicate numbers. Consider the following regex matched against the
   string <code class="literal">Sunday</code>:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="annotation-interactive cdata"><pre>(?:(Sat)ur|(Sun))day</pre></div>
   </div>

  </div>

  <p class="para">
   Here <code class="literal">Sun</code> is stored in backreference 2, while
   backreference 1 is empty. Matching <code class="literal">Saturday</code> yields
   <code class="literal">Sat</code> in backreference 1 while backreference 2 does
   not exist. Changing the pattern to use the <code class="literal">(?|</code> fixes
   this problem:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="annotation-interactive cdata"><pre>(?|(Sat)ur|(Sun))day</pre></div>
   </div>

  </div>

  <p class="para">
   Using this pattern, both <code class="literal">Sun</code> and <code class="literal">Sat</code>
   would be stored in backreference 1.
  </p>
 </div></div></div><script type="text/javascript" src="search-combined.js"></script><script type="text/javascript" src="js/67ae199ee27cc87120cab9ba49d1b776-FuzzySearch.min.js"></script><script type="text/javascript" src="js/f5555778cd757f2cb49676062898832b-search.js"></script>    <div id="search-modal__backdrop" class="search-modal__backdrop">
      <div
        role="dialog"
        aria-label="Search modal"
        id="search-modal"
        class="search-modal"
      >
        <div class="search-modal__header">
          <div class="search-modal__form">
            <div class="search-modal__input-icon">
              <!-- https://feathericons.com search -->
              <svg xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                width="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
              </svg>
            </div>
            <input
              type="search"
              id="search-modal__input"
              class="search-modal__input"
              placeholder="Search docs"
              aria-label="Search docs"
            />
          </div>
    
          <button aria-label="Close" class="search-modal__close">
            <!-- https://pictogrammers.com/library/mdi/icon/close/ -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              width="24"
              viewBox="0 0 24 24"
            >
              <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
            </svg>
          </button>
        </div>
        <div
          role="listbox"
          aria-label="Search results"
          id="search-modal__results"
          class="search-modal__results"
        ></div>
        <div class="search-modal__helper-text">
          <div>
            <kbd>↑</kbd> and <kbd>↓</kbd> to navigate •
            <kbd>Enter</kbd> to select •
            <kbd>Esc</kbd> to close • <kbd>/</kbd> to open
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", function() {
            /*{{{Search Modal*/
            const language = 'local';
            initSearchModal();
            initPHPSearch(language).then((searchCallback) => {
                initSearchUI({language, searchCallback, limit: 30});
            });
            /*}}}*/
        });
    </script></body></html>